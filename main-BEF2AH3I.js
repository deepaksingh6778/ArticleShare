var cN=Object.create;var Cu=Object.defineProperty,uN=Object.defineProperties,dN=Object.getOwnPropertyDescriptor,fN=Object.getOwnPropertyDescriptors,hN=Object.getOwnPropertyNames,wu=Object.getOwnPropertySymbols,pN=Object.getPrototypeOf,em=Object.prototype.hasOwnProperty,AE=Object.prototype.propertyIsEnumerable;var mN=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var xE=(t,e,n)=>e in t?Cu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})em.call(e,n)&&xE(t,n,e[n]);if(wu)for(var n of wu(e))AE.call(e,n)&&xE(t,n,e[n]);return t},W=(t,e)=>uN(t,fN(e));var tm=(t,e)=>{var n={};for(var r in t)em.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wu)for(var r of wu(t))e.indexOf(r)<0&&AE.call(t,r)&&(n[r]=t[r]);return n};var bi=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),gN=(t,e)=>{for(var n in e)Cu(t,n,{get:e[n],enumerable:!0})},yN=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of hN(e))!em.call(t,i)&&i!==n&&Cu(t,i,{get:()=>e[i],enumerable:!(r=dN(e,i))||r.enumerable});return t};var an=(t,e,n)=>(n=t!=null?cN(pN(t)):{},yN(e||!t||!t.__esModule?Cu(n,"default",{value:t,enumerable:!0}):n,t));var A=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(c){i(c)}},s=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())}),Du=function(t,e){this[0]=t,this[1]=e},ME=(t,e,n)=>{var r=(s,a,l,c)=>{try{var u=n[s](a),d=(a=u.value)instanceof Du,h=u.done;Promise.resolve(d?a[0]:a).then(f=>d?r(s==="return"?s:"next",a[1]?{done:f.done,value:f.value}:f,l,c):l({value:f,done:h})).catch(f=>r("throw",f,l,c))}catch(f){c(f)}},i=s=>o[s]=a=>new Promise((l,c)=>r(s,a,l,c)),o={};return n=n.apply(t,e),o[mN("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o};var T1=bi((cye,S1)=>{"use strict";var mn=-1,qt=1,mt=0;function Xc(t,e,n,r,i){if(t===e)return t?[[mt,t]]:[];if(n!=null){var o=H5(t,e,n);if(o)return o}var s=Qb(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=ip(t,e);var l=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var c=R5(t,e);return a&&c.unshift([mt,a]),l&&c.push([mt,l]),Xb(c,i),r&&F5(c),c}function R5(t,e){var n;if(!t)return[[qt,e]];if(!e)return[[mn,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[qt,r.substring(0,o)],[mt,i],[qt,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=mn),n;if(i.length===1)return[[mn,t],[qt,e]];var s=L5(t,e);if(s){var a=s[0],l=s[1],c=s[2],u=s[3],d=s[4],h=Xc(a,c),f=Xc(l,u);return h.concat([[mt,d]],f)}return P5(t,e)}function P5(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),c=0;c<s;c++)a[c]=-1,l[c]=-1;a[o+1]=0,l[o+1]=0;for(var u=n-r,d=u%2!==0,h=0,f=0,p=0,m=0,v=0;v<i;v++){for(var g=-v+h;g<=v-f;g+=2){var E=o+g,_;g===-v||g!==v&&a[E-1]<a[E+1]?_=a[E+1]:_=a[E-1]+1;for(var I=_-g;_<n&&I<r&&t.charAt(_)===e.charAt(I);)_++,I++;if(a[E]=_,_>n)f+=2;else if(I>r)h+=2;else if(d){var V=o+u-g;if(V>=0&&V<s&&l[V]!==-1){var Y=n-l[V];if(_>=Y)return y1(t,e,_,I)}}}for(var ie=-v+p;ie<=v-m;ie+=2){var V=o+ie,Y;ie===-v||ie!==v&&l[V-1]<l[V+1]?Y=l[V+1]:Y=l[V-1]+1;for(var P=Y-ie;Y<n&&P<r&&t.charAt(n-Y-1)===e.charAt(r-P-1);)Y++,P++;if(l[V]=Y,Y>n)m+=2;else if(P>r)p+=2;else if(!d){var E=o+u-ie;if(E>=0&&E<s&&a[E]!==-1){var _=a[E],I=o+_-E;if(Y=n-Y,_>=Y)return y1(t,e,_,I)}}}}return[[mn,t],[qt,e]]}function y1(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=Xc(i,o),c=Xc(s,a);return l.concat(c)}function Qb(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return w1(t.charCodeAt(i-1))&&i--,i}function v1(t,e){var n=t.length,r=e.length;if(n==0||r==0)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),l=e.indexOf(a);if(l==-1)return o;s+=l,(l==0||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}}function ip(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return C1(t.charCodeAt(t.length-i))&&i--,i}function L5(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(f,p,m){for(var v=f.substring(m,m+Math.floor(f.length/4)),g=-1,E="",_,I,V,Y;(g=p.indexOf(v,g+1))!==-1;){var ie=Qb(f.substring(m),p.substring(g)),P=ip(f.substring(0,m),p.substring(0,g));E.length<P+ie&&(E=p.substring(g-P,g)+p.substring(g,g+ie),_=f.substring(0,m-P),I=f.substring(m+ie),V=p.substring(0,g-P),Y=p.substring(g+ie))}return E.length*2>=f.length?[_,I,V,Y,E]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,c,u,d;t.length>e.length?(l=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],c=a[3]);var h=a[4];return[l,c,u,d,h]}function F5(t){for(var e=!1,n=[],r=0,i=null,o=0,s=0,a=0,l=0,c=0;o<t.length;)t[o][0]==mt?(n[r++]=o,s=l,a=c,l=0,c=0,i=t[o][1]):(t[o][0]==qt?l+=t[o][1].length:c+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(l,c)&&(t.splice(n[r-1],0,[mn,i]),t[n[r-1]+1][0]=qt,r--,r--,o=r>0?n[r-1]:-1,s=0,a=0,l=0,c=0,i=null,e=!0)),o++;for(e&&Xb(t),B5(t),o=1;o<t.length;){if(t[o-1][0]==mn&&t[o][0]==qt){var u=t[o-1][1],d=t[o][1],h=v1(u,d),f=v1(d,u);h>=f?(h>=u.length/2||h>=d.length/2)&&(t.splice(o,0,[mt,d.substring(0,h)]),t[o-1][1]=u.substring(0,u.length-h),t[o+1][1]=d.substring(h),o++):(f>=u.length/2||f>=d.length/2)&&(t.splice(o,0,[mt,u.substring(0,f)]),t[o-1][0]=qt,t[o-1][1]=d.substring(0,d.length-f),t[o+1][0]=mn,t[o+1][1]=u.substring(f),o++),o++}o++}}var b1=/[^a-zA-Z0-9]/,E1=/\s/,_1=/[\r\n]/,j5=/\n\r?\n$/,V5=/^\r?\n\r?\n/;function B5(t){function e(f,p){if(!f||!p)return 6;var m=f.charAt(f.length-1),v=p.charAt(0),g=m.match(b1),E=v.match(b1),_=g&&m.match(E1),I=E&&v.match(E1),V=_&&m.match(_1),Y=I&&v.match(_1),ie=V&&f.match(j5),P=Y&&p.match(V5);return ie||P?5:V||Y?4:g&&!_&&I?3:_||I?2:g||E?1:0}for(var n=1;n<t.length-1;){if(t[n-1][0]==mt&&t[n+1][0]==mt){var r=t[n-1][1],i=t[n][1],o=t[n+1][1],s=ip(r,i);if(s){var a=i.substring(i.length-s);r=r.substring(0,r.length-s),i=a+i.substring(0,i.length-s),o=a+o}for(var l=r,c=i,u=o,d=e(r,i)+e(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=e(r,i)+e(i,o);h>=d&&(d=h,l=r,c=i,u=o)}t[n-1][1]!=l&&(l?t[n-1][1]=l:(t.splice(n-1,1),n--),t[n][1]=c,u?t[n+1][1]=u:(t.splice(n+1,1),n--))}n++}}function Xb(t,e){t.push([mt,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case qt:i++,s+=t[n][1],n++;break;case mn:r++,o+=t[n][1],n++;break;case mt:var l=n-i-r-1;if(e){if(l>=0&&I1(t[l][1])){var c=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=c+o,s=c+s,!t[l][1]){t.splice(l,1),n--;var u=l-1;t[u]&&t[u][0]===qt&&(i++,s=t[u][1]+s,u--),t[u]&&t[u][0]===mn&&(r++,o=t[u][1]+o,u--),l=u}}if(D1(t[n][1])){var c=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=c,s+=c}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=Qb(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[mt,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=ip(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var d=i+r;o.length===0&&s.length===0?(t.splice(n-d,d),n=n-d):o.length===0?(t.splice(n-d,d,[qt,s]),n=n-d+1):s.length===0?(t.splice(n-d,d,[mn,o]),n=n-d+1):(t.splice(n-d,d,[mn,o],[qt,s]),n=n-d+2)}n!==0&&t[n-1][0]===mt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var h=!1;for(n=1;n<t.length-1;)t[n-1][0]===mt&&t[n+1][0]===mt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),h=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),h=!0)),n++;h&&Xb(t,e)}function w1(t){return t>=55296&&t<=56319}function C1(t){return t>=56320&&t<=57343}function D1(t){return C1(t.charCodeAt(0))}function I1(t){return w1(t.charCodeAt(t.length-1))}function U5(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Yb(t,e,n,r){return I1(t)||D1(r)?null:U5([[mt,t],[mn,e],[qt,n],[mt,r]])}function H5(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),c=t.slice(a),u=i?i.index:null;e:{var d=a+s-o;if(u!==null&&u!==d||d<0||d>s)break e;var h=e.slice(0,d),f=e.slice(d);if(f!==c)break e;var p=Math.min(a,d),m=l.slice(0,p),v=h.slice(0,p);if(m!==v)break e;var g=l.slice(p),E=h.slice(p);return Yb(m,g,E,c)}e:{if(u!==null&&u!==a)break e;var _=a,h=e.slice(0,_),f=e.slice(_);if(h!==l)break e;var I=Math.min(o-_,s-_),V=c.slice(c.length-I),Y=f.slice(f.length-I);if(V!==Y)break e;var g=c.slice(0,c.length-I),E=f.slice(0,f.length-I);return Yb(l,g,E,V)}}if(r.length>0&&i&&i.length===0)e:{var m=t.slice(0,r.index),V=t.slice(r.index+r.length),p=m.length,I=V.length;if(s<p+I)break e;var v=e.slice(0,p),Y=e.slice(s-I);if(m!==v||V!==Y)break e;var g=t.slice(p,o-I),E=e.slice(p,s-I);return Yb(m,g,E,V)}return null}function op(t,e,n,r){return Xc(t,e,n,r,!0)}op.INSERT=qt;op.DELETE=mn;op.EQUAL=mt;S1.exports=op});var h0=bi((Jc,Ya)=>{"use strict";var $5=200,V1="__lodash_hash_undefined__",B1=9007199254740991,s0="[object Arguments]",q5="[object Array]",U1="[object Boolean]",H1="[object Date]",z5="[object Error]",a0="[object Function]",$1="[object GeneratorFunction]",sp="[object Map]",q1="[object Number]",l0="[object Object]",x1="[object Promise]",z1="[object RegExp]",ap="[object Set]",G1="[object String]",W1="[object Symbol]",e0="[object WeakMap]",Z1="[object ArrayBuffer]",lp="[object DataView]",K1="[object Float32Array]",Y1="[object Float64Array]",Q1="[object Int8Array]",X1="[object Int16Array]",J1="[object Int32Array]",eA="[object Uint8Array]",tA="[object Uint8ClampedArray]",nA="[object Uint16Array]",rA="[object Uint32Array]",G5=/[\\^$.*+?()[\]{}|]/g,W5=/\w*$/,Z5=/^\[object .+?Constructor\]$/,K5=/^(?:0|[1-9]\d*)$/,Re={};Re[s0]=Re[q5]=Re[Z1]=Re[lp]=Re[U1]=Re[H1]=Re[K1]=Re[Y1]=Re[Q1]=Re[X1]=Re[J1]=Re[sp]=Re[q1]=Re[l0]=Re[z1]=Re[ap]=Re[G1]=Re[W1]=Re[eA]=Re[tA]=Re[nA]=Re[rA]=!0;Re[z5]=Re[a0]=Re[e0]=!1;var Y5=typeof global=="object"&&global&&global.Object===Object&&global,Q5=typeof self=="object"&&self&&self.Object===Object&&self,ai=Y5||Q5||Function("return this")(),iA=typeof Jc=="object"&&Jc&&!Jc.nodeType&&Jc,A1=iA&&typeof Ya=="object"&&Ya&&!Ya.nodeType&&Ya,X5=A1&&A1.exports===iA;function J5(t,e){return t.set(e[0],e[1]),t}function e8(t,e){return t.add(e),t}function t8(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function n8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function oA(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function r8(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function i8(t,e){return t?.[e]}function sA(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function M1(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function c0(t,e){return function(n){return t(e(n))}}function N1(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var o8=Array.prototype,s8=Function.prototype,cp=Object.prototype,Jb=ai["__core-js_shared__"],O1=(function(){var t=/[^.]+$/.exec(Jb&&Jb.keys&&Jb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),aA=s8.toString,Xi=cp.hasOwnProperty,up=cp.toString,a8=RegExp("^"+aA.call(Xi).replace(G5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k1=X5?ai.Buffer:void 0,R1=ai.Symbol,P1=ai.Uint8Array,l8=c0(Object.getPrototypeOf,Object),c8=Object.create,u8=cp.propertyIsEnumerable,d8=o8.splice,L1=Object.getOwnPropertySymbols,f8=k1?k1.isBuffer:void 0,h8=c0(Object.keys,Object),t0=Ja(ai,"DataView"),eu=Ja(ai,"Map"),n0=Ja(ai,"Promise"),r0=Ja(ai,"Set"),i0=Ja(ai,"WeakMap"),tu=Ja(Object,"create"),p8=us(t0),m8=us(eu),g8=us(n0),y8=us(r0),v8=us(i0),F1=R1?R1.prototype:void 0,j1=F1?F1.valueOf:void 0;function cs(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function b8(){this.__data__=tu?tu(null):{}}function E8(t){return this.has(t)&&delete this.__data__[t]}function _8(t){var e=this.__data__;if(tu){var n=e[t];return n===V1?void 0:n}return Xi.call(e,t)?e[t]:void 0}function w8(t){var e=this.__data__;return tu?e[t]!==void 0:Xi.call(e,t)}function C8(t,e){var n=this.__data__;return n[t]=tu&&e===void 0?V1:e,this}cs.prototype.clear=b8;cs.prototype.delete=E8;cs.prototype.get=_8;cs.prototype.has=w8;cs.prototype.set=C8;function li(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function D8(){this.__data__=[]}function I8(t){var e=this.__data__,n=dp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():d8.call(e,n,1),!0}function S8(t){var e=this.__data__,n=dp(e,t);return n<0?void 0:e[n][1]}function T8(t){return dp(this.__data__,t)>-1}function x8(t,e){var n=this.__data__,r=dp(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}li.prototype.clear=D8;li.prototype.delete=I8;li.prototype.get=S8;li.prototype.has=T8;li.prototype.set=x8;function Qa(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function A8(){this.__data__={hash:new cs,map:new(eu||li),string:new cs}}function M8(t){return fp(this,t).delete(t)}function N8(t){return fp(this,t).get(t)}function O8(t){return fp(this,t).has(t)}function k8(t,e){return fp(this,t).set(t,e),this}Qa.prototype.clear=A8;Qa.prototype.delete=M8;Qa.prototype.get=N8;Qa.prototype.has=O8;Qa.prototype.set=k8;function Xa(t){this.__data__=new li(t)}function R8(){this.__data__=new li}function P8(t){return this.__data__.delete(t)}function L8(t){return this.__data__.get(t)}function F8(t){return this.__data__.has(t)}function j8(t,e){var n=this.__data__;if(n instanceof li){var r=n.__data__;if(!eu||r.length<$5-1)return r.push([t,e]),this;n=this.__data__=new Qa(r)}return n.set(t,e),this}Xa.prototype.clear=R8;Xa.prototype.delete=P8;Xa.prototype.get=L8;Xa.prototype.has=F8;Xa.prototype.set=j8;function V8(t,e){var n=d0(t)||c$(t)?r8(t.length,String):[],r=n.length,i=!!r;for(var o in t)(e||Xi.call(t,o))&&!(i&&(o=="length"||o$(o,r)))&&n.push(o);return n}function lA(t,e,n){var r=t[e];(!(Xi.call(t,e)&&fA(r,n))||n===void 0&&!(e in t))&&(t[e]=n)}function dp(t,e){for(var n=t.length;n--;)if(fA(t[n][0],e))return n;return-1}function B8(t,e){return t&&cA(e,f0(e),t)}function o0(t,e,n,r,i,o,s){var a;if(r&&(a=o?r(t,i,o,s):r(t)),a!==void 0)return a;if(!hp(t))return t;var l=d0(t);if(l){if(a=n$(t),!e)return J8(t,a)}else{var c=ls(t),u=c==a0||c==$1;if(d$(t))return G8(t,e);if(c==l0||c==s0||u&&!o){if(sA(t))return o?t:{};if(a=r$(u?{}:t),!e)return e$(t,B8(a,t))}else{if(!Re[c])return o?t:{};a=i$(t,c,o0,e)}}s||(s=new Xa);var d=s.get(t);if(d)return d;if(s.set(t,a),!l)var h=n?t$(t):f0(t);return t8(h||t,function(f,p){h&&(p=f,f=t[p]),lA(a,p,o0(f,e,n,r,p,t,s))}),a}function U8(t){return hp(t)?c8(t):{}}function H8(t,e,n){var r=e(t);return d0(t)?r:n8(r,n(t))}function $8(t){return up.call(t)}function q8(t){if(!hp(t)||a$(t))return!1;var e=pA(t)||sA(t)?a8:Z5;return e.test(us(t))}function z8(t){if(!dA(t))return h8(t);var e=[];for(var n in Object(t))Xi.call(t,n)&&n!="constructor"&&e.push(n);return e}function G8(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function u0(t){var e=new t.constructor(t.byteLength);return new P1(e).set(new P1(t)),e}function W8(t,e){var n=e?u0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Z8(t,e,n){var r=e?n(M1(t),!0):M1(t);return oA(r,J5,new t.constructor)}function K8(t){var e=new t.constructor(t.source,W5.exec(t));return e.lastIndex=t.lastIndex,e}function Y8(t,e,n){var r=e?n(N1(t),!0):N1(t);return oA(r,e8,new t.constructor)}function Q8(t){return j1?Object(j1.call(t)):{}}function X8(t,e){var n=e?u0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function J8(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function cA(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=r?r(n[s],t[s],s,n,t):void 0;lA(n,s,a===void 0?t[s]:a)}return n}function e$(t,e){return cA(t,uA(t),e)}function t$(t){return H8(t,f0,uA)}function fp(t,e){var n=t.__data__;return s$(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ja(t,e){var n=i8(t,e);return q8(n)?n:void 0}var uA=L1?c0(L1,Object):p$,ls=$8;(t0&&ls(new t0(new ArrayBuffer(1)))!=lp||eu&&ls(new eu)!=sp||n0&&ls(n0.resolve())!=x1||r0&&ls(new r0)!=ap||i0&&ls(new i0)!=e0)&&(ls=function(t){var e=up.call(t),n=e==l0?t.constructor:void 0,r=n?us(n):void 0;if(r)switch(r){case p8:return lp;case m8:return sp;case g8:return x1;case y8:return ap;case v8:return e0}return e});function n$(t){var e=t.length,n=t.constructor(e);return e&&typeof t[0]=="string"&&Xi.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function r$(t){return typeof t.constructor=="function"&&!dA(t)?U8(l8(t)):{}}function i$(t,e,n,r){var i=t.constructor;switch(e){case Z1:return u0(t);case U1:case H1:return new i(+t);case lp:return W8(t,r);case K1:case Y1:case Q1:case X1:case J1:case eA:case tA:case nA:case rA:return X8(t,r);case sp:return Z8(t,r,n);case q1:case G1:return new i(t);case z1:return K8(t);case ap:return Y8(t,r,n);case W1:return Q8(t)}}function o$(t,e){return e=e??B1,!!e&&(typeof t=="number"||K5.test(t))&&t>-1&&t%1==0&&t<e}function s$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function a$(t){return!!O1&&O1 in t}function dA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cp;return t===n}function us(t){if(t!=null){try{return aA.call(t)}catch{}try{return t+""}catch{}}return""}function l$(t){return o0(t,!0,!0)}function fA(t,e){return t===e||t!==t&&e!==e}function c$(t){return u$(t)&&Xi.call(t,"callee")&&(!u8.call(t,"callee")||up.call(t)==s0)}var d0=Array.isArray;function hA(t){return t!=null&&f$(t.length)&&!pA(t)}function u$(t){return h$(t)&&hA(t)}var d$=f8||m$;function pA(t){var e=hp(t)?up.call(t):"";return e==a0||e==$1}function f$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=B1}function hp(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function h$(t){return!!t&&typeof t=="object"}function f0(t){return hA(t)?V8(t):z8(t)}function p$(){return[]}function m$(){return!1}Ya.exports=l$});var I0=bi((nu,tl)=>{"use strict";var g$=200,D0="__lodash_hash_undefined__",_p=1,SA=2,TA=9007199254740991,pp="[object Arguments]",y0="[object Array]",y$="[object AsyncFunction]",xA="[object Boolean]",AA="[object Date]",MA="[object Error]",NA="[object Function]",v$="[object GeneratorFunction]",mp="[object Map]",OA="[object Number]",b$="[object Null]",el="[object Object]",mA="[object Promise]",E$="[object Proxy]",kA="[object RegExp]",gp="[object Set]",RA="[object String]",_$="[object Symbol]",w$="[object Undefined]",v0="[object WeakMap]",PA="[object ArrayBuffer]",yp="[object DataView]",C$="[object Float32Array]",D$="[object Float64Array]",I$="[object Int8Array]",S$="[object Int16Array]",T$="[object Int32Array]",x$="[object Uint8Array]",A$="[object Uint8ClampedArray]",M$="[object Uint16Array]",N$="[object Uint32Array]",O$=/[\\^$.*+?()[\]{}|]/g,k$=/^\[object .+?Constructor\]$/,R$=/^(?:0|[1-9]\d*)$/,Fe={};Fe[C$]=Fe[D$]=Fe[I$]=Fe[S$]=Fe[T$]=Fe[x$]=Fe[A$]=Fe[M$]=Fe[N$]=!0;Fe[pp]=Fe[y0]=Fe[PA]=Fe[xA]=Fe[yp]=Fe[AA]=Fe[MA]=Fe[NA]=Fe[mp]=Fe[OA]=Fe[el]=Fe[kA]=Fe[gp]=Fe[RA]=Fe[v0]=!1;var LA=typeof global=="object"&&global&&global.Object===Object&&global,P$=typeof self=="object"&&self&&self.Object===Object&&self,ci=LA||P$||Function("return this")(),FA=typeof nu=="object"&&nu&&!nu.nodeType&&nu,gA=FA&&typeof tl=="object"&&tl&&!tl.nodeType&&tl,jA=gA&&gA.exports===FA,p0=jA&&LA.process,yA=(function(){try{return p0&&p0.binding&&p0.binding("util")}catch{}})(),vA=yA&&yA.isTypedArray;function L$(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function F$(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function j$(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function V$(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function B$(t){return function(e){return t(e)}}function U$(t,e){return t.has(e)}function H$(t,e){return t?.[e]}function $$(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function q$(t,e){return function(n){return t(e(n))}}function z$(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var G$=Array.prototype,W$=Function.prototype,wp=Object.prototype,m0=ci["__core-js_shared__"],VA=W$.toString,Ar=wp.hasOwnProperty,bA=(function(){var t=/[^.]+$/.exec(m0&&m0.keys&&m0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),BA=wp.toString,Z$=RegExp("^"+VA.call(Ar).replace(O$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),EA=jA?ci.Buffer:void 0,vp=ci.Symbol,_A=ci.Uint8Array,UA=wp.propertyIsEnumerable,K$=G$.splice,ds=vp?vp.toStringTag:void 0,wA=Object.getOwnPropertySymbols,Y$=EA?EA.isBuffer:void 0,Q$=q$(Object.keys,Object),b0=nl(ci,"DataView"),ru=nl(ci,"Map"),E0=nl(ci,"Promise"),_0=nl(ci,"Set"),w0=nl(ci,"WeakMap"),iu=nl(Object,"create"),X$=ps(b0),J$=ps(ru),eq=ps(E0),tq=ps(_0),nq=ps(w0),CA=vp?vp.prototype:void 0,g0=CA?CA.valueOf:void 0;function fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rq(){this.__data__=iu?iu(null):{},this.size=0}function iq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function oq(t){var e=this.__data__;if(iu){var n=e[t];return n===D0?void 0:n}return Ar.call(e,t)?e[t]:void 0}function sq(t){var e=this.__data__;return iu?e[t]!==void 0:Ar.call(e,t)}function aq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=iu&&e===void 0?D0:e,this}fs.prototype.clear=rq;fs.prototype.delete=iq;fs.prototype.get=oq;fs.prototype.has=sq;fs.prototype.set=aq;function ui(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function lq(){this.__data__=[],this.size=0}function cq(t){var e=this.__data__,n=Cp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():K$.call(e,n,1),--this.size,!0}function uq(t){var e=this.__data__,n=Cp(e,t);return n<0?void 0:e[n][1]}function dq(t){return Cp(this.__data__,t)>-1}function fq(t,e){var n=this.__data__,r=Cp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}ui.prototype.clear=lq;ui.prototype.delete=cq;ui.prototype.get=uq;ui.prototype.has=dq;ui.prototype.set=fq;function hs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function hq(){this.size=0,this.__data__={hash:new fs,map:new(ru||ui),string:new fs}}function pq(t){var e=Dp(this,t).delete(t);return this.size-=e?1:0,e}function mq(t){return Dp(this,t).get(t)}function gq(t){return Dp(this,t).has(t)}function yq(t,e){var n=Dp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}hs.prototype.clear=hq;hs.prototype.delete=pq;hs.prototype.get=mq;hs.prototype.has=gq;hs.prototype.set=yq;function bp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hs;++e<n;)this.add(t[e])}function vq(t){return this.__data__.set(t,D0),this}function bq(t){return this.__data__.has(t)}bp.prototype.add=bp.prototype.push=vq;bp.prototype.has=bq;function eo(t){var e=this.__data__=new ui(t);this.size=e.size}function Eq(){this.__data__=new ui,this.size=0}function _q(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function wq(t){return this.__data__.get(t)}function Cq(t){return this.__data__.has(t)}function Dq(t,e){var n=this.__data__;if(n instanceof ui){var r=n.__data__;if(!ru||r.length<g$-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hs(r)}return n.set(t,e),this.size=n.size,this}eo.prototype.clear=Eq;eo.prototype.delete=_q;eo.prototype.get=wq;eo.prototype.has=Cq;eo.prototype.set=Dq;function Iq(t,e){var n=Ep(t),r=!n&&Bq(t),i=!n&&!r&&C0(t),o=!n&&!r&&!i&&ZA(t),s=n||r||i||o,a=s?V$(t.length,String):[],l=a.length;for(var c in t)(e||Ar.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pq(c,l)))&&a.push(c);return a}function Cp(t,e){for(var n=t.length;n--;)if(qA(t[n][0],e))return n;return-1}function Sq(t,e,n){var r=e(t);return Ep(t)?r:F$(r,n(t))}function su(t){return t==null?t===void 0?w$:b$:ds&&ds in Object(t)?kq(t):Vq(t)}function DA(t){return ou(t)&&su(t)==pp}function HA(t,e,n,r,i){return t===e?!0:t==null||e==null||!ou(t)&&!ou(e)?t!==t&&e!==e:Tq(t,e,n,r,HA,i)}function Tq(t,e,n,r,i,o){var s=Ep(t),a=Ep(e),l=s?y0:Ji(t),c=a?y0:Ji(e);l=l==pp?el:l,c=c==pp?el:c;var u=l==el,d=c==el,h=l==c;if(h&&C0(t)){if(!C0(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new eo),s||ZA(t)?$A(t,e,n,r,i,o):Nq(t,e,l,n,r,i,o);if(!(n&_p)){var f=u&&Ar.call(t,"__wrapped__"),p=d&&Ar.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return o||(o=new eo),i(m,v,n,r,o)}}return h?(o||(o=new eo),Oq(t,e,n,r,i,o)):!1}function xq(t){if(!WA(t)||Fq(t))return!1;var e=zA(t)?Z$:k$;return e.test(ps(t))}function Aq(t){return ou(t)&&GA(t.length)&&!!Fe[su(t)]}function Mq(t){if(!jq(t))return Q$(t);var e=[];for(var n in Object(t))Ar.call(t,n)&&n!="constructor"&&e.push(n);return e}function $A(t,e,n,r,i,o){var s=n&_p,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,d=!0,h=n&SA?new bp:void 0;for(o.set(t,e),o.set(e,t);++u<a;){var f=t[u],p=e[u];if(r)var m=s?r(p,f,u,e,t,o):r(f,p,u,t,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!j$(e,function(v,g){if(!U$(h,g)&&(f===v||i(f,v,n,r,o)))return h.push(g)})){d=!1;break}}else if(!(f===p||i(f,p,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}function Nq(t,e,n,r,i,o,s){switch(n){case yp:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case PA:return!(t.byteLength!=e.byteLength||!o(new _A(t),new _A(e)));case xA:case AA:case OA:return qA(+t,+e);case MA:return t.name==e.name&&t.message==e.message;case kA:case RA:return t==e+"";case mp:var a=$$;case gp:var l=r&_p;if(a||(a=z$),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=SA,s.set(t,e);var u=$A(a(t),a(e),r,i,o,s);return s.delete(t),u;case _$:if(g0)return g0.call(t)==g0.call(e)}return!1}function Oq(t,e,n,r,i,o){var s=n&_p,a=IA(t),l=a.length,c=IA(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:Ar.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);for(var m=s;++d<l;){h=a[d];var v=t[h],g=e[h];if(r)var E=s?r(g,v,h,e,t,o):r(v,g,h,t,e,o);if(!(E===void 0?v===g||i(v,g,n,r,o):E)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var _=t.constructor,I=e.constructor;_!=I&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof I=="function"&&I instanceof I)&&(p=!1)}return o.delete(t),o.delete(e),p}function IA(t){return Sq(t,$q,Rq)}function Dp(t,e){var n=t.__data__;return Lq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function nl(t,e){var n=H$(t,e);return xq(n)?n:void 0}function kq(t){var e=Ar.call(t,ds),n=t[ds];try{t[ds]=void 0;var r=!0}catch{}var i=BA.call(t);return r&&(e?t[ds]=n:delete t[ds]),i}var Rq=wA?function(t){return t==null?[]:(t=Object(t),L$(wA(t),function(e){return UA.call(t,e)}))}:qq,Ji=su;(b0&&Ji(new b0(new ArrayBuffer(1)))!=yp||ru&&Ji(new ru)!=mp||E0&&Ji(E0.resolve())!=mA||_0&&Ji(new _0)!=gp||w0&&Ji(new w0)!=v0)&&(Ji=function(t){var e=su(t),n=e==el?t.constructor:void 0,r=n?ps(n):"";if(r)switch(r){case X$:return yp;case J$:return mp;case eq:return mA;case tq:return gp;case nq:return v0}return e});function Pq(t,e){return e=e??TA,!!e&&(typeof t=="number"||R$.test(t))&&t>-1&&t%1==0&&t<e}function Lq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Fq(t){return!!bA&&bA in t}function jq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wp;return t===n}function Vq(t){return BA.call(t)}function ps(t){if(t!=null){try{return VA.call(t)}catch{}try{return t+""}catch{}}return""}function qA(t,e){return t===e||t!==t&&e!==e}var Bq=DA((function(){return arguments})())?DA:function(t){return ou(t)&&Ar.call(t,"callee")&&!UA.call(t,"callee")},Ep=Array.isArray;function Uq(t){return t!=null&&GA(t.length)&&!zA(t)}var C0=Y$||zq;function Hq(t,e){return HA(t,e)}function zA(t){if(!WA(t))return!1;var e=su(t);return e==NA||e==v$||e==y$||e==E$}function GA(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TA}function WA(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function ou(t){return t!=null&&typeof t=="object"}var ZA=vA?B$(vA):Aq;function $q(t){return Uq(t)?Iq(t):Mq(t)}function qq(){return[]}function zq(){return!1}tl.exports=Hq});var KA=bi(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});var Gq=h0(),Wq=I0(),S0;(function(t){function e(o={},s={},a=!1){typeof o!="object"&&(o={}),typeof s!="object"&&(s={});let l=Gq(s);a||(l=Object.keys(l).reduce((c,u)=>(l[u]!=null&&(c[u]=l[u]),c),{}));for(let c in o)o[c]!==void 0&&s[c]===void 0&&(l[c]=o[c]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o={},s={}){typeof o!="object"&&(o={}),typeof s!="object"&&(s={});let a=Object.keys(o).concat(Object.keys(s)).reduce((l,c)=>(Wq(o[c],s[c])||(l[c]=s[c]===void 0?null:s[c]),l),{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o={},s={}){o=o||{};let a=Object.keys(s).reduce((l,c)=>(s[c]!==o[c]&&o[c]!==void 0&&(l[c]=s[c]),l),{});return Object.keys(o).reduce((l,c)=>(o[c]!==s[c]&&s[c]===void 0&&(l[c]=null),l),a)}t.invert=r;function i(o,s,a=!1){if(typeof o!="object")return s;if(typeof s!="object")return;if(!a)return s;let l=Object.keys(s).reduce((c,u)=>(o[u]===void 0&&(c[u]=s[u]),c),{});return Object.keys(l).length>0?l:void 0}t.transform=i})(S0||(S0={}));T0.default=S0});var M0=bi(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});var x0;(function(t){function e(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}t.length=e})(x0||(x0={}));A0.default=x0});var QA=bi(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0});var YA=M0(),N0=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);let n=this.ops[this.index];if(n){let r=this.offset,i=YA.default.length(n);if(e>=i-r?(e=i-r,this.index+=1,this.offset=0):this.offset+=e,typeof n.delete=="number")return{delete:e};{let o={};return n.attributes&&(o.attributes=n.attributes),typeof n.retain=="number"?o.retain=e:typeof n.retain=="object"&&n.retain!==null?o.retain=n.retain:typeof n.insert=="string"?o.insert=n.insert.substr(r,e):o.insert=n.insert,o}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?YA.default.length(this.ops[this.index])-this.offset:1/0}peekType(){let e=this.ops[this.index];return e?typeof e.delete=="number"?"delete":typeof e.retain=="number"||typeof e.retain=="object"&&e.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{let e=this.offset,n=this.index,r=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=n,[r].concat(i)}}else return[]}};O0.default=N0});var gn=bi((fi,Sp)=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.AttributeMap=fi.OpIterator=fi.Op=void 0;var Ip=T1(),Zq=h0(),k0=I0(),ms=KA();fi.AttributeMap=ms.default;var di=M0();fi.Op=di.default;var Pn=QA();fi.OpIterator=Pn.default;var Kq="\0",XA=(t,e)=>{if(typeof t!="object"||t===null)throw new Error(`cannot retain a ${typeof t}`);if(typeof e!="object"||e===null)throw new Error(`cannot retain a ${typeof e}`);let n=Object.keys(t)[0];if(!n||n!==Object.keys(e)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(e)[0]}`);return[n,t[n],e[n]]},hi=class t{constructor(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,n){this.handlers[e]=n}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){let n=this.handlers[e];if(!n)throw new Error(`no handlers for embed type "${e}"`);return n}insert(e,n){let r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,n){if(typeof e=="number"&&e<=0)return this;let r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)}push(e){let n=this.ops.length,r=this.ops[n-1];if(e=Zq(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(k0(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this}chop(){let e=this.ops[this.ops.length-1];return e&&typeof e.retain=="number"&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){let n=[],r=[];return this.forEach(i=>{(e(i)?n:r).push(i)}),[n,r]}reduce(e,n){return this.ops.reduce(e,n)}changeLength(){return this.reduce((e,n)=>n.insert?e+di.default.length(n):n.delete?e-n.delete:e,0)}length(){return this.reduce((e,n)=>e+di.default.length(n),0)}slice(e=0,n=1/0){let r=[],i=new Pn.default(this.ops),o=0;for(;o<n&&i.hasNext();){let s;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=di.default.length(s)}return new t(r)}compose(e){let n=new Pn.default(this.ops),r=new Pn.default(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){let a=o.retain;for(;n.peekType()==="insert"&&n.peekLength()<=a;)a-=n.peekLength(),i.push(n.next());o.retain-a>0&&r.next(o.retain-a)}let s=new t(i);for(;n.hasNext()||r.hasNext();)if(r.peekType()==="insert")s.push(r.next());else if(n.peekType()==="delete")s.push(n.next());else{let a=Math.min(n.peekLength(),r.peekLength()),l=n.next(a),c=r.next(a);if(c.retain){let u={};if(typeof l.retain=="number")u.retain=typeof c.retain=="number"?a:c.retain;else if(typeof c.retain=="number")l.retain==null?u.insert=l.insert:u.retain=l.retain;else{let h=l.retain==null?"insert":"retain",[f,p,m]=XA(l[h],c.retain),v=t.getHandler(f);u[h]={[f]:v.compose(p,m,h==="retain")}}let d=ms.default.compose(l.attributes,c.attributes,typeof l.retain=="number");if(d&&(u.attributes=d),s.push(u),!r.hasNext()&&k0(s.ops[s.ops.length-1],u)){let h=new t(n.rest());return s.concat(h).chop()}}else typeof c.delete=="number"&&(typeof l.retain=="number"||typeof l.retain=="object"&&l.retain!==null)&&s.push(c)}return s.chop()}concat(e){let n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n}diff(e,n){if(this.ops===e.ops)return new t;let r=[this,e].map(l=>l.map(c=>{if(c.insert!=null)return typeof c.insert=="string"?c.insert:Kq;let u=l===e?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")),i=new t,o=Ip(r[0],r[1],n,!0),s=new Pn.default(this.ops),a=new Pn.default(e.ops);return o.forEach(l=>{let c=l[1].length;for(;c>0;){let u=0;switch(l[0]){case Ip.INSERT:u=Math.min(a.peekLength(),c),i.push(a.next(u));break;case Ip.DELETE:u=Math.min(c,s.peekLength()),s.next(u),i.delete(u);break;case Ip.EQUAL:u=Math.min(s.peekLength(),a.peekLength(),c);let d=s.next(u),h=a.next(u);k0(d.insert,h.insert)?i.retain(u,ms.default.diff(d.attributes,h.attributes)):i.push(h).delete(u);break}c-=u}}),i.chop()}eachLine(e,n=`
`){let r=new Pn.default(this.ops),i=new t,o=0;for(;r.hasNext();){if(r.peekType()!=="insert")return;let s=r.peek(),a=di.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)}invert(e){let n=new t;return this.reduce((r,i)=>{if(i.insert)n.delete(di.default.length(i));else{if(typeof i.retain=="number"&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||typeof i.retain=="number"){let o=i.delete||i.retain;return e.slice(r,r+o).forEach(a=>{i.delete?n.push(a):i.retain&&i.attributes&&n.retain(di.default.length(a),ms.default.invert(i.attributes,a.attributes))}),r+o}else if(typeof i.retain=="object"&&i.retain!==null){let o=e.slice(r,r+1),s=new Pn.default(o.ops).next(),[a,l,c]=XA(i.retain,s.insert),u=t.getHandler(a);return n.retain({[a]:u.invert(l,c)},ms.default.invert(i.attributes,s.attributes)),r+1}}return r},0),n.chop()}transform(e,n=!1){if(n=!!n,typeof e=="number")return this.transformPosition(e,n);let r=e,i=new Pn.default(this.ops),o=new Pn.default(r.ops),s=new t;for(;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(di.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{let a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),c=o.next(a);if(l.delete)continue;if(c.delete)s.push(c);else{let u=l.retain,d=c.retain,h=typeof d=="object"&&d!==null?d:a;if(typeof u=="object"&&u!==null&&typeof d=="object"&&d!==null){let f=Object.keys(u)[0];if(f===Object.keys(d)[0]){let p=t.getHandler(f);p&&(h={[f]:p.transform(u[f],d[f],n)})}}s.retain(h,ms.default.transform(l.attributes,c.attributes,n))}}return s.chop()}transformPosition(e,n=!1){n=!!n;let r=new Pn.default(this.ops),i=0;for(;r.hasNext()&&i<=e;){let o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e}};hi.Op=di.default;hi.OpIterator=Pn.default;hi.AttributeMap=ms.default;hi.handlers={};fi.default=hi;typeof Sp=="object"&&(Sp.exports=hi,Sp.exports.default=hi)});var tM=bi((Mye,L0)=>{"use strict";var e6=Object.prototype.hasOwnProperty,zt="~";function au(){}Object.create&&(au.prototype=Object.create(null),new au().__proto__||(zt=!1));function t6(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function eM(t,e,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new t6(n,r||t,i),s=zt?zt+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],o]:t._events[s].push(o):(t._events[s]=o,t._eventsCount++),t}function Tp(t,e){--t._eventsCount===0?t._events=new au:delete t._events[e]}function jt(){this._events=new au,this._eventsCount=0}jt.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)e6.call(n,r)&&e.push(zt?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};jt.prototype.listeners=function(e){var n=zt?zt+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s};jt.prototype.listenerCount=function(e){var n=zt?zt+e:e,r=this._events[n];return r?r.fn?1:r.length:0};jt.prototype.emit=function(e,n,r,i,o,s){var a=zt?zt+e:e;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,u,d;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,i),!0;case 5:return l.fn.call(l.context,n,r,i,o),!0;case 6:return l.fn.call(l.context,n,r,i,o,s),!0}for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l.fn.apply(l.context,u)}else{var h=l.length,f;for(d=0;d<h;d++)switch(l[d].once&&this.removeListener(e,l[d].fn,void 0,!0),c){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,n);break;case 3:l[d].fn.call(l[d].context,n,r);break;case 4:l[d].fn.call(l[d].context,n,r,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];l[d].fn.apply(l[d].context,u)}}return!0};jt.prototype.on=function(e,n,r){return eM(this,e,n,r,!1)};jt.prototype.once=function(e,n,r){return eM(this,e,n,r,!0)};jt.prototype.removeListener=function(e,n,r,i){var o=zt?zt+e:e;if(!this._events[o])return this;if(!n)return Tp(this,o),this;var s=this._events[o];if(s.fn)s.fn===n&&(!i||s.once)&&(!r||s.context===r)&&Tp(this,o);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==n||i&&!s[a].once||r&&s[a].context!==r)&&l.push(s[a]);l.length?this._events[o]=l.length===1?l[0]:l:Tp(this,o)}return this};jt.prototype.removeAllListeners=function(e){var n;return e?(n=zt?zt+e:e,this._events[n]&&Tp(this,n)):(this._events=new au,this._eventsCount=0),this};jt.prototype.off=jt.prototype.removeListener;jt.prototype.addListener=jt.prototype.on;jt.prefixed=zt;jt.EventEmitter=jt;typeof L0<"u"&&(L0.exports=jt)});var ar=globalThis;function vn(t){return(ar.__Zone_symbol_prefix||"__zone_symbol__")+t}function vN(){let t=ar.performance;function e(he){t&&t.mark&&t.mark(he)}function n(he,z){t&&t.measure&&t.measure(he,z)}e("Zone");let r=(()=>{class he{static __symbol__=vn;static assertZonePatched(){if(ar.Promise!==fe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let y=he.current;for(;y.parent;)y=y.parent;return y}static get current(){return Q.zone}static get currentTask(){return ae}static __load_patch(y,b,Z=!1){if(fe.hasOwnProperty(y)){let J=ar[vn("forceDuplicateZoneCheck")]===!0;if(!Z&&J)throw Error("Already loaded patch: "+y)}else if(!ar["__Zone_disable_"+y]){let J="Zone:"+y;e(J),fe[y]=b(ar,he,ee),n(J,J)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(y,b){this._parent=y,this._name=b?b.name||"unnamed":"<root>",this._properties=b&&b.properties||{},this._zoneDelegate=new o(this,this._parent&&this._parent._zoneDelegate,b)}get(y){let b=this.getZoneWith(y);if(b)return b._properties[y]}getZoneWith(y){let b=this;for(;b;){if(b._properties.hasOwnProperty(y))return b;b=b._parent}return null}fork(y){if(!y)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,y)}wrap(y,b){if(typeof y!="function")throw new Error("Expecting function got: "+y);let Z=this._zoneDelegate.intercept(this,y,b),J=this;return function(){return J.runGuarded(Z,this,arguments,b)}}run(y,b,Z,J){Q={parent:Q,zone:this};try{return this._zoneDelegate.invoke(this,y,b,Z,J)}finally{Q=Q.parent}}runGuarded(y,b=null,Z,J){Q={parent:Q,zone:this};try{try{return this._zoneDelegate.invoke(this,y,b,Z,J)}catch($e){if(this._zoneDelegate.handleError(this,$e))throw $e}}finally{Q=Q.parent}}runTask(y,b,Z){if(y.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(y.zone||v).name+"; Execution: "+this.name+")");let J=y,{type:$e,data:{isPeriodic:Ee=!1,isRefreshable:yi=!1}={}}=y;if(y.state===g&&($e===Ae||$e===P))return;let Or=y.state!=I;Or&&J._transitionTo(I,_);let kr=ae;ae=J,Q={parent:Q,zone:this};try{$e==P&&y.data&&!Ee&&!yi&&(y.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,J,b,Z)}catch(jn){if(this._zoneDelegate.handleError(this,jn))throw jn}}finally{let jn=y.state;if(jn!==g&&jn!==Y)if($e==Ae||Ee||yi&&jn===E)Or&&J._transitionTo(_,I,E);else{let k=J._zoneDelegates;this._updateTaskCount(J,-1),Or&&J._transitionTo(g,I,g),yi&&(J._zoneDelegates=k)}Q=Q.parent,ae=kr}}scheduleTask(y){if(y.zone&&y.zone!==this){let Z=this;for(;Z;){if(Z===y.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${y.zone.name}`);Z=Z.parent}}y._transitionTo(E,g);let b=[];y._zoneDelegates=b,y._zone=this;try{y=this._zoneDelegate.scheduleTask(this,y)}catch(Z){throw y._transitionTo(Y,E,g),this._zoneDelegate.handleError(this,Z),Z}return y._zoneDelegates===b&&this._updateTaskCount(y,1),y.state==E&&y._transitionTo(_,E),y}scheduleMicroTask(y,b,Z,J){return this.scheduleTask(new s(ie,y,b,Z,J,void 0))}scheduleMacroTask(y,b,Z,J,$e){return this.scheduleTask(new s(P,y,b,Z,J,$e))}scheduleEventTask(y,b,Z,J,$e){return this.scheduleTask(new s(Ae,y,b,Z,J,$e))}cancelTask(y){if(y.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(y.zone||v).name+"; Execution: "+this.name+")");if(!(y.state!==_&&y.state!==I)){y._transitionTo(V,_,I);try{this._zoneDelegate.cancelTask(this,y)}catch(b){throw y._transitionTo(Y,V),this._zoneDelegate.handleError(this,b),b}return this._updateTaskCount(y,-1),y._transitionTo(g,V),y.runCount=-1,y}}_updateTaskCount(y,b){let Z=y._zoneDelegates;b==-1&&(y._zoneDelegates=null);for(let J=0;J<Z.length;J++)Z[J]._updateTaskCount(y.type,b)}}return he})(),i={name:"",onHasTask:(he,z,y,b)=>he.hasTask(y,b),onScheduleTask:(he,z,y,b)=>he.scheduleTask(y,b),onInvokeTask:(he,z,y,b,Z,J)=>he.invokeTask(y,b,Z,J),onCancelTask:(he,z,y,b)=>he.cancelTask(y,b)};class o{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(z,y,b){this._zone=z,this._parentDelegate=y,this._forkZS=b&&(b&&b.onFork?b:y._forkZS),this._forkDlgt=b&&(b.onFork?y:y._forkDlgt),this._forkCurrZone=b&&(b.onFork?this._zone:y._forkCurrZone),this._interceptZS=b&&(b.onIntercept?b:y._interceptZS),this._interceptDlgt=b&&(b.onIntercept?y:y._interceptDlgt),this._interceptCurrZone=b&&(b.onIntercept?this._zone:y._interceptCurrZone),this._invokeZS=b&&(b.onInvoke?b:y._invokeZS),this._invokeDlgt=b&&(b.onInvoke?y:y._invokeDlgt),this._invokeCurrZone=b&&(b.onInvoke?this._zone:y._invokeCurrZone),this._handleErrorZS=b&&(b.onHandleError?b:y._handleErrorZS),this._handleErrorDlgt=b&&(b.onHandleError?y:y._handleErrorDlgt),this._handleErrorCurrZone=b&&(b.onHandleError?this._zone:y._handleErrorCurrZone),this._scheduleTaskZS=b&&(b.onScheduleTask?b:y._scheduleTaskZS),this._scheduleTaskDlgt=b&&(b.onScheduleTask?y:y._scheduleTaskDlgt),this._scheduleTaskCurrZone=b&&(b.onScheduleTask?this._zone:y._scheduleTaskCurrZone),this._invokeTaskZS=b&&(b.onInvokeTask?b:y._invokeTaskZS),this._invokeTaskDlgt=b&&(b.onInvokeTask?y:y._invokeTaskDlgt),this._invokeTaskCurrZone=b&&(b.onInvokeTask?this._zone:y._invokeTaskCurrZone),this._cancelTaskZS=b&&(b.onCancelTask?b:y._cancelTaskZS),this._cancelTaskDlgt=b&&(b.onCancelTask?y:y._cancelTaskDlgt),this._cancelTaskCurrZone=b&&(b.onCancelTask?this._zone:y._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let Z=b&&b.onHasTask,J=y&&y._hasTaskZS;(Z||J)&&(this._hasTaskZS=Z?b:i,this._hasTaskDlgt=y,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,b.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=y,this._scheduleTaskCurrZone=this._zone),b.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=y,this._invokeTaskCurrZone=this._zone),b.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=y,this._cancelTaskCurrZone=this._zone))}fork(z,y){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,z,y):new r(z,y)}intercept(z,y,b){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,z,y,b):y}invoke(z,y,b,Z,J){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,z,y,b,Z,J):y.apply(b,Z)}handleError(z,y){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,z,y):!0}scheduleTask(z,y){let b=y;if(this._scheduleTaskZS)this._hasTaskZS&&b._zoneDelegates.push(this._hasTaskDlgtOwner),b=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,z,y),b||(b=y);else if(y.scheduleFn)y.scheduleFn(y);else if(y.type==ie)p(y);else throw new Error("Task is missing scheduleFn.");return b}invokeTask(z,y,b,Z){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,z,y,b,Z):y.callback.apply(b,Z)}cancelTask(z,y){let b;if(this._cancelTaskZS)b=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,z,y);else{if(!y.cancelFn)throw Error("Task is not cancelable");b=y.cancelFn(y)}return b}hasTask(z,y){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,z,y)}catch(b){this.handleError(z,b)}}_updateTaskCount(z,y){let b=this._taskCounts,Z=b[z],J=b[z]=Z+y;if(J<0)throw new Error("More tasks executed then were scheduled.");if(Z==0||J==0){let $e={microTask:b.microTask>0,macroTask:b.macroTask>0,eventTask:b.eventTask>0,change:z};this.hasTask(this._zone,$e)}}}class s{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(z,y,b,Z,J,$e){if(this.type=z,this.source=y,this.data=Z,this.scheduleFn=J,this.cancelFn=$e,!b)throw new Error("callback is not defined");this.callback=b;let Ee=this;z===Ae&&Z&&Z.useG?this.invoke=s.invokeTask:this.invoke=function(){return s.invokeTask.call(ar,Ee,this,arguments)}}static invokeTask(z,y,b){z||(z=this),Bt++;try{return z.runCount++,z.zone.runTask(z,y,b)}finally{Bt==1&&m(),Bt--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(g,E)}_transitionTo(z,y,b){if(this._state===y||this._state===b)this._state=z,z==g&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${z}', expecting state '${y}'${b?" or '"+b+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=vn("setTimeout"),l=vn("Promise"),c=vn("then"),u=[],d=!1,h;function f(he){if(h||ar[l]&&(h=ar[l].resolve(0)),h){let z=h[c];z||(z=h.then),z.call(h,he)}else ar[a](he,0)}function p(he){Bt===0&&u.length===0&&f(m),he&&u.push(he)}function m(){if(!d){for(d=!0;u.length;){let he=u;u=[];for(let z=0;z<he.length;z++){let y=he[z];try{y.zone.runTask(y,null,null)}catch(b){ee.onUnhandledError(b)}}}ee.microtaskDrainDone(),d=!1}}let v={name:"NO ZONE"},g="notScheduled",E="scheduling",_="scheduled",I="running",V="canceling",Y="unknown",ie="microTask",P="macroTask",Ae="eventTask",fe={},ee={symbol:vn,currentZoneFrame:()=>Q,onUnhandledError:He,microtaskDrainDone:He,scheduleMicroTask:p,showUncaughtError:()=>!r[vn("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:He,patchMethod:()=>He,bindArguments:()=>[],patchThen:()=>He,patchMacroTask:()=>He,patchEventPrototype:()=>He,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>He,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>He,wrapWithCurrentZone:()=>He,filterProperties:()=>[],attachOriginToPatched:()=>He,_redefineProperty:()=>He,patchCallbacks:()=>He,nativeScheduleMicroTask:f},Q={parent:null,zone:new r(null,null)},ae=null,Bt=0;function He(){}return n("Zone","Zone"),r}function bN(){let t=globalThis,e=t[vn("forceDuplicateZoneCheck")]===!0;if(t.Zone&&(e||typeof t.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return t.Zone??=vN(),t.Zone}var dl=Object.getOwnPropertyDescriptor,sm=Object.defineProperty,am=Object.getPrototypeOf,EN=Object.create,_N=Array.prototype.slice,lm="addEventListener",cm="removeEventListener",nm=vn(lm),rm=vn(cm),Rr="true",Pr="false",fl=vn("");function um(t,e){return Zone.current.wrap(t,e)}function dm(t,e,n,r,i){return Zone.current.scheduleMacroTask(t,e,n,r,i)}var Ie=vn,Tu=typeof window<"u",hl=Tu?window:void 0,ct=Tu&&hl||globalThis,wN="removeAttribute";function fm(t,e){for(let n=t.length-1;n>=0;n--)typeof t[n]=="function"&&(t[n]=um(t[n],e+"_"+n));return t}function CN(t,e){let n=t.constructor.name;for(let r=0;r<e.length;r++){let i=e[r],o=t[i];if(o){let s=dl(t,i);if(!FE(s))continue;t[i]=(a=>{let l=function(){return a.apply(this,fm(arguments,n+"."+i))};return Fr(l,a),l})(o)}}}function FE(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set>"u"):!0}var jE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,xu=!("nw"in ct)&&typeof ct.process<"u"&&ct.process.toString()==="[object process]",hm=!xu&&!jE&&!!(Tu&&hl.HTMLElement),VE=typeof ct.process<"u"&&ct.process.toString()==="[object process]"&&!jE&&!!(Tu&&hl.HTMLElement),Su={},DN=Ie("enable_beforeunload"),NE=function(t){if(t=t||ct.event,!t)return;let e=Su[t.type];e||(e=Su[t.type]=Ie("ON_PROPERTY"+t.type));let n=this||t.target||ct,r=n[e],i;if(hm&&n===hl&&t.type==="error"){let o=t;i=r&&r.call(this,o.message,o.filename,o.lineno,o.colno,o.error),i===!0&&t.preventDefault()}else i=r&&r.apply(this,arguments),t.type==="beforeunload"&&ct[DN]&&typeof i=="string"?t.returnValue=i:i!=null&&!i&&t.preventDefault();return i};function OE(t,e,n){let r=dl(t,e);if(!r&&n&&dl(n,e)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;let i=Ie("on"+e+"patched");if(t.hasOwnProperty(i)&&t[i])return;delete r.writable,delete r.value;let o=r.get,s=r.set,a=e.slice(2),l=Su[a];l||(l=Su[a]=Ie("ON_PROPERTY"+a)),r.set=function(c){let u=this;if(!u&&t===ct&&(u=ct),!u)return;typeof u[l]=="function"&&u.removeEventListener(a,NE),s?.call(u,null),u[l]=c,typeof c=="function"&&u.addEventListener(a,NE,!1)},r.get=function(){let c=this;if(!c&&t===ct&&(c=ct),!c)return null;let u=c[l];if(u)return u;if(o){let d=o.call(this);if(d)return r.set.call(this,d),typeof c[wN]=="function"&&c.removeAttribute(e),d}return null},sm(t,e,r),t[i]=!0}function BE(t,e,n){if(e)for(let r=0;r<e.length;r++)OE(t,"on"+e[r],n);else{let r=[];for(let i in t)i.slice(0,2)=="on"&&r.push(i);for(let i=0;i<r.length;i++)OE(t,r[i],n)}}var Bn=Ie("originalInstance");function ul(t){let e=ct[t];if(!e)return;ct[Ie(t)]=e,ct[t]=function(){let i=fm(arguments,t);switch(i.length){case 0:this[Bn]=new e;break;case 1:this[Bn]=new e(i[0]);break;case 2:this[Bn]=new e(i[0],i[1]);break;case 3:this[Bn]=new e(i[0],i[1],i[2]);break;case 4:this[Bn]=new e(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},Fr(ct[t],e);let n=new e(function(){}),r;for(r in n)t==="XMLHttpRequest"&&r==="responseBlob"||(function(i){typeof n[i]=="function"?ct[t].prototype[i]=function(){return this[Bn][i].apply(this[Bn],arguments)}:sm(ct[t].prototype,i,{set:function(o){typeof o=="function"?(this[Bn][i]=um(o,t+"."+i),Fr(this[Bn][i],o)):this[Bn][i]=o},get:function(){return this[Bn][i]}})})(r);for(r in e)r!=="prototype"&&e.hasOwnProperty(r)&&(ct[t][r]=e[r])}function Lr(t,e,n){let r=t;for(;r&&!r.hasOwnProperty(e);)r=am(r);!r&&t[e]&&(r=t);let i=Ie(e),o=null;if(r&&(!(o=r[i])||!r.hasOwnProperty(i))){o=r[i]=r[e];let s=r&&dl(r,e);if(FE(s)){let a=n(o,i,e);r[e]=function(){return a(this,arguments)},Fr(r[e],o)}}return o}function IN(t,e,n){let r=null;function i(o){let s=o.data;return s.args[s.cbIdx]=function(){o.invoke.apply(this,arguments)},r.apply(s.target,s.args),o}r=Lr(t,e,o=>function(s,a){let l=n(s,a);return l.cbIdx>=0&&typeof a[l.cbIdx]=="function"?dm(l.name,a[l.cbIdx],l,i):o.apply(s,a)})}function Fr(t,e){t[Ie("OriginalDelegate")]=e}var kE=!1,im=!1;function SN(){if(kE)return im;kE=!0;try{let t=hl.navigator.userAgent;(t.indexOf("MSIE ")!==-1||t.indexOf("Trident/")!==-1||t.indexOf("Edge/")!==-1)&&(im=!0)}catch{}return im}function RE(t){return typeof t=="function"}function PE(t){return typeof t=="number"}var TN={useG:!0},bn={},UE={},HE=new RegExp("^"+fl+"(\\w+)(true|false)$"),$E=Ie("propagationStopped");function qE(t,e){let n=(e?e(t):t)+Pr,r=(e?e(t):t)+Rr,i=fl+n,o=fl+r;bn[t]={},bn[t][Pr]=i,bn[t][Rr]=o}function xN(t,e,n,r){let i=r&&r.add||lm,o=r&&r.rm||cm,s=r&&r.listeners||"eventListeners",a=r&&r.rmAll||"removeAllListeners",l=Ie(i),c="."+i+":",u="prependListener",d="."+u+":",h=function(E,_,I){if(E.isRemoved)return;let V=E.callback;typeof V=="object"&&V.handleEvent&&(E.callback=P=>V.handleEvent(P),E.originalDelegate=V);let Y;try{E.invoke(E,_,[I])}catch(P){Y=P}let ie=E.options;if(ie&&typeof ie=="object"&&ie.once){let P=E.originalDelegate?E.originalDelegate:E.callback;_[o].call(_,I.type,P,ie)}return Y};function f(E,_,I){if(_=_||t.event,!_)return;let V=E||_.target||t,Y=V[bn[_.type][I?Rr:Pr]];if(Y){let ie=[];if(Y.length===1){let P=h(Y[0],V,_);P&&ie.push(P)}else{let P=Y.slice();for(let Ae=0;Ae<P.length&&!(_&&_[$E]===!0);Ae++){let fe=h(P[Ae],V,_);fe&&ie.push(fe)}}if(ie.length===1)throw ie[0];for(let P=0;P<ie.length;P++){let Ae=ie[P];e.nativeScheduleMicroTask(()=>{throw Ae})}}}let p=function(E){return f(this,E,!1)},m=function(E){return f(this,E,!0)};function v(E,_){if(!E)return!1;let I=!0;_&&_.useG!==void 0&&(I=_.useG);let V=_&&_.vh,Y=!0;_&&_.chkDup!==void 0&&(Y=_.chkDup);let ie=!1;_&&_.rt!==void 0&&(ie=_.rt);let P=E;for(;P&&!P.hasOwnProperty(i);)P=am(P);if(!P&&E[i]&&(P=E),!P||P[l])return!1;let Ae=_&&_.eventNameToString,fe={},ee=P[l]=P[i],Q=P[Ie(o)]=P[o],ae=P[Ie(s)]=P[s],Bt=P[Ie(a)]=P[a],He;_&&_.prepend&&(He=P[Ie(_.prepend)]=P[_.prepend]);function he(w,N){return N?typeof w=="boolean"?{capture:w,passive:!0}:w?typeof w=="object"&&w.passive!==!1?W(S({},w),{passive:!0}):w:{passive:!0}:w}let z=function(w){if(!fe.isExisting)return ee.call(fe.target,fe.eventName,fe.capture?m:p,fe.options)},y=function(w){if(!w.isRemoved){let N=bn[w.eventName],K;N&&(K=N[w.capture?Rr:Pr]);let te=K&&w.target[K];if(te){for(let G=0;G<te.length;G++)if(te[G]===w){te.splice(G,1),w.isRemoved=!0,w.removeAbortListener&&(w.removeAbortListener(),w.removeAbortListener=null),te.length===0&&(w.allRemoved=!0,w.target[K]=null);break}}}if(w.allRemoved)return Q.call(w.target,w.eventName,w.capture?m:p,w.options)},b=function(w){return ee.call(fe.target,fe.eventName,w.invoke,fe.options)},Z=function(w){return He.call(fe.target,fe.eventName,w.invoke,fe.options)},J=function(w){return Q.call(w.target,w.eventName,w.invoke,w.options)},$e=I?z:b,Ee=I?y:J,yi=function(w,N){let K=typeof N;return K==="function"&&w.callback===N||K==="object"&&w.originalDelegate===N},Or=_?.diff||yi,kr=Zone[Ie("UNPATCHED_EVENTS")],jn=t[Ie("PASSIVE_EVENTS")];function k(w){if(typeof w=="object"&&w!==null){let N=S({},w);return w.signal&&(N.signal=w.signal),N}return w}let M=function(w,N,K,te,G=!1,pe=!1){return function(){let me=this||t,ge=arguments[0];_&&_.transferEventName&&(ge=_.transferEventName(ge));let Ne=arguments[1];if(!Ne)return w.apply(this,arguments);if(xu&&ge==="uncaughtException")return w.apply(this,arguments);let Oe=!1;if(typeof Ne!="function"){if(!Ne.handleEvent)return w.apply(this,arguments);Oe=!0}if(V&&!V(w,Ne,me,arguments))return;let vi=!!jn&&jn.indexOf(ge)!==-1,or=k(he(arguments[2],vi)),bs=or?.signal;if(bs?.aborted)return;if(kr){for(let sr=0;sr<kr.length;sr++)if(ge===kr[sr])return vi?w.call(me,ge,Ne,or):w.apply(this,arguments)}let Xp=or?typeof or=="boolean"?!0:or.capture:!1,CE=or&&typeof or=="object"?or.once:!1,lN=Zone.current,Jp=bn[ge];Jp||(qE(ge,Ae),Jp=bn[ge]);let DE=Jp[Xp?Rr:Pr],Es=me[DE],IE=!1;if(Es){if(IE=!0,Y){for(let sr=0;sr<Es.length;sr++)if(Or(Es[sr],Ne))return}}else Es=me[DE]=[];let _u,SE=me.constructor.name,TE=UE[SE];TE&&(_u=TE[ge]),_u||(_u=SE+N+(Ae?Ae(ge):ge)),fe.options=or,CE&&(fe.options.once=!1),fe.target=me,fe.capture=Xp,fe.eventName=ge,fe.isExisting=IE;let cl=I?TN:void 0;cl&&(cl.taskData=fe),bs&&(fe.options.signal=void 0);let Vn=lN.scheduleEventTask(_u,Ne,cl,K,te);if(bs){fe.options.signal=bs;let sr=()=>Vn.zone.cancelTask(Vn);w.call(bs,"abort",sr,{once:!0}),Vn.removeAbortListener=()=>bs.removeEventListener("abort",sr)}if(fe.target=null,cl&&(cl.taskData=null),CE&&(fe.options.once=!0),typeof Vn.options!="boolean"&&(Vn.options=or),Vn.target=me,Vn.capture=Xp,Vn.eventName=ge,Oe&&(Vn.originalDelegate=Ne),pe?Es.unshift(Vn):Es.push(Vn),G)return me}};return P[i]=M(ee,c,$e,Ee,ie),He&&(P[u]=M(He,d,Z,Ee,ie,!0)),P[o]=function(){let w=this||t,N=arguments[0];_&&_.transferEventName&&(N=_.transferEventName(N));let K=arguments[2],te=K?typeof K=="boolean"?!0:K.capture:!1,G=arguments[1];if(!G)return Q.apply(this,arguments);if(V&&!V(Q,G,w,arguments))return;let pe=bn[N],me;pe&&(me=pe[te?Rr:Pr]);let ge=me&&w[me];if(ge)for(let Ne=0;Ne<ge.length;Ne++){let Oe=ge[Ne];if(Or(Oe,G)){if(ge.splice(Ne,1),Oe.isRemoved=!0,ge.length===0&&(Oe.allRemoved=!0,w[me]=null,!te&&typeof N=="string")){let vi=fl+"ON_PROPERTY"+N;w[vi]=null}return Oe.zone.cancelTask(Oe),ie?w:void 0}}return Q.apply(this,arguments)},P[s]=function(){let w=this||t,N=arguments[0];_&&_.transferEventName&&(N=_.transferEventName(N));let K=[],te=zE(w,Ae?Ae(N):N);for(let G=0;G<te.length;G++){let pe=te[G],me=pe.originalDelegate?pe.originalDelegate:pe.callback;K.push(me)}return K},P[a]=function(){let w=this||t,N=arguments[0];if(N){_&&_.transferEventName&&(N=_.transferEventName(N));let K=bn[N];if(K){let te=K[Pr],G=K[Rr],pe=w[te],me=w[G];if(pe){let ge=pe.slice();for(let Ne=0;Ne<ge.length;Ne++){let Oe=ge[Ne],vi=Oe.originalDelegate?Oe.originalDelegate:Oe.callback;this[o].call(this,N,vi,Oe.options)}}if(me){let ge=me.slice();for(let Ne=0;Ne<ge.length;Ne++){let Oe=ge[Ne],vi=Oe.originalDelegate?Oe.originalDelegate:Oe.callback;this[o].call(this,N,vi,Oe.options)}}}}else{let K=Object.keys(w);for(let te=0;te<K.length;te++){let G=K[te],pe=HE.exec(G),me=pe&&pe[1];me&&me!=="removeListener"&&this[a].call(this,me)}this[a].call(this,"removeListener")}if(ie)return this},Fr(P[i],ee),Fr(P[o],Q),Bt&&Fr(P[a],Bt),ae&&Fr(P[s],ae),!0}let g=[];for(let E=0;E<n.length;E++)g[E]=v(n[E],r);return g}function zE(t,e){if(!e){let o=[];for(let s in t){let a=HE.exec(s),l=a&&a[1];if(l&&(!e||l===e)){let c=t[s];if(c)for(let u=0;u<c.length;u++)o.push(c[u])}}return o}let n=bn[e];n||(qE(e),n=bn[e]);let r=t[n[Pr]],i=t[n[Rr]];return r?i?r.concat(i):r.slice():i?i.slice():[]}function AN(t,e){let n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",r=>function(i,o){i[$E]=!0,r&&r.apply(i,o)})}function MN(t,e){e.patchMethod(t,"queueMicrotask",n=>function(r,i){Zone.current.scheduleMicroTask("queueMicrotask",i[0])})}var Iu=Ie("zoneTask");function _s(t,e,n,r){let i=null,o=null;e+=r,n+=r;let s={};function a(c){let u=c.data;u.args[0]=function(){return c.invoke.apply(this,arguments)};let d=i.apply(t,u.args);return PE(d)?u.handleId=d:(u.handle=d,u.isRefreshable=RE(d.refresh)),c}function l(c){let{handle:u,handleId:d}=c.data;return o.call(t,u??d)}i=Lr(t,e,c=>function(u,d){if(RE(d[0])){let h={isRefreshable:!1,isPeriodic:r==="Interval",delay:r==="Timeout"||r==="Interval"?d[1]||0:void 0,args:d},f=d[0];d[0]=function(){try{return f.apply(this,arguments)}finally{let{handle:I,handleId:V,isPeriodic:Y,isRefreshable:ie}=h;!Y&&!ie&&(V?delete s[V]:I&&(I[Iu]=null))}};let p=dm(e,d[0],h,a,l);if(!p)return p;let{handleId:m,handle:v,isRefreshable:g,isPeriodic:E}=p.data;if(m)s[m]=p;else if(v&&(v[Iu]=p,g&&!E)){let _=v.refresh;v.refresh=function(){let{zone:I,state:V}=p;return V==="notScheduled"?(p._state="scheduled",I._updateTaskCount(p,1)):V==="running"&&(p._state="scheduling"),_.call(this)}}return v??m??p}else return c.apply(t,d)}),o=Lr(t,n,c=>function(u,d){let h=d[0],f;PE(h)?(f=s[h],delete s[h]):(f=h?.[Iu],f?h[Iu]=null:f=h),f?.type?f.cancelFn&&f.zone.cancelTask(f):c.apply(t,d)})}function NN(t,e){let{isBrowser:n,isMix:r}=e.getGlobalObjects();if(!n&&!r||!t.customElements||!("customElements"in t))return;let i=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",i)}function ON(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:n,zoneSymbolEventNames:r,TRUE_STR:i,FALSE_STR:o,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let l=0;l<n.length;l++){let c=n[l],u=c+o,d=c+i,h=s+u,f=s+d;r[c]={},r[c][o]=h,r[c][i]=f}let a=t.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(t,e,[a&&a.prototype]),!0}function kN(t,e){e.patchEventPrototype(t,e)}function GE(t,e,n){if(!n||n.length===0)return e;let r=n.filter(o=>o.target===t);if(r.length===0)return e;let i=r[0].ignoreProperties;return e.filter(o=>i.indexOf(o)===-1)}function LE(t,e,n,r){if(!t)return;let i=GE(t,e,n);BE(t,i,r)}function om(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function RN(t,e){if(xu&&!VE||Zone[t.symbol("patchEvents")])return;let n=e.__Zone_ignore_on_properties,r=[];if(hm){let i=window;r=r.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let o=[];LE(i,om(i),n&&n.concat(o),am(i))}r=r.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let i=0;i<r.length;i++){let o=e[r[i]];o?.prototype&&LE(o.prototype,om(o.prototype),n)}}function PN(t){t.__load_patch("legacy",e=>{let n=e[t.__symbol__("legacyPatch")];n&&n()}),t.__load_patch("timers",e=>{let r="clear";_s(e,"set",r,"Timeout"),_s(e,"set",r,"Interval"),_s(e,"set",r,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{_s(e,"request","cancel","AnimationFrame"),_s(e,"mozRequest","mozCancel","AnimationFrame"),_s(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,n)=>{let r=["alert","prompt","confirm"];for(let i=0;i<r.length;i++){let o=r[i];Lr(e,o,(s,a,l)=>function(c,u){return n.current.run(s,e,u,l)})}}),t.__load_patch("EventTarget",(e,n,r)=>{kN(e,r),ON(e,r);let i=e.XMLHttpRequestEventTarget;i&&i.prototype&&r.patchEventTarget(e,r,[i.prototype])}),t.__load_patch("MutationObserver",(e,n,r)=>{ul("MutationObserver"),ul("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,n,r)=>{ul("IntersectionObserver")}),t.__load_patch("FileReader",(e,n,r)=>{ul("FileReader")}),t.__load_patch("on_property",(e,n,r)=>{RN(r,e)}),t.__load_patch("customElements",(e,n,r)=>{NN(e,r)}),t.__load_patch("XHR",(e,n)=>{c(e);let r=Ie("xhrTask"),i=Ie("xhrSync"),o=Ie("xhrListener"),s=Ie("xhrScheduled"),a=Ie("xhrURL"),l=Ie("xhrErrorBeforeScheduled");function c(u){let d=u.XMLHttpRequest;if(!d)return;let h=d.prototype;function f(ee){return ee[r]}let p=h[nm],m=h[rm];if(!p){let ee=u.XMLHttpRequestEventTarget;if(ee){let Q=ee.prototype;p=Q[nm],m=Q[rm]}}let v="readystatechange",g="scheduled";function E(ee){let Q=ee.data,ae=Q.target;ae[s]=!1,ae[l]=!1;let Bt=ae[o];p||(p=ae[nm],m=ae[rm]),Bt&&m.call(ae,v,Bt);let He=ae[o]=()=>{if(ae.readyState===ae.DONE)if(!Q.aborted&&ae[s]&&ee.state===g){let z=ae[n.__symbol__("loadfalse")];if(ae.status!==0&&z&&z.length>0){let y=ee.invoke;ee.invoke=function(){let b=ae[n.__symbol__("loadfalse")];for(let Z=0;Z<b.length;Z++)b[Z]===ee&&b.splice(Z,1);!Q.aborted&&ee.state===g&&y.call(ee)},z.push(ee)}else ee.invoke()}else!Q.aborted&&ae[s]===!1&&(ae[l]=!0)};return p.call(ae,v,He),ae[r]||(ae[r]=ee),Ae.apply(ae,Q.args),ae[s]=!0,ee}function _(){}function I(ee){let Q=ee.data;return Q.aborted=!0,fe.apply(Q.target,Q.args)}let V=Lr(h,"open",()=>function(ee,Q){return ee[i]=Q[2]==!1,ee[a]=Q[1],V.apply(ee,Q)}),Y="XMLHttpRequest.send",ie=Ie("fetchTaskAborting"),P=Ie("fetchTaskScheduling"),Ae=Lr(h,"send",()=>function(ee,Q){if(n.current[P]===!0||ee[i])return Ae.apply(ee,Q);{let ae={target:ee,url:ee[a],isPeriodic:!1,args:Q,aborted:!1},Bt=dm(Y,_,ae,E,I);ee&&ee[l]===!0&&!ae.aborted&&Bt.state===g&&Bt.invoke()}}),fe=Lr(h,"abort",()=>function(ee,Q){let ae=f(ee);if(ae&&typeof ae.type=="string"){if(ae.cancelFn==null||ae.data&&ae.data.aborted)return;ae.zone.cancelTask(ae)}else if(n.current[ie]===!0)return fe.apply(ee,Q)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&CN(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,n)=>{function r(i){return function(o){zE(e,i).forEach(a=>{let l=e.PromiseRejectionEvent;if(l){let c=new l(i,{promise:o.promise,reason:o.rejection});a.invoke(c)}})}}e.PromiseRejectionEvent&&(n[Ie("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),n[Ie("rejectionHandledHandler")]=r("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,n,r)=>{MN(e,r)})}function LN(t){t.__load_patch("ZoneAwarePromise",(e,n,r)=>{let i=Object.getOwnPropertyDescriptor,o=Object.defineProperty;function s(k){if(k&&k.toString===Object.prototype.toString){let M=k.constructor&&k.constructor.name;return(M||"")+": "+JSON.stringify(k)}return k?k.toString():Object.prototype.toString.call(k)}let a=r.symbol,l=[],c=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,u=a("Promise"),d=a("then"),h="__creationTrace__";r.onUnhandledError=k=>{if(r.showUncaughtError()){let M=k&&k.rejection;M?console.error("Unhandled Promise rejection:",M instanceof Error?M.message:M,"; Zone:",k.zone.name,"; Task:",k.task&&k.task.source,"; Value:",M,M instanceof Error?M.stack:void 0):console.error(k)}},r.microtaskDrainDone=()=>{for(;l.length;){let k=l.shift();try{k.zone.runGuarded(()=>{throw k.throwOriginal?k.rejection:k})}catch(M){p(M)}}};let f=a("unhandledPromiseRejectionHandler");function p(k){r.onUnhandledError(k);try{let M=n[f];typeof M=="function"&&M.call(this,k)}catch{}}function m(k){return k&&typeof k.then=="function"}function v(k){return k}function g(k){return Ee.reject(k)}let E=a("state"),_=a("value"),I=a("finally"),V=a("parentPromiseValue"),Y=a("parentPromiseState"),ie="Promise.then",P=null,Ae=!0,fe=!1,ee=0;function Q(k,M){return w=>{try{he(k,M,w)}catch(N){he(k,!1,N)}}}let ae=function(){let k=!1;return function(w){return function(){k||(k=!0,w.apply(null,arguments))}}},Bt="Promise resolved with itself",He=a("currentTaskTrace");function he(k,M,w){let N=ae();if(k===w)throw new TypeError(Bt);if(k[E]===P){let K=null;try{(typeof w=="object"||typeof w=="function")&&(K=w&&w.then)}catch(te){return N(()=>{he(k,!1,te)})(),k}if(M!==fe&&w instanceof Ee&&w.hasOwnProperty(E)&&w.hasOwnProperty(_)&&w[E]!==P)y(w),he(k,w[E],w[_]);else if(M!==fe&&typeof K=="function")try{K.call(w,N(Q(k,M)),N(Q(k,!1)))}catch(te){N(()=>{he(k,!1,te)})()}else{k[E]=M;let te=k[_];if(k[_]=w,k[I]===I&&M===Ae&&(k[E]=k[Y],k[_]=k[V]),M===fe&&w instanceof Error){let G=n.currentTask&&n.currentTask.data&&n.currentTask.data[h];G&&o(w,He,{configurable:!0,enumerable:!1,writable:!0,value:G})}for(let G=0;G<te.length;)b(k,te[G++],te[G++],te[G++],te[G++]);if(te.length==0&&M==fe){k[E]=ee;let G=w;try{throw new Error("Uncaught (in promise): "+s(w)+(w&&w.stack?`
`+w.stack:""))}catch(pe){G=pe}c&&(G.throwOriginal=!0),G.rejection=w,G.promise=k,G.zone=n.current,G.task=n.currentTask,l.push(G),r.scheduleMicroTask()}}}return k}let z=a("rejectionHandledHandler");function y(k){if(k[E]===ee){try{let M=n[z];M&&typeof M=="function"&&M.call(this,{rejection:k[_],promise:k})}catch{}k[E]=fe;for(let M=0;M<l.length;M++)k===l[M].promise&&l.splice(M,1)}}function b(k,M,w,N,K){y(k);let te=k[E],G=te?typeof N=="function"?N:v:typeof K=="function"?K:g;M.scheduleMicroTask(ie,()=>{try{let pe=k[_],me=!!w&&I===w[I];me&&(w[V]=pe,w[Y]=te);let ge=M.run(G,void 0,me&&G!==g&&G!==v?[]:[pe]);he(w,!0,ge)}catch(pe){he(w,!1,pe)}},w)}let Z="function ZoneAwarePromise() { [native code] }",J=function(){},$e=e.AggregateError;class Ee{static toString(){return Z}static resolve(M){return M instanceof Ee?M:he(new this(null),Ae,M)}static reject(M){return he(new this(null),fe,M)}static withResolvers(){let M={};return M.promise=new Ee((w,N)=>{M.resolve=w,M.reject=N}),M}static any(M){if(!M||typeof M[Symbol.iterator]!="function")return Promise.reject(new $e([],"All promises were rejected"));let w=[],N=0;try{for(let G of M)N++,w.push(Ee.resolve(G))}catch{return Promise.reject(new $e([],"All promises were rejected"))}if(N===0)return Promise.reject(new $e([],"All promises were rejected"));let K=!1,te=[];return new Ee((G,pe)=>{for(let me=0;me<w.length;me++)w[me].then(ge=>{K||(K=!0,G(ge))},ge=>{te.push(ge),N--,N===0&&(K=!0,pe(new $e(te,"All promises were rejected")))})})}static race(M){let w,N,K=new this((pe,me)=>{w=pe,N=me});function te(pe){w(pe)}function G(pe){N(pe)}for(let pe of M)m(pe)||(pe=this.resolve(pe)),pe.then(te,G);return K}static all(M){return Ee.allWithCallback(M)}static allSettled(M){return(this&&this.prototype instanceof Ee?this:Ee).allWithCallback(M,{thenCallback:N=>({status:"fulfilled",value:N}),errorCallback:N=>({status:"rejected",reason:N})})}static allWithCallback(M,w){let N,K,te=new this((ge,Ne)=>{N=ge,K=Ne}),G=2,pe=0,me=[];for(let ge of M){m(ge)||(ge=this.resolve(ge));let Ne=pe;try{ge.then(Oe=>{me[Ne]=w?w.thenCallback(Oe):Oe,G--,G===0&&N(me)},Oe=>{w?(me[Ne]=w.errorCallback(Oe),G--,G===0&&N(me)):K(Oe)})}catch(Oe){K(Oe)}G++,pe++}return G-=2,G===0&&N(me),te}constructor(M){let w=this;if(!(w instanceof Ee))throw new Error("Must be an instanceof Promise.");w[E]=P,w[_]=[];try{let N=ae();M&&M(N(Q(w,Ae)),N(Q(w,fe)))}catch(N){he(w,!1,N)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Ee}then(M,w){let N=this.constructor?.[Symbol.species];(!N||typeof N!="function")&&(N=this.constructor||Ee);let K=new N(J),te=n.current;return this[E]==P?this[_].push(te,K,M,w):b(this,te,K,M,w),K}catch(M){return this.then(null,M)}finally(M){let w=this.constructor?.[Symbol.species];(!w||typeof w!="function")&&(w=Ee);let N=new w(J);N[I]=I;let K=n.current;return this[E]==P?this[_].push(K,N,M,M):b(this,K,N,M,M),N}}Ee.resolve=Ee.resolve,Ee.reject=Ee.reject,Ee.race=Ee.race,Ee.all=Ee.all;let yi=e[u]=e.Promise;e.Promise=Ee;let Or=a("thenPatched");function kr(k){let M=k.prototype,w=i(M,"then");if(w&&(w.writable===!1||!w.configurable))return;let N=M.then;M[d]=N,k.prototype.then=function(K,te){return new Ee((pe,me)=>{N.call(this,pe,me)}).then(K,te)},k[Or]=!0}r.patchThen=kr;function jn(k){return function(M,w){let N=k.apply(M,w);if(N instanceof Ee)return N;let K=N.constructor;return K[Or]||kr(K),N}}return yi&&(kr(yi),Lr(e,"fetch",k=>jn(k))),Promise[n.__symbol__("uncaughtPromiseErrors")]=l,Ee})}function FN(t){t.__load_patch("toString",e=>{let n=Function.prototype.toString,r=Ie("OriginalDelegate"),i=Ie("Promise"),o=Ie("Error"),s=function(){if(typeof this=="function"){let u=this[r];if(u)return typeof u=="function"?n.call(u):Object.prototype.toString.call(u);if(this===Promise){let d=e[i];if(d)return n.call(d)}if(this===Error){let d=e[o];if(d)return n.call(d)}}return n.call(this)};s[r]=n,Function.prototype.toString=s;let a=Object.prototype.toString,l="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?l:a.call(this)}})}function jN(t,e,n,r,i){let o=Zone.__symbol__(r);if(e[o])return;let s=e[o]=e[r];e[r]=function(a,l,c){return l&&l.prototype&&i.forEach(function(u){let d=`${n}.${r}::`+u,h=l.prototype;try{if(h.hasOwnProperty(u)){let f=t.ObjectGetOwnPropertyDescriptor(h,u);f&&f.value?(f.value=t.wrapWithCurrentZone(f.value,d),t._redefineProperty(l.prototype,u,f)):h[u]&&(h[u]=t.wrapWithCurrentZone(h[u],d))}else h[u]&&(h[u]=t.wrapWithCurrentZone(h[u],d))}catch{}}),s.call(e,a,l,c)},t.attachOriginToPatched(e[r],s)}function VN(t){t.__load_patch("util",(e,n,r)=>{let i=om(e);r.patchOnProperties=BE,r.patchMethod=Lr,r.bindArguments=fm,r.patchMacroTask=IN;let o=n.__symbol__("BLACK_LISTED_EVENTS"),s=n.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[o]=e[s]),e[o]&&(n[o]=n[s]=e[o]),r.patchEventPrototype=AN,r.patchEventTarget=xN,r.isIEOrEdge=SN,r.ObjectDefineProperty=sm,r.ObjectGetOwnPropertyDescriptor=dl,r.ObjectCreate=EN,r.ArraySlice=_N,r.patchClass=ul,r.wrapWithCurrentZone=um,r.filterProperties=GE,r.attachOriginToPatched=Fr,r._redefineProperty=Object.defineProperty,r.patchCallbacks=jN,r.getGlobalObjects=()=>({globalSources:UE,zoneSymbolEventNames:bn,eventNames:i,isBrowser:hm,isMix:VE,isNode:xu,TRUE_STR:Rr,FALSE_STR:Pr,ZONE_SYMBOL_PREFIX:fl,ADD_EVENT_LISTENER_STR:lm,REMOVE_EVENT_LISTENER_STR:cm})})}function BN(t){LN(t),FN(t),VN(t)}var WE=bN();BN(WE);PN(WE);var pm;function Au(){return pm}function lr(t){let e=pm;return pm=t,e}var ZE=Symbol("NotFound");function ws(t){return t===ZE||t?.name==="\u0275NotFound"}var xt=null,Mu=!1,mm=1,UN=null,At=Symbol("SIGNAL");function de(t){let e=xt;return xt=t,e}function Ru(){return xt}var Cs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ds(t){if(Mu)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(t);let e=xt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=xt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:xt.producers,n!==void 0&&n.producer===t)){xt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===xt&&(!r||$N(i,xt)))return;let o=Ss(xt),s={producer:t,consumer:xt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};xt.producersTail=s,e!==void 0?e.nextProducer=s:xt.producers=s,o&&XE(t,s)}function KE(){mm++}function Pu(t){if(!(Ss(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===mm)){if(!t.producerMustRecompute(t)&&!gl(t)){ku(t);return}t.producerRecomputeValue(t),ku(t)}}function gm(t){if(t.consumers===void 0)return;let e=Mu;Mu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||HN(r)}}finally{Mu=e}}function ym(){return xt?.consumerAllowSignalWrites!==!1}function HN(t){t.dirty=!0,gm(t),t.consumerMarkedDirty?.(t)}function ku(t){t.dirty=!1,t.lastCleanEpoch=mm}function Is(t){return t&&YE(t),de(t)}function YE(t){t.producersTail=void 0,t.recomputing=!0}function ml(t,e){de(e),t&&QE(t)}function QE(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Ss(t))do n=vm(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function gl(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Pu(n),r!==n.version))return!0}return!1}function yl(t){if(Ss(t)){let e=t.producers;for(;e!==void 0;)e=vm(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function XE(t,e){let n=t.consumersTail,r=Ss(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)XE(i.producer,i)}function vm(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ss(e)){let o=e.producers;for(;o!==void 0;)o=vm(o)}return n}function Ss(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Lu(t){UN?.(t)}function $N(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Fu(t,e){return Object.is(t,e)}function ju(t,e){let n=Object.create(qN);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Pu(n),Ds(n),n.value===pl)throw n.error;return n.value};return r[At]=n,Lu(n),r}var Nu=Symbol("UNSET"),Ou=Symbol("COMPUTING"),pl=Symbol("ERRORED"),qN=W(S({},Cs),{value:Nu,dirty:!0,error:null,equal:Fu,kind:"computed",producerMustRecompute(t){return t.value===Nu||t.value===Ou},producerRecomputeValue(t){if(t.value===Ou)throw new Error("");let e=t.value;t.value=Ou;let n=Is(t),r,i=!1;try{r=t.computation(),de(null),i=e!==Nu&&e!==pl&&r!==pl&&t.equal(e,r)}catch(o){r=pl,t.error=o}finally{ml(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function zN(){throw new Error}var JE=zN;function e_(t){JE(t)}function bm(t){JE=t}var GN=null;function Em(t,e){let n=Object.create(Vu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>t_(n);return r[At]=n,Lu(n),[r,s=>Ts(n,s),s=>_m(n,s)]}function t_(t){return Ds(t),t.value}function Ts(t,e){ym()||e_(t),t.equal(t.value,e)||(t.value=e,WN(t))}function _m(t,e){ym()||e_(t),Ts(t,e(t.value))}var Vu=W(S({},Cs),{equal:Fu,value:void 0,kind:"signal"});function WN(t){t.version++,KE(),gm(t),GN?.(t)}function oe(t){return typeof t=="function"}function xs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bu=xs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Bu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{n_(o)}catch(s){e=e??[],s instanceof Bu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Bu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)n_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lo(n,e)}remove(e){let{_finalizers:n}=this;n&&lo(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var wm=qe.EMPTY;function Uu(t){return t instanceof qe||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function n_(t){oe(t)?t():t.unsubscribe()}var Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var As={setTimeout(t,e,...n){let{delegate:r}=As;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=As;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hu(t){As.setTimeout(()=>{let{onUnhandledError:e}=Un;if(e)e(t);else throw t})}function co(){}var r_=Cm("C",void 0,void 0);function i_(t){return Cm("E",void 0,t)}function o_(t){return Cm("N",t,void 0)}function Cm(t,e,n){return{kind:t,value:e,error:n}}var uo=null;function Ms(t){if(Un.useDeprecatedSynchronousErrorHandling){let e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=uo;if(uo=null,n)throw r}}else t()}function s_(t){Un.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}var fo=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=YN}static create(e,n,r){return new jr(e,n,r)}next(e){this.isStopped?Im(o_(e),this):this._next(e)}error(e){this.isStopped?Im(i_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Im(r_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZN=Function.prototype.bind;function Dm(t,e){return ZN.call(t,e)}var Sm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$u(r)}else $u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$u(n)}}},jr=class extends fo{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dm(e.next,o),error:e.error&&Dm(e.error,o),complete:e.complete&&Dm(e.complete,o)}):i=e}this.destination=new Sm(i)}};function $u(t){Un.useDeprecatedSynchronousErrorHandling?s_(t):Hu(t)}function KN(t){throw t}function Im(t,e){let{onStoppedNotification:n}=Un;n&&As.setTimeout(()=>n(t,e))}var YN={closed:!0,next:co,error:KN,complete:co};var Ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function Tm(...t){return xm(t)}function xm(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XN(n)?n:new jr(n,r,i);return Ms(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=a_(r),new r((i,o)=>{let s=new jr({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ns](){return this}pipe(...n){return xm(n)(this)}toPromise(n){return n=a_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function a_(t){var e;return(e=t??Un.Promise)!==null&&e!==void 0?e:Promise}function QN(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function XN(t){return t&&t instanceof fo||QN(t)&&Uu(t)}function Am(t){return oe(t?.lift)}function le(t){return e=>{if(Am(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Mm(t,e,n,r,i)}var Mm=class extends fo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Os(){return le((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ks=class extends ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Am(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Os()(this)}};var l_=xs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=(()=>{class t extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new l_}next(n){Ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?wm:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,lo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ve;return n.source=this,n}}return t.create=(e,n)=>new qu(e,n),t})(),qu=class extends Ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:wm}};var Ze=class extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vl={now(){return(vl.delegate||Date).now()},delegate:void 0};var Vr=class extends Ce{constructor(e=1/0,n=1/0,r=vl){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var zu=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var bl={setInterval(t,e,...n){let{delegate:r}=bl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gu=class extends zu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&bl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Rs.now=vl.now;var Wu=class extends Rs{constructor(e,n=Rs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var c_=new Wu(Gu);var Mt=new ve(t=>t.complete());function u_(t){return t&&oe(t.schedule)}function Nm(t){return t[t.length-1]}function Ps(t){return oe(Nm(t))?t.pop():void 0}function cr(t){return u_(Nm(t))?t.pop():void 0}function d_(t,e){return typeof Nm(t)=="number"?t.pop():e}function h_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function f_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ho(t){return this instanceof ho?(this.v=t,this):new ho(t)}function p_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(v,g){o.push([f,m,v,g])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(o[0][3],m)}}function c(f){f.value instanceof ho?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function m_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof f_=="function"?f_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Zu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ku(t){return oe(t?.then)}function Yu(t){return oe(t[Ns])}function Qu(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ju=JN();function ed(t){return oe(t?.[Ju])}function td(t){return p_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ho(n.read());if(i)return yield ho(void 0);yield yield ho(r)}}finally{n.releaseLock()}})}function nd(t){return oe(t?.getReader)}function Me(t){if(t instanceof ve)return t;if(t!=null){if(Yu(t))return eO(t);if(Zu(t))return tO(t);if(Ku(t))return nO(t);if(Qu(t))return g_(t);if(ed(t))return rO(t);if(nd(t))return iO(t)}throw Xu(t)}function eO(t){return new ve(e=>{let n=t[Ns]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tO(t){return new ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nO(t){return new ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hu)})}function rO(t){return new ve(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function g_(t){return new ve(e=>{oO(t,e).catch(n=>e.error(n))})}function iO(t){return g_(td(t))}function oO(t,e){var n,r,i,o;return h_(this,void 0,void 0,function*(){try{for(n=m_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function rd(t,e=0){return le((n,r)=>{n.subscribe(se(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function id(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function y_(t,e){return Me(t).pipe(id(e),rd(e))}function v_(t,e){return Me(t).pipe(id(e),rd(e))}function b_(t,e){return new ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function E_(t,e){return new ve(n=>{let r;return Wt(n,e,()=>{r=t[Ju](),Wt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function od(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function __(t,e){return od(td(t),e)}function w_(t,e){if(t!=null){if(Yu(t))return y_(t,e);if(Zu(t))return b_(t,e);if(Ku(t))return v_(t,e);if(Qu(t))return od(t,e);if(ed(t))return E_(t,e);if(nd(t))return __(t,e)}throw Xu(t)}function be(t,e){return e?w_(t,e):Me(t)}function H(...t){let e=cr(t);return be(t,e)}function Hn(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new ve(e?i=>e.schedule(r,0,i):r)}function Om(t){return!!t&&(t instanceof ve||oe(t.lift)&&oe(t.subscribe))}var Br=xs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:sO}=Array;function aO(t,e){return sO(e)?t(...e):t(e)}function sd(t){return X(e=>aO(t,e))}var{isArray:lO}=Array,{getPrototypeOf:cO,prototype:uO,keys:dO}=Object;function ad(t){if(t.length===1){let e=t[0];if(lO(e))return{args:e,keys:null};if(fO(e)){let n=dO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function fO(t){return t&&typeof t=="object"&&cO(t)===uO}function ld(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function El(...t){let e=cr(t),n=Ps(t),{args:r,keys:i}=ad(t);if(r.length===0)return be([],e);let o=new ve(hO(r,e,i?s=>ld(i,s):_t));return n?o.pipe(sd(n)):o}function hO(t,e,n=_t){return r=>{C_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)C_(e,()=>{let c=be(t[l],e),u=!1;c.subscribe(se(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function C_(t,e,n){t?Wt(n,t,e):e()}function D_(t,e,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let v=!1;Me(n(m,u++)).subscribe(se(e,g=>{i?.(g),o?f(g):e.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){let g=l.shift();s?Wt(e,s,()=>p(g)):p(g)}h()}catch(g){e.error(g)}}))};return t.subscribe(se(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Pe(t,e,n=1/0){return oe(e)?Pe((r,i)=>X((o,s)=>e(r,o,i,s))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>D_(r,i,t,n)))}function Ei(t=1/0){return Pe(_t,t)}function I_(){return Ei(1)}function Ls(...t){return I_()(be(t,cr(t)))}function $n(t){return new ve(e=>{Me(t()).subscribe(e)})}function km(...t){let e=Ps(t),{args:n,keys:r}=ad(t),i=new ve(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Me(n[u]).subscribe(se(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?ld(r,a):a),o.complete())}))}});return e?i.pipe(sd(e)):i}function cd(t,e,n){return $n(()=>t()?e:n)}function Rm(...t){let e=cr(t),n=d_(t,1/0),r=t;return r.length?r.length===1?Me(r[0]):Ei(n)(be(r,e)):Mt}function yt(t,e){return le((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ut(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Me(t(s,Ut(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function S_(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(se(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Nt(t,e){return oe(e)?Pe(t,e,1):Pe(t,1)}function _l(t,e=c_){return le((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,r.next(c)}};function l(){let c=s+t,u=e.now();if(u<c){i=this.schedule(void 0,c-u),r.add(i);return}a()}n.subscribe(se(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function _i(t){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ln(t){return t<=0?()=>Mt:le((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pm(t){return X(()=>t)}function Ur(t,e=_t){return t=t??pO,le((n,r)=>{let i,o=!0;n.subscribe(se(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function pO(t,e){return t===e}function ud(t=mO){return le((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mO(){return new Br}function wl(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function En(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,o)=>t(i,o,r)):_t,ln(1),n?_i(e):ud(()=>new Br))}function Fs(t){return t<=0?()=>Mt:le((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Lm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?yt((i,o)=>t(i,o,r)):_t,Fs(1),n?_i(e):ud(()=>new Br))}function Fm(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return X(n=>{let r=n;for(let i=0;i<e;i++){let o=r?.[t[i]];if(typeof o<"u")r=o;else return}return r})}function Cl(t,e){return le(S_(t,e,arguments.length>=2,!0))}function T_(t={}){let{connector:e=()=>new Ce,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return le((m,v)=>{c++,!d&&!u&&h();let g=l=l??e();v.add(()=>{c--,c===0&&!d&&!u&&(a=jm(p,i))}),g.subscribe(v),!s&&c>0&&(s=new jr({next:E=>g.next(E),error:E=>{d=!0,h(),a=jm(f,n,E),g.error(E)},complete:()=>{u=!0,h(),a=jm(f,r),g.complete()}}),Me(m).subscribe(s))})(o)}}function jm(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new jr({next:()=>{r.unsubscribe(),t()}});return Me(e(...n)).subscribe(r)}function Vm(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,T_({connector:()=>new Vr(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Bm(...t){let e=cr(t);return le((n,r)=>{(e?Ls(t,n,e):Ls(t,n)).subscribe(r)})}function tt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(se(r,l=>{i?.unsubscribe();let c=0,u=o++;Me(t(l,u)).subscribe(i=se(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function js(t){return le((e,n)=>{Me(t).subscribe(se(n,()=>n.complete(),co)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(se(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):_t}function Um(...t){let e=Ps(t);return le((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let l=0;l<i;l++)Me(t[l]).subscribe(se(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(_t))&&(s=null))},co));n.subscribe(se(r,l=>{if(a){let c=[l,...o];r.next(e?e(...c):c)}}))})}function x_(t){let e=de(null);try{return t()}finally{de(e)}}var Bs=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Jm=new Bs("20.3.14");var pd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,n){super(Di(e,n)),this.code=e}};function gO(t){return`NG0${Math.abs(t)}`}function Di(t,e){return`${gO(t)}${e?": "+e:""}`}var bo=globalThis;function Se(t){for(let e in t)if(t[e]===Se)return e;throw Error("")}function N_(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $r(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map($r).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function eg(t,e){return t?e?`${t} ${e}`:t:e||""}var yO=Se({__forward_ref__:Se});function qr(t){return t.__forward_ref__=qr,t.toString=function(){return $r(this())},t}function wt(t){return tg(t)?t():t}function tg(t){return typeof t=="function"&&t.hasOwnProperty(yO)&&t.__forward_ref__===qr}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _n(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tl(t){return vO(t,md)}function ng(t){return Tl(t)!==null}function vO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function bO(t){let e=t?.[md]??null;return e||null}function $m(t){return t&&t.hasOwnProperty(fd)?t[fd]:null}var md=Se({\u0275prov:Se}),fd=Se({\u0275inj:Se}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rg(t){return t&&!!t.\u0275providers}var ig=Se({\u0275cmp:Se}),og=Se({\u0275dir:Se}),sg=Se({\u0275pipe:Se}),ag=Se({\u0275mod:Se}),Il=Se({\u0275fac:Se}),Eo=Se({__NG_ELEMENT_ID__:Se}),A_=Se({__NG_ENV_ID__:Se});function Us(t){return typeof t=="string"?t:t==null?"":String(t)}function O_(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Us(t)}var k_=Se({ngErrorCode:Se}),EO=Se({ngErrorMessage:Se}),_O=Se({ngTokenPath:Se});function lg(t,e){return R_("",-200,e)}function gd(t,e){throw new $(-201,!1)}function R_(t,e,n){let r=new $(e,t);return r[k_]=e,r[EO]=t,n&&(r[_O]=n),r}function wO(t){return t[k_]}var qm;function P_(){return qm}function cn(t){let e=qm;return qm=t,e}function cg(t,e,n){let r=Tl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;gd(t,"Injector")}var CO={},po=CO,DO="__NG_DI_FLAG__",zm=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=mo(n)||0;try{return this.injector.get(e,r&8?null:po,r)}catch(i){if(ws(i))return i;throw i}}};function IO(t,e=0){let n=Au();if(n===void 0)throw new $(-203,!1);if(n===null)return cg(t,void 0,e);{let r=SO(e),i=n.retrieve(t,r);if(ws(i)){if(r.optional)return null;throw i}return i}}function B(t,e=0){return(P_()||IO)(wt(t),e)}function x(t,e){return B(t,mo(e))}function mo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function SO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Gm(t){let e=[];for(let n=0;n<t.length;n++){let r=wt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=TO(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(B(i,o))}else e.push(B(r))}return e}function TO(t){return t[DO]}function go(t,e){let n=t.hasOwnProperty(Il);return n?t[Il]:null}function yd(t,e){t.forEach(n=>Array.isArray(n)?yd(n,e):e(n))}function ug(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function L_(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function F_(t,e,n){let r=Hs(t,e);return r>=0?t[r|1]=n:(r=~r,L_(t,r,e,n)),r}function vd(t,e){let n=Hs(t,e);if(n>=0)return t[n|1]}function Hs(t,e){return xO(t,e,1)}function xO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ii={},un=[],zr=new U(""),dg=new U("",-1),fg=new U(""),Sl=class{get(e,n=po){if(n===po){let i=R_("",-201);throw i.name="\u0275NotFound",i}return n}};function hg(t){return t[ag]||null}function Gr(t){return t[ig]||null}function pg(t){return t[og]||null}function j_(t){return t[sg]||null}function Si(t){return{\u0275providers:t}}function V_(t){return Si([{provide:zr,multi:!0,useValue:t}])}function B_(...t){return{\u0275providers:mg(!0,t),\u0275fromNgModule:!0}}function mg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return yd(e,s=>{let a=s;hd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&U_(i,o),n}function U_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gg(i,o=>{e(o,r)})}}function hd(t,e,n,r){if(t=wt(t),!t)return!1;let i=null,o=$m(t),s=!o&&Gr(t);if(!o&&!s){let l=t.ngModule;if(o=$m(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)hd(c,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{yd(o.imports,u=>{hd(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&U_(c,e)}if(!a){let c=go(i)||(()=>new i);e({provide:i,useFactory:c,deps:un},i),e({provide:fg,useValue:i,multi:!0},i),e({provide:zr,useValue:()=>B(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;gg(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function gg(t,e){for(let n of t)rg(n)&&(n=n.\u0275providers),Array.isArray(n)?gg(n,e):e(n)}var AO=Se({provide:String,useValue:Se});function H_(t){return t!==null&&typeof t=="object"&&AO in t}function MO(t){return!!(t&&t.useExisting)}function NO(t){return!!(t&&t.useFactory)}function yo(t){return typeof t=="function"}function $_(t){return!!t.useClass}var Al=new U(""),dd={},M_={},Hm;function Ml(){return Hm===void 0&&(Hm=new Sl),Hm}var ut=class{},vo=class extends ut{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Zm(e,s=>this.processProvider(s)),this.records.set(dg,Vs(void 0,this)),i.has("environment")&&this.records.set(ut,Vs(void 0,this));let o=this.records.get(Al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fg,un,{self:!0}))}retrieve(e,n){let r=mo(n)||0;try{return this.get(e,po,r)}catch(i){if(ws(i))return i;throw i}}destroy(){Dl(this),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return Dl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Dl(this);let n=lr(this),r=cn(void 0),i;try{return e()}finally{lr(n),cn(r)}}get(e,n=po,r){if(Dl(this),e.hasOwnProperty(A_))return e[A_](this);let i=mo(r),o,s=lr(this),a=cn(void 0);try{if(!(i&4)){let c=this.records.get(e);if(c===void 0){let u=LO(e)&&Tl(e);u&&this.injectableDefInScope(u)?c=Vs(Wm(e),dd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,i)}let l=i&2?Ml():this.parent;return n=i&8&&n===po?null:n,l.get(e,n)}catch(l){let c=wO(l);throw c===-200||c===-201?new $(c,null):l}finally{cn(a),lr(s)}}resolveInjectorInitializers(){let e=de(null),n=lr(this),r=cn(void 0),i;try{let o=this.get(zr,un,{self:!0});for(let s of o)s()}finally{lr(n),cn(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push($r(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=wt(e);let n=yo(e)?e:wt(e&&e.provide),r=kO(e);if(!yo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Vs(void 0,dd,!0),i.factory=()=>Gm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=de(null);try{if(n.value===M_)throw lg($r(e));return n.value===dd&&(n.value=M_,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&PO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=wt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wm(t){let e=Tl(t),n=e!==null?e.factory:go(t);if(n!==null)return n;if(t instanceof U)throw new $(204,!1);if(t instanceof Function)return OO(t);throw new $(204,!1)}function OO(t){if(t.length>0)throw new $(204,!1);let n=bO(t);return n!==null?()=>n.factory(t):()=>new t}function kO(t){if(H_(t))return Vs(void 0,t.useValue);{let e=yg(t);return Vs(e,dd)}}function yg(t,e,n){let r;if(yo(t)){let i=wt(t);return go(i)||Wm(i)}else if(H_(t))r=()=>wt(t.useValue);else if(NO(t))r=()=>t.useFactory(...Gm(t.deps||[]));else if(MO(t))r=(i,o)=>B(wt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=wt(t&&(t.useClass||t.provide));if(RO(t))r=()=>new i(...Gm(t.deps));else return go(i)||Wm(i)}return r}function Dl(t){if(t.destroyed)throw new $(205,!1)}function Vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RO(t){return!!t.deps}function PO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Zm(t,e){for(let n of t)Array.isArray(n)?Zm(n,e):n&&rg(n)?Zm(n.\u0275providers,e):e(n)}function kt(t,e){let n;t instanceof vo?(Dl(t),n=t):n=new zm(t);let r,i=lr(n),o=cn(void 0);try{return e()}finally{lr(i),cn(o)}}function q_(){return P_()!==void 0||Au()!=null}var zn=0,ce=1,ne=2,Ct=3,wn=4,Cn=5,Nl=6,$s=7,Rt=8,Ti=9,ur=10,ze=11,qs=12,vg=13,_o=14,Dn=15,wo=16,Co=17,Do=18,Ol=19,bg=20,Hr=21,bd=22,kl=23,dn=24,Io=25,Rl=26,Zt=27,z_=1;var xi=7,Pl=8,Ll=9,Kt=10;function dr(t){return Array.isArray(t)&&typeof t[z_]=="object"}function Gn(t){return Array.isArray(t)&&t[z_]===!0}function Eg(t){return(t.flags&4)!==0}function Ai(t){return t.componentOffset>-1}function Fl(t){return(t.flags&1)===1}function fr(t){return!!t.template}function zs(t){return(t[ne]&512)!==0}function So(t){return(t[ne]&256)===256}var _g="svg",G_="math";function In(t){for(;Array.isArray(t);)t=t[zn];return t}function wg(t,e){return In(e[t])}function Wn(t,e){return In(e[t.index])}function Ed(t,e){return t.data[e]}function Sn(t,e){let n=e[t];return dr(n)?n:n[zn]}function _d(t){return(t[ne]&128)===128}function W_(t){return Gn(t[Ct])}function To(t,e){return e==null?null:t[e]}function Cg(t){t[Co]=0}function Dg(t){t[ne]&1024||(t[ne]|=1024,_d(t)&&Gs(t))}function Z_(t,e){for(;t>0;)e=e[_o],t--;return e}function jl(t){return!!(t[ne]&9216||t[dn]?.dirty)}function wd(t){t[ur].changeDetectionScheduler?.notify(8),t[ne]&64&&(t[ne]|=1024),jl(t)&&Gs(t)}function Gs(t){t[ur].changeDetectionScheduler?.notify(0);let e=wi(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!_d(e)));)e=wi(e)}function Ig(t,e){if(So(t))throw new $(911,!1);t[Hr]===null&&(t[Hr]=[]),t[Hr].push(e)}function K_(t,e){if(t[Hr]===null)return;let n=t[Hr].indexOf(e);n!==-1&&t[Hr].splice(n,1)}function wi(t){let e=t[Ct];return Gn(e)?e[Ct]:e}function Y_(t){return t[$s]??=[]}function Q_(t){return t.cleanup??=[]}var ye={lFrame:dw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Km=!1;function X_(){return ye.lFrame.elementDepthCount}function J_(){ye.lFrame.elementDepthCount++}function Sg(){ye.lFrame.elementDepthCount--}function Tg(){return ye.bindingsEnabled}function ew(){return ye.skipHydrationRootTNode!==null}function xg(t){return ye.skipHydrationRootTNode===t}function Ag(){ye.skipHydrationRootTNode=null}function Te(){return ye.lFrame.lView}function fn(){return ye.lFrame.tView}function dt(t){return ye.lFrame.contextLView=t,t[Rt]}function ft(t){return ye.lFrame.contextLView=null,t}function Dt(){let t=Mg();for(;t!==null&&t.type===64;)t=t.parent;return t}function Mg(){return ye.lFrame.currentTNode}function tw(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ws(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function Ng(){return ye.lFrame.isParent}function nw(){ye.lFrame.isParent=!1}function Og(){return Km}function kg(t){let e=Km;return Km=t,e}function rw(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function iw(t){return ye.lFrame.bindingIndex=t}function Vl(){return ye.lFrame.bindingIndex++}function ow(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function sw(){return ye.lFrame.inI18n}function aw(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cd(e)}function lw(){return ye.lFrame.currentDirectiveIndex}function Cd(t){ye.lFrame.currentDirectiveIndex=t}function cw(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Rg(t){ye.lFrame.currentQueryIndex=t}function FO(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Cn]:null}function Pg(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=FO(o),i===null||(o=o[_o],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ye.lFrame=uw();return r.currentTNode=e,r.lView=t,!0}function Dd(t){let e=uw(),n=t[ce];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function uw(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?dw(t):e}function dw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function fw(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Lg=fw;function Id(){let t=fw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hw(t){return(ye.lFrame.contextLView=Z_(t,ye.lFrame.contextLView))[Rt]}function xo(){return ye.lFrame.selectedIndex}function Mi(t){ye.lFrame.selectedIndex=t}function Sd(){let t=ye.lFrame;return Ed(t.tView,t.selectedIndex)}function nt(){ye.lFrame.currentNamespace=_g}function rt(){jO()}function jO(){ye.lFrame.currentNamespace=null}function pw(){return ye.lFrame.currentNamespace}var mw=!0;function Td(){return mw}function xd(t){mw=t}function Ym(t,e=null,n=null,r){let i=Fg(t,e,n,r);return i.resolveInjectorInitializers(),i}function Fg(t,e=null,n=null,r,i=new Set){let o=[n||un,B_(t)];return r=r||(typeof t=="object"?void 0:$r(t)),new vo(o,e||Ml(),r||null,i)}var Ot=class t{static THROW_IF_NOT_FOUND=po;static NULL=new Sl;static create(e,n){if(Array.isArray(e))return Ym({name:""},n,e,"");{let r=e.name??"";return Ym({name:r},e.parent,e.providers,r)}}static \u0275prov=L({token:t,providedIn:"any",factory:()=>B(dg)});static __NG_ELEMENT_ID__=-1},Ke=new U(""),Zn=(()=>{class t{static __NG_ELEMENT_ID__=VO;static __NG_ENV_ID__=n=>n}return t})(),Qm=class extends Zn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return So(this._lView)}onDestroy(e){let n=this._lView;return Ig(n,e),()=>K_(n,e)}};function VO(){return new Qm(Te())}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Yt=new U("",{providedIn:"root",factory:()=>{let t=x(ut),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(qn),e.handleError(n))}}}),gw={provide:zr,useValue:()=>void x(qn),multi:!0},BO=new U("",{providedIn:"root",factory:()=>{let t=x(Ke).defaultView;if(!t)return;let e=x(Yt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),x(Zn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function jg(){return Si([V_(()=>void x(BO))])}function Vg(t){return typeof t=="function"&&t[At]!==void 0}function hr(t,e){let[n,r,i]=Em(t,e?.equal),o=n,s=o[At];return o.set=r,o.update=i,o.asReadonly=yw.bind(o),o}function yw(){let t=this[At];if(t.readonlyFn===void 0){let e=()=>this();e[At]=t,t.readonlyFn=e}return t.readonlyFn}function Bg(t){return Vg(t)&&typeof t.set=="function"}var Ad=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=UO}return t})();function UO(){return new Ad(Te(),Dt())}var Ci=class{},Bl=new U("",{providedIn:"root",factory:()=>!1});var Ug=new U(""),Hg=new U(""),Wr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ze(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ve(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ul(...t){}var $g=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>new Xm})}return t})(),Xm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Wl(t){return{toString:t}.toString()}function KO(t){return typeof t=="function"}var Fd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Oi=(()=>{let t=()=>tC;return t.ngInherit=!0,t})();function tC(t){return t.type.prototype.ngOnChanges&&(t.setInput=QO),YO}function YO(){let t=rC(this),e=t?.current;if(e){let n=t.previous;if(n===Ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QO(t,e,n,r,i){let o=this.declaredInputs[r],s=rC(t)||XO(t,{previous:Ii,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Fd(c&&c.currentValue,n,l===Ii),eC(t,e,i,n)}var nC="__ngSimpleChanges__";function rC(t){return t[nC]||null}function XO(t,e){return t[nC]=e}var vw=[];var xe=function(t,e=null,n){for(let r=0;r<vw.length;r++){let i=vw[r];i(t,e,n)}};function JO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function iC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Rd(t,e,n){oC(t,e,3,n)}function Pd(t,e,n,r){(t[ne]&3)===n&&oC(t,e,n,r)}function qg(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function oC(t,e,n,r){let i=r!==void 0?t[Co]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Co]+=65536),(a<o||o==-1)&&(ek(t,n,e,l),t[Co]=(t[Co]&4294901760)+l+2),l++}function bw(t,e){xe(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),xe(5,t,e)}}function ek(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[Co]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,bw(a,o)):bw(a,o)}var Ks=-1,Mo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function tk(t){return(t.flags&8)!==0}function nk(t){return(t.flags&16)!==0}function rk(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];ik(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function sC(t){return t===3||t===4||t===6}function ik(t){return t.charCodeAt(0)===64}function Ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Ew(t,n,i,null,e[++r]):Ew(t,n,i,null,null))}}return t}function Ew(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function aC(t){return t!==Ks}function jd(t){return t&32767}function ok(t){return t>>16}function Vd(t,e){let n=ok(t),r=e;for(;n>0;)r=r[_o],n--;return r}var ey=!0;function _w(t){let e=ey;return ey=t,e}var sk=256,lC=sk-1,cC=5,ak=0,pr={};function lk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Eo)&&(r=n[Eo]),r==null&&(r=n[Eo]=ak++);let i=r&lC,o=1<<i;e.data[t+(i>>cC)]|=o}function Bd(t,e){let n=uC(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,zg(r.data,t),zg(e,null),zg(r.blueprint,null));let i=wy(t,e),o=t.injectorIndex;if(aC(i)){let s=jd(i),a=Vd(i,e),l=a[ce].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function zg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function wy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=mC(i),r===null)return Ks;if(n++,i=i[_o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ks}function ty(t,e,n){lk(t,e,n)}function ck(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(sC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function dC(t,e,n){if(n&8||t!==void 0)return t;gd(e,"NodeInjector")}function fC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Ti],o=cn(void 0);try{return i?i.get(e,r,n&8):cg(e,r,n&8)}finally{cn(o)}}return dC(r,e,n)}function hC(t,e,n,r=0,i){if(t!==null){if(e[ne]&2048&&!(r&2)){let s=pk(t,e,n,r,pr);if(s!==pr)return s}let o=pC(t,e,n,r,pr);if(o!==pr)return o}return fC(e,n,r,i)}function pC(t,e,n,r,i){let o=fk(n);if(typeof o=="function"){if(!Pg(e,t,r))return r&1?dC(i,n,r):fC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))gd(n);else return s}finally{Lg()}}else if(typeof o=="number"){let s=null,a=uC(t,e),l=Ks,c=r&1?e[Dn][Cn]:null;for((a===-1||r&4)&&(l=a===-1?wy(t,e):e[a+8],l===Ks||!Cw(r,!1)?a=-1:(s=e[ce],a=jd(l),e=Vd(l,e)));a!==-1;){let u=e[ce];if(ww(o,a,u.data)){let d=uk(a,e,n,s,r,c);if(d!==pr)return d}l=e[a+8],l!==Ks&&Cw(r,e[ce].data[a+8]===c)&&ww(o,a,e)?(s=u,a=jd(l),e=Vd(l,e)):a=-1}}return i}function uk(t,e,n,r,i,o){let s=e[ce],a=s.data[t+8],l=r==null?Ai(a)&&ey:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=dk(a,s,n,l,c);return u!==null?Ud(e,s,u,a,i):pr}function dk(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=s[l];if(f&&fr(f)&&f.type===n)return l}return null}function Ud(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Mo){let a=o;if(a.resolving){let f=O_(s[n]);throw lg(f)}let l=_w(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],u,d=a.injectImpl?cn(a.injectImpl):null,h=Pg(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JO(n,s[n],e)}finally{d!==null&&cn(d),_w(l),a.resolving=!1,Lg()}}return o}function fk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Eo)?t[Eo]:void 0;return typeof e=="number"?e>=0?e&lC:hk:e}function ww(t,e,n){let r=1<<t;return!!(n[e+(t>>cC)]&r)}function Cw(t,e){return!(t&2)&&!(t&1&&e)}var Ao=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hC(this._tNode,this._lView,e,mo(r),n)}};function hk(){return new Ao(Dt(),Te())}function ki(t){return Wl(()=>{let e=t.prototype.constructor,n=e[Il]||ny(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Il]||ny(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ny(t){return tg(t)?()=>{let e=ny(wt(t));return e&&e()}:go(t)}function pk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!zs(s);){let a=pC(o,s,n,r|2,pr);if(a!==pr)return a;let l=o.parent;if(!l){let c=s[bg];if(c){let u=c.get(n,pr,r);if(u!==pr)return u}l=mC(s),s=s[_o]}o=l}return i}function mC(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Cn]:null}function Zl(t){return ck(Dt(),t)}function mk(){return ef(Dt(),Te())}function ef(t,e){return new Yn(Wn(t,e))}var Yn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=mk}return t})();function gC(t){return(t.flags&128)===128}var Cy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Cy||{}),yC=new Map,gk=0;function yk(){return gk++}function vk(t){yC.set(t[Ol],t)}function ry(t){yC.delete(t[Ol])}var Dw="__ngContext__";function Qs(t,e){dr(e)?(t[Dw]=e[Ol],vk(e)):t[Dw]=e}function vC(t){return EC(t[qs])}function bC(t){return EC(t[wn])}function EC(t){for(;t!==null&&!Gn(t);)t=t[wn];return t}var iy;function Dy(t){iy=t}function Iy(){if(iy!==void 0)return iy;if(typeof document<"u")return document;throw new $(210,!1)}var tf=new U("",{providedIn:"root",factory:()=>bk}),bk="ng",nf=new U(""),Kl=new U("",{providedIn:"platform",factory:()=>"unknown"});var rf=new U("",{providedIn:"root",factory:()=>Iy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ek="h",_k="b";var _C=!1,wC=new U("",{providedIn:"root",factory:()=>_C});var Sy=new U("");var wk=(t,e,n,r)=>{};function Ck(t,e,n,r){wk(t,e,n,r)}function Ty(t){return(t.flags&32)===32}var Dk=()=>null;function CC(t,e,n=!1){return Dk(t,e,n)}function DC(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Rg(o),a.contentQueries(2,e[s],s)}}}finally{de(r)}}}function oy(t,e,n){Rg(0);let r=de(null);try{e(t,n)}finally{de(r)}}function IC(t,e,n){if(Eg(e)){let r=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{de(r)}}}var Zr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Zr||{}),Md;function Ik(){if(Md===void 0&&(Md=null,bo.trustedTypes))try{Md=bo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Md}function of(t){return Ik()?.createHTML(t)||t}var Nd;function SC(){if(Nd===void 0&&(Nd=null,bo.trustedTypes))try{Nd=bo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Nd}function Iw(t){return SC()?.createHTML(t)||t}function Sw(t){return SC()?.createScriptURL(t)||t}var Hd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pd})`}};function ea(t){return t instanceof Hd?t.changingThisBreaksApplicationSecurity:t}function sf(t,e){let n=TC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pd})`)}return n===e}function TC(t){return t instanceof Hd&&t.getTypeName()||null}function Sk(t){let e=new ay(t);return Tk()?new sy(e):e}var sy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(of(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},ay=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=of(e),n}};function Tk(){try{return!!new window.DOMParser().parseFromString(of(""),"text/html")}catch{return!1}}var xk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xy(t){return t=String(t),t.match(xk)?t:"unsafe:"+t}function Kr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Yl(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var xC=Kr("area,br,col,hr,img,wbr"),AC=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MC=Kr("rp,rt"),Ak=Yl(MC,AC),Mk=Yl(AC,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nk=Yl(MC,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tw=Yl(xC,Mk,Nk,Ak),NC=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ok=Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kk=Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Rk=Yl(NC,Ok,kk),Pk=Kr("script,style,template"),ly=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=jk(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=Fk(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=xw(e).toLowerCase();if(!Tw.hasOwnProperty(n))return this.sanitizedSomething=!0,!Pk.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!Rk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;NC[a]&&(l=xy(l)),this.buf.push(" ",s,'="',Aw(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=xw(e).toLowerCase();Tw.hasOwnProperty(n)&&!xC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Aw(e))}};function Lk(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Fk(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw OC(e);return e}function jk(t){let e=t.firstChild;if(e&&Lk(t,e))throw OC(e);return e}function xw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function OC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Vk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bk=/([^\#-~ |!])/g;function Aw(t){return t.replace(/&/g,"&amp;").replace(Vk,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Bk,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Od;function kC(t,e){let n=null;try{Od=Od||Sk(t);let r=e?String(e):"";n=Od.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Od.getInertBodyElement(r)}while(r!==o);let a=new ly().sanitizeChildren(Mw(n)||n);return of(a)}finally{if(n){let r=Mw(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Mw(t){return"content"in t&&Uk(t)?t.content:null}function Uk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ql=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Ql||{});function ta(t){let e=My();return e?Iw(e.sanitize(Ql.HTML,t)||""):sf(t,"HTML")?Iw(ea(t)):kC(Iy(),Us(t))}function Tn(t){let e=My();return e?e.sanitize(Ql.URL,t)||"":sf(t,"URL")?ea(t):xy(Us(t))}function RC(t){let e=My();if(e)return Sw(e.sanitize(Ql.RESOURCE_URL,t)||"");if(sf(t,"ResourceURL"))return Sw(ea(t));throw new $(904,!1)}function Hk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?RC:Tn}function Ay(t,e,n){return Hk(e,n)(t)}function My(){let t=Te();return t&&t[ur].sanitizer}function PC(t){return t instanceof Function?t():t}function $k(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var LC="ng-template";function qk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$k(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ny(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ny(t){return t.type===4&&t.value!==LC}function zk(t,e,n){let r=t.type===4&&!n?LC:t.value;return e===r}function Gk(t,e,n){let r=4,i=t.attrs,o=i!==null?Kk(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Kn(r)&&!Kn(l))return!1;if(s&&Kn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!zk(t,l,n)||l===""&&e.length===1){if(Kn(r))return!1;s=!0}}else if(r&8){if(i===null||!qk(t,i,l,n)){if(Kn(r))return!1;s=!0}}else{let c=e[++a],u=Wk(l,i,Ny(t),n);if(u===-1){if(Kn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Kn(r))return!1;s=!0}}}}return Kn(r)||s}function Kn(t){return(t&1)===0}function Wk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Yk(e,t)}function Zk(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gk(t,e[r],n))return!0;return!1}function Kk(t){for(let e=0;e<t.length;e++){let n=t[e];if(sC(n))return e}return t.length}function Yk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Nw(t,e){return t?":not("+e.trim()+")":e}function Qk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Kn(s)&&(e+=Nw(o,i),i=""),r=s,o=o||!Kn(r);n++}return i!==""&&(e+=Nw(o,i)),e}function Xk(t){return t.map(Qk).join(",")}function Jk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Kn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Yr={};function eR(t,e){return t.createText(e)}function tR(t,e,n){t.setValue(e,n)}function FC(t,e,n){return t.createElement(e,n)}function $d(t,e,n,r,i){t.insertBefore(e,n,r,i)}function jC(t,e,n){t.appendChild(e,n)}function Ow(t,e,n,r,i){r!==null?$d(t,e,n,r,i):jC(t,e,n)}function nR(t,e,n,r){t.removeChild(null,e,n,r)}function rR(t,e,n){t.setAttribute(e,"style",n)}function iR(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&rk(t,e,r),i!==null&&iR(t,e,i),o!==null&&rR(t,e,o)}function Oy(t,e,n,r,i,o,s,a,l,c,u){let d=Zt+r,h=d+i,f=oR(d,h),p=typeof c=="function"?c():c;return f[ce]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function oR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yr);return n}function sR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ky(t,e,n,r,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[zn]=i,d[ne]=r|4|128|8|64|1024,(c!==null||t&&t[ne]&2048)&&(d[ne]|=2048),Cg(d),d[Ct]=d[_o]=t,d[Rt]=n,d[ur]=s||t&&t[ur],d[ze]=a||t&&t[ze],d[Ti]=l||t&&t[Ti]||null,d[Cn]=o,d[Ol]=yk(),d[Nl]=u,d[bg]=c,d[Dn]=e.type==2?t[Dn]:d,d}function aR(t,e,n){let r=Wn(e,t),i=sR(n),o=t[ur].rendererFactory,s=Ry(t,ky(t,i,null,BC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function BC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function UC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ry(t,e){return t[qs]?t[vg][wn]=e:t[qs]=e,t[vg]=e,e}function j(t=1){HC(fn(),Te(),xo()+t,!1)}function HC(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Rd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Pd(e,o,0,n)}Mi(n)}var af=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(af||{});function cy(t,e,n,r){let i=de(null);try{let[o,s,a]=t.inputs[n],l=null;(s&af.SignalBased)!==0&&(l=e[o][At]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):eC(e,l,o,r)}finally{de(i)}}var mr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(mr||{}),lR;function Py(t,e){return lR(t,e)}var Xs=new Set,lf=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(lf||{}),Po=new U(""),kw=new Set;function Lo(t){kw.has(t)||(kw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var $C=!1,uy=class extends Ce{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,q_()&&(this.destroyRef=x(Zn,{optional:!0})??void 0,this.pendingTasks=x(Wr,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ht=uy;function qC(t){let e,n;function r(){t=Ul;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Rw(t){return queueMicrotask(()=>t()),()=>{t=Ul}}var Ly="isAngularZone",qd=Ly+"_ID",cR=0,Ye=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ht(!1);onMicrotaskEmpty=new ht(!1);onStable=new ht(!1);onError=new ht(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$C}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,fR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ly)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,uR,Ul,Ul);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},uR={};function Fy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function dR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){qC(()=>{t.callbackScheduled=!1,dy(t),t.isCheckStableRunning=!0,Fy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),dy(t)}function fR(t){let e=()=>{dR(t)},n=cR++;t._inner=t._inner.fork({name:"angular",properties:{[Ly]:!0,[qd]:n,[qd+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(hR(l))return r.invokeTask(o,s,a,l);try{return Pw(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Lw(t)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Pw(t),r.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!pR(l)&&e(),Lw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dy(t),Fy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Pw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lw(t){t._nesting--,Fy(t)}var zd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ht;onMicrotaskEmpty=new ht;onStable=new ht;onError=new ht;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function hR(t){return zC(t,"__ignore_ng_zone__")}function pR(t){return zC(t,"__scheduler_tick__")}function zC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var jy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})(),GC=[0,1,2,3],WC=(()=>{class t{ngZone=x(Ye);scheduler=x(Ci);errorHandler=x(qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(Po,{optional:!0})}execute(){let n=this.sequences.size>0;n&&xe(16),this.executing=!0;for(let r of GC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&xe(17)}register(n){let{view:r}=n;r!==void 0?((r[Io]??=[]).push(n),Gs(r),r[ne]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(lf.AFTER_NEXT_RENDER,n):n()}static \u0275prov=L({token:t,providedIn:"root",factory:()=>new t})}return t})(),Gd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Io];e&&(this.view[Io]=e.filter(n=>n!==this))}};function Xl(t,e){let n=e?.injector??x(Ot);return Lo("NgAfterNextRender"),gR(t,n,e,!0)}function mR(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function gR(t,e,n,r){let i=e.get(jy);i.impl??=e.get(WC);let o=e.get(Po,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Zn):null,a=e.get(Ad,null,{optional:!0}),l=new Gd(i.impl,mR(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var yR=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ZC(t,e,n){let r=t.get(yR);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function vR(t,e){for(let[n,r]of e)ZC(t,r.animateFns)}function Fw(t,e,n,r){let i=t?.[Rl]?.enter;e!==null&&i&&i.has(n.index)&&vR(r,i)}function Zs(t,e,n,r,i,o,s,a){if(i!=null){let l,c=!1;Gn(i)?l=i:dr(i)&&(c=!0,i=i[zn]);let u=In(i);t===0&&r!==null?(Fw(a,r,o,n),s==null?jC(e,r,u):$d(e,r,u,s||null,!0)):t===1&&r!==null?(Fw(a,r,o,n),$d(e,r,u,s||null,!0)):t===2?jw(a,o,n,d=>{nR(e,u,c,d)}):t===3&&jw(a,o,n,()=>{e.destroyNode(u)}),l!=null&&NR(e,t,n,l,o,r,s)}}function bR(t,e){KC(t,e),e[zn]=null,e[Cn]=null}function ER(t,e,n,r,i,o){r[zn]=i,r[Cn]=e,cf(t,r,n,1,i,o)}function KC(t,e){e[ur].changeDetectionScheduler?.notify(9),cf(t,e,e[ze],2,null,null)}function _R(t){let e=t[qs];if(!e)return Gg(t[ce],t);for(;e;){let n=null;if(dr(e))n=e[qs];else{let r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[wn]&&e!==t;)dr(e)&&Gg(e[ce],e),e=e[Ct];e===null&&(e=t),dr(e)&&Gg(e[ce],e),n=e&&e[wn]}e=n}}function Vy(t,e){let n=t[Ll],r=n.indexOf(e);n.splice(r,1)}function YC(t,e){if(So(e))return;let n=e[ze];n.destroyNode&&cf(t,e,n,3,null,null),_R(e)}function Gg(t,e){if(So(e))return;let n=de(null);try{e[ne]&=-129,e[ne]|=256,e[dn]&&yl(e[dn]),DR(t,e),CR(t,e),e[ce].type===1&&e[ze].destroy();let r=e[wo];if(r!==null&&Gn(e[Ct])){r!==e[Ct]&&Vy(r,e);let i=e[Do];i!==null&&i.detachView(t)}ry(e)}finally{de(n)}}function jw(t,e,n,r){let i=t?.[Rl];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Xs.add(t),ZC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),wR(t,r)}else t&&Xs.delete(t),r(!1)},i)}function wR(t,e){let n=t[Rl]?.running;if(n){n.then(()=>{t[Rl].running=void 0,Xs.delete(t),e(!0)});return}e(!1)}function CR(t,e){let n=t.cleanup,r=e[$s];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[$s]=null);let i=e[Hr];if(i!==null){e[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[kl];if(o!==null){e[kl]=null;for(let s of o)s.destroy()}}function DR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Mo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];xe(4,a,l);try{l.call(a)}finally{xe(5,a,l)}}else{xe(4,i,o);try{o.call(i)}finally{xe(5,i,o)}}}}}function IR(t,e,n){return SR(t,e.parent,n)}function SR(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[zn];if(Ai(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Zr.None||i===Zr.Emulated)return null}return Wn(r,n)}function TR(t,e,n){return AR(t,e,n)}function xR(t,e,n){return t.type&40?Wn(t,n):null}var AR=xR,Vw;function By(t,e,n,r){let i=IR(t,r,e),o=e[ze],s=r.parent||e[Cn],a=TR(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Ow(o,i,n[l],a,!1);else Ow(o,i,n,a,!1);Vw!==void 0&&Vw(o,r,e,n,i)}function Hl(t,e){if(e!==null){let n=e.type;if(n&3)return Wn(e,t);if(n&4)return fy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hl(t,r);{let i=t[e.index];return Gn(i)?fy(-1,i):In(i)}}else{if(n&128)return Hl(t,e.next);if(n&32)return Py(e,t)()||In(t[e.index]);{let r=QC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wi(t[Dn]);return Hl(i,r)}else return Hl(t,e.next)}}}return null}function QC(t,e){if(e!==null){let r=t[Dn][Cn],i=e.projection;return r.projection[i]}return null}function fy(t,e){let n=Kt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Hl(r,i)}return e[xi]}function Uy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Ti];if(n.type===128){n=n.next;continue}let l=r[n.index],c=n.type;if(s&&e===0&&(l&&Qs(In(l),r),n.flags|=2),!Ty(n))if(c&8)Uy(t,e,n.child,r,i,o,!1),Zs(e,t,a,i,l,n,o,r);else if(c&32){let u=Py(n,r),d;for(;d=u();)Zs(e,t,a,i,d,n,o,r);Zs(e,t,a,i,l,n,o,r)}else c&16?MR(t,e,r,n,i,o):Zs(e,t,a,i,l,n,o,r);n=s?n.projectionNext:n.next}}function cf(t,e,n,r,i,o){Uy(n,r,t.firstChild,e,i,o,!1)}function MR(t,e,n,r,i,o){let s=n[Dn],l=s[Cn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Zs(e,t,n[Ti],i,u,r,o,n)}else{let c=l,u=s[Ct];gC(r)&&(c.flags|=128),Uy(t,e,c,u,i,o,!0)}}function NR(t,e,n,r,i,o,s){let a=r[xi],l=In(r);a!==l&&Zs(e,t,n,o,a,i,s);for(let c=Kt;c<r.length;c++){let u=r[c];cf(u[ce],u,t,e,o,a)}}function OR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:mr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),t.setStyle(n,r,i,o))}}function XC(t,e,n,r,i){let o=xo(),s=r&2;try{Mi(-1),s&&e.length>Zt&&HC(t,e,Zt,!1),xe(s?2:0,i,n),n(r,i)}finally{Mi(o),xe(s?3:1,i,n)}}function Hy(t,e,n){VR(t,e,n),(n.flags&64)===64&&BR(t,e,n)}function $y(t,e,n=Wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function kR(t,e,n,r){let o=r.get(wC,_C)||n===Zr.ShadowDom,s=t.selectRootElement(e,o);return RR(s),s}function RR(t){PR(t)}var PR=()=>null;function LR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function JC(t,e,n,r,i,o){let s=e[ce];if(qy(t,s,e,n,r)){Ai(t)&&jR(e,t.index);return}t.type&3&&(n=LR(n)),FR(t,e,n,r,i,o)}function FR(t,e,n,r,i,o){if(t.type&3){let s=Wn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function jR(t,e){let n=Sn(e,t);n[ne]&16||(n[ne]|=64)}function VR(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ai(n)&&aR(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Bd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Ud(e,t,s,n);if(Qs(l,e),o!==null&&qR(e,s-r,l,a,n,o),fr(a)){let c=Sn(n.index,e);c[Rt]=Ud(e,t,s,n)}}}function BR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lw();try{Mi(o);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Cd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&UR(l,c)}}finally{Mi(-1),Cd(s)}}function UR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function eD(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Zk(e,o.selectors,!1)&&(r??=[],fr(o)?r.unshift(o):r.push(o))}return r}function HR(t,e,n,r,i,o){let s=Wn(t,e);$R(e[ze],s,o,t.value,n,r,i)}function $R(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Us(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function qR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];cy(r,n,l,c)}}function tD(t,e,n,r,i){let o=Zt+n,s=e[ce],a=i(s,e,t,r,n);e[o]=a,Ws(t,!0);let l=t.type===2;return l?(VC(e[ze],a,t),(X_()===0||Fl(t))&&Qs(a,e),J_()):Qs(a,e),Td()&&(!l||!Ty(t))&&By(s,e,a,t),t}function nD(t){let e=t;return Ng()?nw():(e=e.parent,Ws(e,!1)),e}function zR(t,e){let n=t[Ti];if(!n)return;let r;try{r=n.get(Yt,null)}catch{r=null}r?.(e)}function qy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=e.data[c];cy(d,n[c],u,i),a=!0}if(o)for(let l of o){let c=n[l],u=e.data[l];cy(u,c,r,i),a=!0}return a}function GR(t,e){let n=Sn(e,t),r=n[ce];WR(r,n);let i=n[zn];i!==null&&n[Nl]===null&&(n[Nl]=CC(i,n[Ti])),xe(18),zy(r,n,n[Rt]),xe(19,n[Rt])}function WR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zy(t,e,n){Dd(e);try{let r=t.viewQuery;r!==null&&oy(1,r,n);let i=t.template;i!==null&&XC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Do]?.finishViewCreation(t),t.staticContentQueries&&DC(t,e),t.staticViewQueries&&oy(2,t.viewQuery,n);let o=t.components;o!==null&&ZR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,Id()}}function ZR(t,e){for(let n=0;n<e.length;n++)GR(t,e[n])}function KR(t,e,n,r){let i=de(null);try{let o=e.tView,a=t[ne]&4096?4096:16,l=ky(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[wo]=c;let u=t[Do];return u!==null&&(l[Do]=u.createEmbeddedView(o)),zy(o,l,n),l}finally{de(i)}}function Bw(t,e){return!e||e.firstChild===null||gC(t)}function ql(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(In(o)),Gn(o)&&rD(o,r);let s=n.type;if(s&8)ql(t,e,n.child,r);else if(s&32){let a=Py(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=QC(e,n);if(Array.isArray(a))r.push(...a);else{let l=wi(e[Dn]);ql(l[ce],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rD(t,e){for(let n=Kt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&ql(r[ce],r,i,e)}t[xi]!==t[zn]&&e.push(t[xi])}function iD(t){if(t[Io]!==null){for(let e of t[Io])e.impl.addSequence(e);t[Io].length=0}}var oD=[];function YR(t){return t[dn]??QR(t)}function QR(t){let e=oD.pop()??Object.create(JR);return e.lView=t,e}function XR(t){t.lView[dn]!==t&&(t.lView=null,oD.push(t))}var JR=W(S({},Cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Gs(t.lView)},consumerOnSignalRead(){this.lView[dn]=this}});function eP(t){let e=t[dn]??Object.create(tP);return e.lView=t,e}var tP=W(S({},Cs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=wi(t.lView);for(;e&&!sD(e[ce]);)e=wi(e);e&&Dg(e)},consumerOnSignalRead(){this.lView[dn]=this}});function sD(t){return t.type!==2}function aD(t){if(t[kl]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[kl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ne]&8192)}}var nP=100;function lD(t,e=0){let r=t[ur].rendererFactory,i=!1;i||r.begin?.();try{rP(t,e)}finally{i||r.end?.()}}function rP(t,e){let n=Og();try{kg(!0),hy(t,e);let r=0;for(;jl(t);){if(r===nP)throw new $(103,!1);r++,hy(t,1)}}finally{kg(n)}}function iP(t,e,n,r){if(So(e))return;let i=e[ne],o=!1,s=!1;Dd(e);let a=!0,l=null,c=null;o||(sD(t)?(c=YR(e),l=Is(c)):Ru()===null?(a=!1,c=eP(e),l=Is(c)):e[dn]&&(yl(e[dn]),e[dn]=null));try{Cg(e),iw(t.bindingStartIndex),n!==null&&XC(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&Rd(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Pd(e,f,0,null),qg(e,0)}if(s||oP(e),aD(e),cD(e,0),t.contentQueries!==null&&DC(t,e),!o)if(u){let f=t.contentCheckHooks;f!==null&&Rd(e,f)}else{let f=t.contentHooks;f!==null&&Pd(e,f,1),qg(e,1)}aP(t,e);let d=t.components;d!==null&&dD(e,d,0);let h=t.viewQuery;if(h!==null&&oy(2,h,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&Rd(e,f)}else{let f=t.viewHooks;f!==null&&Pd(e,f,2),qg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[bd]){for(let f of e[bd])f();e[bd]=null}o||(iD(e),e[ne]&=-73)}catch(u){throw o||Gs(e),u}finally{c!==null&&(ml(c,l),a&&XR(c)),Id()}}function cD(t,e){for(let n=vC(t);n!==null;n=bC(n))for(let r=Kt;r<n.length;r++){let i=n[r];uD(i,e)}}function oP(t){for(let e=vC(t);e!==null;e=bC(e)){if(!(e[ne]&2))continue;let n=e[Ll];for(let r=0;r<n.length;r++){let i=n[r];Dg(i)}}}function sP(t,e,n){xe(18);let r=Sn(e,t);uD(r,n),xe(19,r[Rt])}function uD(t,e){_d(t)&&hy(t,e)}function hy(t,e){let r=t[ce],i=t[ne],o=t[dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gl(o)),s||=!1,o&&(o.dirty=!1),t[ne]&=-9217,s)iP(r,t,r.template,t[Rt]);else if(i&8192){let a=de(null);try{aD(t),cD(t,1);let l=r.components;l!==null&&dD(t,l,1),iD(t)}finally{de(a)}}}function dD(t,e,n){for(let r=0;r<e.length;r++)sP(t,e[r],n)}function aP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Mi(~i);else{let o=i,s=n[++r],a=n[++r];aw(s,o);let l=e[o];xe(24,l),a(2,l),xe(25,l)}}}finally{Mi(-1)}}function Gy(t,e){let n=Og()?64:1088;for(t[ur].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;let r=wi(t);if(zs(t)&&!r)return t;t=r}return null}function fD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function lP(t,e,n,r=!0){let i=e[ce];if(cP(i,e,t,n),r){let s=fy(n,t),a=e[ze],l=a.parentNode(t[xi]);l!==null&&ER(i,t[Cn],a,e,l,s)}let o=e[Nl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function py(t,e){if(t.length<=Kt)return;let n=Kt+e,r=t[n];if(r){let i=r[wo];i!==null&&i!==t&&Vy(i,r),e>0&&(t[n-1][wn]=r[wn]);let o=xl(t,Kt+e);bR(r[ce],r);let s=o[Do];s!==null&&s.detachView(o[ce]),r[Ct]=null,r[wn]=null,r[ne]&=-129}return r}function cP(t,e,n,r){let i=Kt+r,o=n.length;r>0&&(n[i-1][wn]=e),r<o-Kt?(e[wn]=n[i],ug(n,Kt+r,e)):(n.push(e),e[wn]=null),e[Ct]=n;let s=e[wo];s!==null&&n!==s&&hD(s,e);let a=e[Do];a!==null&&a.insertView(t),wd(e),e[ne]|=128}function hD(t,e){let n=t[Ll],r=e[Ct];if(dr(r))t[ne]|=2;else{let i=r[Ct][Dn];e[Dn]!==i&&(t[ne]|=2)}n===null?t[Ll]=[e]:n.push(e)}var Ni=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ce];return ql(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return So(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(Gn(e)){let n=e[Pl],r=n?n.indexOf(this):-1;r>-1&&(py(e,r),xl(n,r))}this._attachedToViewContainer=!1}YC(this._lView[ce],this._lView)}onDestroy(e){Ig(this._lView,e)}markForCheck(){Gy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){wd(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,lD(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zs(this._lView),n=this._lView[wo];n!==null&&!e&&Vy(n,this._lView),KC(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=zs(this._lView),r=this._lView[wo];r!==null&&!n&&hD(r,this._lView),wd(this._lView)}};var Jl=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=uP;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=KR(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ni(o)}}return t})();function uP(){return dP(Dt(),Te())}function dP(t,e){return t.type&4?new Jl(e,t,ef(t,e)):null}function uf(t,e,n,r,i){let o=t.data[e];if(o===null)o=fP(t,e,n,r,i),sw()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=tw();o.injectorIndex=s===null?-1:s.injectorIndex}return Ws(o,!0),o}function fP(t,e,n,r,i){let o=Mg(),s=Ng(),a=s?o:o&&o.parent,l=t.data[e]=pP(t,a,n,e,r,i);return hP(t,l,o,s),l}function hP(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function pP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ew()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jX=new RegExp(`^(\\d+)*(${_k}|${Ek})*(.*)`);var mP=()=>null;function Uw(t,e){return mP(t,e)}var pD=class{},df=class{},my=class{resolveComponentFactory(e){throw new $(917,!1)}},ec=class{static NULL=new my},No=class{},gr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>gP()}return t})();function gP(){let t=Te(),e=Dt(),n=Sn(e.index,t);return(dr(n)?n:t)[ze]}var mD=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>null})}return t})();var Ld={},gy=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Ld,r);return i!==Ld||n===Ld?i:this.parentInjector.get(e,n,r)}};function Wd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=eg(i,a);else if(o==2){let l=a,c=e[++s];r=eg(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function q(t,e=0){let n=Te();if(n===null)return B(t,e);let r=Dt();return hC(r,n,wt(t),e)}function Wy(){let t="invalid";throw new Error(t)}function gD(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}bP(t,e,n,a,o,l,c)}o!==null&&r!==null&&yP(n,r,o)}function yP(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function vP(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bP(t,e,n,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&fr(f)&&(l=!0,vP(t,n,h)),ty(Bd(n,e),t,f.type)}IP(n,t.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=UC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=Ys(n.mergedAttrs,f.hostAttrs),_P(t,n,e,d,f),DP(d,f,i),s!==null&&s.has(f)){let[m,v]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}EP(t,n,o)}function EP(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Hw(0,e,i,r),Hw(1,e,i,r),qw(e,r,!1);else{let o=n.get(i);$w(0,e,o,r),$w(1,e,o,r),qw(e,r,!0)}}}function Hw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),yD(e,o)}}function $w(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),yD(e,s)}}function yD(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function qw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Ny(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function _P(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=go(i.type,!0)),s=new Mo(o,fr(i),q,null);t.blueprint[r]=s,n[r]=s,wP(t,e,r,UC(t,n,i.hostVars,Yr),i)}function wP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;CP(s)!=a&&s.push(a),s.push(n,r,o)}}function CP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function DP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function IP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vD(t,e,n,r,i,o,s,a){let l=e[ce],c=l.consts,u=To(c,s),d=uf(l,t,n,r,u);return o&&gD(l,e,d,To(c,a),i),d.mergedAttrs=Ys(d.mergedAttrs,d.attrs),d.attrs!==null&&Wd(d,d.attrs,!1),d.mergedAttrs!==null&&Wd(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function bD(t,e){iC(t,e),Eg(e)&&t.queries.elementEnd(e)}function SP(t,e,n,r,i,o){let s=e.consts,a=To(s,i),l=uf(e,t,n,r,a);if(l.mergedAttrs=Ys(l.mergedAttrs,l.attrs),o!=null){let c=To(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&Wd(l,l.attrs,!1),l.mergedAttrs!==null&&Wd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Zy(t){return _D(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ED(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function _D(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function TP(t,e,n){return t[e]=n}function na(t,e,n){if(n===Yr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Wg(t,e,n){return function r(i){let o=Ai(t)?Sn(t.index,e):e;Gy(o,5);let s=e[Rt],a=zw(e,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=zw(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function zw(t,e,n,r){let i=de(null);try{return xe(6,e,n),n(r)!==!1}catch(o){return zR(t,o),!1}finally{xe(7,e,n),de(i)}}function xP(t,e,n,r,i,o,s,a){let l=Fl(t),c=!1,u=null;if(!r&&l&&(u=MP(e,n,o,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=Wn(t,n),h=r?r(d):d;Ck(n,h,o,a);let f=i.listen(h,o,a);if(!AP(o)){let p=r?m=>r(In(m[t.index])):t.index;wD(p,e,n,o,a,f,!1)}}return c}function AP(t){return t.startsWith("animation")||t.startsWith("transition")}function MP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[$s],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function wD(t,e,n,r,i,o,s){let a=e.firstCreatePass?Q_(e):null,l=Y_(n),c=l.length;l.push(i,o),a&&a.push(r,t,c,(c+1)*(s?-1:1))}function Gw(t,e,n,r,i,o){let s=e[n],a=e[ce],c=a.data[n].outputs[r],d=s[c].subscribe(o);wD(t.index,a,e,i,o,d,!0)}var yy=Symbol("BINDING");var Zd=class extends ec{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gr(e);return new Oo(n,this.ngModule)}};function NP(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&af.SignalBased)!==0};return i&&(o.transform=i),o})}function OP(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function kP(t,e,n){let r=e instanceof ut?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new gy(n,r):n}function RP(t){let e=t.get(No,null);if(e===null)throw new $(407,!1);let n=t.get(mD,null),r=t.get(Ci,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function PP(t,e){let n=CD(t);return FC(e,n,n==="svg"?_g:n==="math"?G_:null)}function CD(t){return(t.selectors[0][0]||"div").toLowerCase()}var Oo=class extends df{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=OP(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Xk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){xe(22);let a=de(null);try{let l=this.componentDef,c=LP(r,l,s,o),u=kP(l,i||this.ngModule,e),d=RP(u),h=d.rendererFactory.createRenderer(null,l),f=r?kR(h,r,l.encapsulation,u):PP(l,h),p=s?.some(Ww)||o?.some(g=>typeof g!="function"&&g.bindings.some(Ww)),m=ky(null,c,null,512|BC(l),null,null,d,h,u,null,CC(f,u,!0));m[Zt]=f,Dd(m);let v=null;try{let g=vD(Zt,m,2,"#host",()=>c.directiveRegistry,!0,0);VC(h,f,g),Qs(f,m),Hy(c,m,g),IC(c,g,m),bD(c,g),n!==void 0&&jP(g,this.ngContentSelectors,n),v=Sn(g.index,m),m[Rt]=v[Rt],zy(c,m,null)}catch(g){throw v!==null&&ry(v),ry(m),g}finally{xe(23),Id()}return new Kd(this.componentType,m,!!p)}finally{de(a)}}};function LP(t,e,n,r){let i=t?["ng-version","20.3.14"]:Jk(e.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[yy].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[yy].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let l=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=pg(d);l.push(h)}return Oy(0,null,FP(o,s),1,a,l,null,null,null,[i],null)}function FP(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function Ww(t){let e=t[yy].kind;return e==="input"||e==="twoWay"}var Kd=class extends pD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ed(n[ce],Zt),this.location=ef(this._tNode,n),this.instance=Sn(this._tNode.index,n)[Rt],this.hostView=this.changeDetectorRef=new Ni(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=qy(r,i[ce],i,e,n);this.previousInputValues.set(e,n);let s=Sn(r.index,i);Gy(s,1)}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Fo=(()=>{class t{static __NG_ELEMENT_ID__=VP}return t})();function VP(){let t=Dt();return UP(t,Te())}var BP=Fo,DD=class extends BP{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ef(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=wy(this._hostTNode,this._hostLView);if(aC(e)){let n=Vd(e,this._hostLView),r=jd(e),i=n[ce].data[r+8];return new Ao(i,n)}else return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Zw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Bw(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let l=e&&!KO(e),c;if(l)c=n;else{let v=n||{};c=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=l?e:new Oo(Gr(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let g=(l?d:this.parentInjector).get(ut,null);g&&(o=g)}let h=Gr(u.componentType??{}),f=Uw(this._lContainer,h?.id??null),p=f?.firstChild??null,m=u.create(d,i,p,o,s,a);return this.insertImpl(m.hostView,c,Bw(this._hostTNode,f)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(W_(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ct],c=new DD(l,l[Cn],l[Ct]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return lP(s,i,o,r),e.attachToViewContainerRef(),ug(Zg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Zw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=py(this._lContainer,n);r&&(xl(Zg(this._lContainer),n),YC(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=py(this._lContainer,n);return r&&xl(Zg(this._lContainer),n)!=null?new Ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Zw(t){return t[Pl]}function Zg(t){return t[Pl]||(t[Pl]=[])}function UP(t,e){let n,r=e[t.index];return Gn(r)?n=r:(n=fD(r,e,null,t),e[t.index]=n,Ry(e,n)),$P(n,e,t,r),new DD(n,t,e)}function HP(t,e){let n=t[ze],r=n.createComment(""),i=Wn(e,t),o=n.parentNode(i);return $d(n,o,r,n.nextSibling(i),!1),r}var $P=GP,qP=()=>!1;function zP(t,e,n){return qP(t,e,n)}function GP(t,e,n,r){if(t[xi])return;let i;n.type&8?i=In(r):i=HP(e,n),t[xi]=i}var ko=class{},ff=class{};var Yd=class extends ko{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=hg(e);this._bootstrapComponents=PC(o.bootstrap),this._r3Injector=Fg(e,n,[{provide:ko,useValue:this},{provide:ec,useValue:this.componentFactoryResolver},...r],$r(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qd=class extends ff{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Yd(this.moduleType,e,[])}};var zl=class extends ko{injector;componentFactoryResolver=new Zd(this);instance=null;constructor(e){super();let n=new vo([...e.providers,{provide:ko,useValue:this},{provide:ec,useValue:this.componentFactoryResolver}],e.parent||Ml(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ra(t,e,n=null){return new zl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var WP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=mg(!1,n.type),i=r.length>0?ra([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:t,providedIn:"environment",factory:()=>new t(B(ut))})}return t})();function It(t){return Wl(()=>{let e=ID(t),n=W(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Cy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(WP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zr.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Lo("NgStandalone"),SD(n);let r=t.dependencies;return n.directiveDefs=Kw(r,ZP),n.pipeDefs=Kw(r,j_),n.id=QP(n),n})}function ZP(t){return Gr(t)||pg(t)}function Qn(t){return Wl(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KP(t,e){if(t==null)return Ii;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=af.None,l=null),n[o]=[r,a,l],e[o]=s}return n}function YP(t){if(t==null)return Ii;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function vt(t){return Wl(()=>{let e=ID(t);return SD(e),e})}function ID(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:KP(t.inputs,e),outputs:YP(t.outputs),debugInfo:null}}function SD(t){t.features?.forEach(e=>e(t))}function Kw(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function QP(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function XP(t){return Object.getPrototypeOf(t.prototype).constructor}function Qr(t){let e=XP(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Kg(t.inputs),s.declaredInputs=Kg(t.declaredInputs),s.outputs=Kg(t.outputs);let a=i.hostBindings;a&&rL(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&tL(t,l),c&&nL(t,c),JP(t,i),N_(t.outputs,i.outputs),fr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Qr&&(n=!1)}}e=Object.getPrototypeOf(e)}eL(r)}function JP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function eL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ys(i.hostAttrs,n=Ys(n,i.hostAttrs))}}function Kg(t){return t===Ii?{}:t===un?[]:t}function tL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function rL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function iL(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ys(t.mergedAttrs,t.attrs);let u=t.tView=Oy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ws(t,!1);let l=sL(n,e,t,r);Td()&&By(n,e,l,t),Qs(l,e);let c=fD(l,e,l,t);e[r+Zt]=c,Ry(e,c),zP(c,t,e)}function oL(t,e,n,r,i,o,s,a,l,c,u){let d=n+Zt,h;return e.firstCreatePass?(h=uf(e,d,4,s||null,a||null),Tg()&&gD(e,t,h,To(e.consts,c),eD),iC(e,h)):h=e.data[d],iL(h,t,e,n,r,i,o,l),Fl(h)&&Hy(e,t,h),c!=null&&$y(t,h,u),h}function it(t,e,n,r,i,o,s,a){let l=Te(),c=fn(),u=To(c.consts,o);return oL(l,c,t,e,n,r,i,u,void 0,s,a),it}var sL=aL;function aL(t,e,n,r){return xd(!0),e[ze].createComment("")}var Ky=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Yy=new U("");function Ri(t){return!!t&&typeof t.then=="function"}function Qy(t){return!!t&&typeof t.subscribe=="function"}var Xy=new U("");function hf(t){return Si([{provide:Xy,multi:!0,useValue:t}])}var Jy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(Xy,{optional:!0})??[];injector=x(Ot);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=kt(this.injector,i);if(Ri(o))n.push(o);else if(Qy(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tc=new U("");function TD(){bm(()=>{let t="";throw new $(600,t)})}function xD(t){return t.isBoundToModule}var lL=10;var Xr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Yt);afterRenderManager=x(jy);zonelessEnabled=x(Bl);rootEffectScheduler=x($g);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ce;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(Wr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(n=>!n))}constructor(){x(Po,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(ut);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ot.NULL){return this._injector.get(Ye).run(()=>{xe(10);let s=n instanceof df;if(!this._injector.get(Jy).done){let p="";throw new $(405,p)}let l;s?l=n:l=this._injector.get(ec).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=xD(l)?void 0:this._injector.get(ko),u=r||l.selector,d=l.create(i,[],u,c),h=d.location.nativeElement,f=d.injector.get(Yy,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),$l(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),xe(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(lf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let n=de(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(n),this.afterTick.next(),xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(No,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<lL;)xe(14),this.synchronizeOnce(),xe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!jl(i))continue;let o=r&&!this.zonelessEnabled?0:1;lD(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>jl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$l(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(tc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$l(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $l(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nc(t,e,n,r){let i=Te(),o=Vl();if(na(i,o,e)){let s=fn(),a=Sd();HR(a,i,t,e,n,r)}return nc}var zX=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function we(t,e,n){let r=Te(),i=Vl();if(na(r,i,e)){let o=fn(),s=Sd();JC(s,r,t,e,r[ze],n)}return we}function Yw(t,e,n,r,i){qy(e,t,n,i?"class":"style",r)}function C(t,e,n,r){let i=Te(),o=i[ce],s=t+Zt,a=o.firstCreatePass?vD(s,i,2,e,eD,Tg(),n,r):o.data[s];if(tD(a,i,t,e,AD),Fl(a)){let l=i[ce];Hy(l,i,a),IC(l,a,i)}return r!=null&&$y(i,a),C}function T(){let t=fn(),e=Dt(),n=nD(e);return t.firstCreatePass&&bD(t,n),xg(n)&&Ag(),Sg(),n.classesWithoutHost!=null&&tk(n)&&Yw(t,n,Te(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nk(n)&&Yw(t,n,Te(),n.stylesWithoutHost,!1),T}function _e(t,e,n,r){return C(t,e,n,r),T(),_e}function jo(t,e,n,r){let i=Te(),o=i[ce],s=t+Zt,a=o.firstCreatePass?SP(s,o,2,e,n,r):o.data[s];return tD(a,i,t,e,AD),r!=null&&$y(i,a),jo}function Vo(){let t=Dt(),e=nD(t);return xg(e)&&Ag(),Sg(),Vo}var AD=(t,e,n,r,i)=>(xd(!0),FC(e[ze],r,pw()));function Qt(){return Te()}var rc="en-US";var cL=rc;function MD(t){typeof t=="string"&&(cL=t.toLowerCase().replace(/_/g,"-"))}function ue(t,e,n){let r=Te(),i=fn(),o=Dt();return ND(i,r,r[ze],o,t,e,n),ue}function ND(t,e,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Wg(r,e,o),xP(r,t,e,s,n,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];l??=Wg(r,e,o),Gw(r,e,h,f,i,l)}if(c&&c.length)for(let d of c)l??=Wg(r,e,o),Gw(r,e,d,i,i,l)}}function Ge(t=1){return hw(t)}function kd(t,e){return t<<17|e<<2}function Ro(t){return t>>17&32767}function uL(t){return(t&2)==2}function dL(t,e){return t&131071|e<<17}function vy(t){return t|2}function Js(t){return(t&131068)>>2}function Yg(t,e){return t&-131069|e<<2}function fL(t){return(t&1)===1}function by(t){return t|1}function hL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ro(s),l=Js(s);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Hs(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Ro(t[a+1]);t[r+1]=kd(h,a),h!==0&&(t[h+1]=Yg(t[h+1],r)),t[a+1]=dL(t[a+1],r)}else t[r+1]=kd(a,0),a!==0&&(t[a+1]=Yg(t[a+1],r)),a=r;else t[r+1]=kd(l,0),a===0?a=r:t[l+1]=Yg(t[l+1],r),l=r;c&&(t[r+1]=vy(t[r+1])),Qw(t,u,r,!0),Qw(t,u,r,!1),pL(e,u,t,r,o),s=kd(a,l),o?e.classBindings=s:e.styleBindings=s}function pL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Hs(o,e)>=0&&(n[r+1]=by(n[r+1]))}function Qw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Ro(i):Js(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];mL(l,e)&&(a=!0,t[s+1]=r?by(c):vy(c)),s=r?Ro(c):Js(c)}a&&(t[n+1]=r?vy(i):by(i))}function mL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Hs(t,e)>=0:!1}function Jr(t,e){return gL(t,e,null,!0),Jr}function gL(t,e,n,r){let i=Te(),o=fn(),s=ow(2);if(o.firstUpdatePass&&vL(o,t,s,r),e!==Yr&&na(i,s,e)){let a=o.data[xo()];CL(o,a,i,i[ze],t,i[s+1]=DL(e,n),r,s)}}function yL(t,e){return e>=t.expandoStartIndex}function vL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xo()],s=yL(t,n);IL(o,r)&&e===null&&!s&&(e=!1),e=bL(i,o,e,r),hL(i,o,e,n,s,r)}}function bL(t,e,n,r){let i=cw(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qg(null,t,e,n,r),n=Gl(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Qg(i,t,e,n,r),o===null){let l=EL(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Qg(null,t,e,l[1],r),l=Gl(l,e.attrs,r),_L(t,e,r,l))}else o=wL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function EL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Js(r)!==0)return t[Ro(r)]}function _L(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ro(i)]=r}function wL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Gl(r,s,n)}return Gl(r,e.attrs,n)}function Qg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gl(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Gl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),F_(t,s,n?!0:e[++o]))}return t===void 0?null:t}function CL(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=fL(c)?Xw(l,e,n,i,Js(c),s):void 0;if(!Xd(u)){Xd(o)||uL(c)&&(o=Xw(l,null,n,i,a,s));let d=wg(xo(),n);OR(r,s,d,i,o)}}function Xw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===Yr&&(h=d?un:void 0);let f=d?vd(h,r):u===r?h:void 0;if(c&&!Xd(f)&&(f=vd(l,r)),Xd(f)&&(a=f,s))return a;let p=t[i+1];i=s?Ro(p):Js(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=vd(l,r))}return a}function Xd(t){return t!==void 0}function DL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$r(ea(t)))),t}function IL(t,e){return(t.flags&(e?8:16))!==0}function O(t,e=""){let n=Te(),r=fn(),i=t+Zt,o=r.firstCreatePass?uf(r,i,1,e,null):r.data[i],s=SL(r,n,o,e,t);n[i]=s,Td()&&By(r,n,s,o),Ws(o,!1)}var SL=(t,e,n,r,i)=>(xd(!0),eR(e[ze],r));function TL(t,e,n,r=""){return na(t,Vl(),n)?e+Us(n)+r:Yr}function Ve(t){return bt("",t),Ve}function bt(t,e,n){let r=Te(),i=TL(r,t,e,n);return i!==Yr&&xL(r,xo(),i),bt}function xL(t,e,n){let r=wg(e,t);tR(t[ze],r,n)}function Xn(t,e,n){Bg(e)&&(e=e());let r=Te(),i=Vl();if(na(r,i,e)){let o=fn(),s=Sd();JC(s,r,t,e,r[ze],n)}return Xn}function yr(t,e){let n=Bg(t);return n&&t.set(e),n}function Jn(t,e){let n=Te(),r=fn(),i=Dt();return ND(r,n,n[ze],i,t,e),Jn}function AL(t,e,n){let r=fn();if(r.firstCreatePass){let i=fr(t);Ey(n,r.data,r.blueprint,i,!0),Ey(e,r.data,r.blueprint,i,!1)}}function Ey(t,e,n,r,i){if(t=wt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ey(t[o],e,n,r,i);else{let o=fn(),s=Te(),a=Dt(),l=yo(t)?t:wt(t.provide),c=yg(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(yo(t)||!t.multi){let f=new Mo(c,i,q,null),p=Jg(l,e,i?u:u+h,d);p===-1?(ty(Bd(a,s),o,l),Xg(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Jg(l,e,u+h,d),p=Jg(l,e,u,u+h),m=f>=0&&n[f],v=p>=0&&n[p];if(i&&!v||!i&&!m){ty(Bd(a,s),o,l);let g=OL(i?NL:ML,n.length,i,r,c,t);!i&&v&&(n[p].providerFactory=g),Xg(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)}else{let g=OD(n[i?p:f],c,!i&&r);Xg(o,t,f>-1?f:p,g)}!i&&r&&v&&n[p].componentProviders++}}}function Xg(t,e,n,r){let i=yo(e),o=$_(e);if(i||o){let l=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function OD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ML(t,e,n,r,i){return _y(this.multi,[])}function NL(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ud(r,r[ce],this.providerFactory.index,i);s=l.slice(0,a),_y(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],_y(o,s);return s}function _y(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function OL(t,e,n,r,i,o){let s=new Mo(t,n,q,null);return s.multi=[],s.index=e,s.componentProviders=0,OD(s,i,r&&!n),s}function ia(t,e=[]){return n=>{n.providersResolver=(r,i)=>AL(r,i?i(t):t,e)}}function ev(t,e,n,r){return RL(Te(),rw(),t,e,n,r)}function kL(t,e){let n=t[e];return n===Yr?void 0:n}function RL(t,e,n,r,i,o){let s=e+n;return na(t,s,i)?TP(t,s+1,o?r.call(o,i):r(i)):kL(t,s+1)}var Jd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},tv=(()=>{class t{compileModuleSync(n){return new Qd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=hg(n),o=PC(i.declarations).reduce((s,a)=>{let l=Gr(a);return l&&s.push(new Oo(l)),s},[]);return new Jd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var PL=(()=>{class t{zone=x(Ye);changeDetectionScheduler=x(Ci);applicationRef=x(Xr);applicationErrorHandler=x(Yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kD=new U("",{factory:()=>!1});function nv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ye(W(S({},iv()),{scheduleInRootZone:n})),[{provide:Ye,useFactory:t},{provide:zr,multi:!0,useFactory:()=>{let r=x(PL,{optional:!0});return()=>r.initialize()}},{provide:zr,multi:!0,useFactory:()=>{let r=x(LL);return()=>{r.initialize()}}},e===!0?{provide:Ug,useValue:!0}:[],{provide:Hg,useValue:n??$C},{provide:Yt,useFactory:()=>{let r=x(Ye),i=x(ut),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(qn),o.handleError(s))})}}}]}function rv(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=nv({ngZoneFactory:()=>{let i=iv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Lo("NgZone_CoalesceEvent"),new Ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Si([{provide:kD,useValue:!0},{provide:Bl,useValue:!1},r])}function iv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LL=(()=>{class t{subscription=new qe;initialized=!1;zone=x(Ye);pendingTasks=x(Wr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RD=(()=>{class t{applicationErrorHandler=x(Yt);appRef=x(Xr);taskService=x(Wr);ngZone=x(Ye);zonelessEnabled=x(Bl);tracing=x(Po,{optional:!0});disableScheduling=x(Ug,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Hg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Rw:qC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FL(){return typeof $localize<"u"&&$localize.locale||rc}var pf=new U("",{providedIn:"root",factory:()=>x(pf,{optional:!0,skipSelf:!0})||FL()});function St(t){return x_(t)}function ic(t,e){return ju(t,e?.equal)}var PD=class{[At];constructor(e){this[At]=e}destroy(){this[At].destroy()}};var BD=Symbol("InputSignalNode#UNSET"),tF=W(S({},Vu),{transformFn:void 0,applyValueToInputSignal(t,e){Ts(t,e)}});function UD(t,e){let n=Object.create(tF);n.value=t,n.transformFn=e?.transform;function r(){if(Ds(n),n.value===BD){let i=null;throw new $(-950,i)}return n.value}return r[At]=n,r}var gf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Zl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},nF=new U("");nF.__NG_ELEMENT_ID__=t=>{let e=Dt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new $(204,!1)};function LD(t,e){return UD(t,e)}function rF(t){return UD(BD,t)}var HD=(LD.required=rF,LD);var ov=new U(""),iF=new U("");function oc(t){return!t.moduleRef}function oF(t){let e=oc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ye);return n.run(()=>{oc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Yt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),oc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ov);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ov);s.add(o),t.moduleRef.onDestroy(()=>{$l(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return aF(r,n,()=>{let o=e.get(Wr),s=o.add(),a=e.get(Jy);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(pf,rc);if(MD(l||rc),!e.get(iF,!0))return oc(t)?e.get(Xr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(oc(t)){let u=e.get(Xr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return sF?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var sF;function aF(t,e,n){try{let r=n();return Ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var mf=null;function lF(t=[],e){return Ot.create({name:e,providers:[{provide:Al,useValue:"platform"},{provide:ov,useValue:new Set([()=>mf=null])},...t]})}function cF(t=[]){if(mf)return mf;let e=lF(t);return mf=e,TD(),uF(e),e}function uF(t){let e=t.get(nf,null);kt(t,()=>{e?.forEach(n=>n())})}var Xt=(()=>{class t{static __NG_ELEMENT_ID__=dF}return t})();function dF(t){return fF(Dt(),Te(),(t&16)===16)}function fF(t,e,n){if(Ai(t)&&!n){let r=Sn(t.index,e);return new Ni(r,r)}else if(t.type&175){let r=e[Dn];return new Ni(r,e)}return null}var sv=class{constructor(){}supports(e){return Zy(e)}create(e){return new av(e)}},hF=(t,e)=>e,av=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||hF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<FD(r,i,o)?n:r,a=FD(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Zy(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,ED(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new lv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new yf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},lv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},cv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},yf=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new cv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function FD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function jD(){return new uv([new sv])}var uv=(()=>{class t{factories;static \u0275prov=L({token:t,providedIn:"root",factory:jD});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=x(t,{optional:!0,skipSelf:!0});return t.create(n,r||jD())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function $D(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;xe(8);try{let o=i?.injector??cF(r),s=[nv({}),{provide:Ci,useExisting:RD},gw,...n||[]],a=new zl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return oF({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{xe(9)}}function Uo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qD(t){let e=Gr(t);if(!e)return null;let n=new Oo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var WD=null;function xn(){return WD}function dv(t){WD??=t}var sc=class{},ac=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>x(ZD),providedIn:"platform"})}return t})(),fv=new U(""),ZD=(()=>{class t extends ac{_location;_history;_doc=x(Ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(n){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function vf(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function zD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function er(t){return t&&t[0]!=="?"?`?${t}`:t}var An=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>x(Ef),providedIn:"root"})}return t})(),bf=new U(""),Ef=(()=>{class t extends An{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vf(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+er(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+er(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(B(ac),B(bf,8))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vr=(()=>{class t{_subject=new Ce;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=gF(zD(GD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+er(r))}normalize(n){return t.stripTrailingSlash(mF(this._basePath,GD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=er;static joinWithSlash=vf;static stripTrailingSlash=zD;static \u0275fac=function(r){return new(r||t)(B(An))};static \u0275prov=L({token:t,factory:()=>pF(),providedIn:"root"})}return t})();function pF(){return new vr(B(An))}function mF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function GD(t){return t.replace(/\/index.html$/,"")}function gF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Cf=(()=>{class t extends An{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=vf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+er(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+er(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(B(ac),B(bf,8))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var _f=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Pi=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new _f(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),KD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);KD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(Fo),q(Jl),q(uv))};static \u0275dir=vt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function KD(t,e){t.context.$implicit=e.item}var Ho=(()=>{class t{_viewContainer;_context=new wf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(Fo),q(Jl))};static \u0275dir=vt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),wf=class{$implicit=null;ngIf=null};function YD(t,e){if(t&&!t.createEmbeddedView)throw new $(2020,!1)}var br=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qn({type:t});static \u0275inj=_n({})}return t})();function hv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lc=class{};var QD="browser";var XD=(()=>{class t{static \u0275prov=L({token:t,providedIn:"root",factory:()=>new pv(x(Ke),window)})}return t})(),pv=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(W(S({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=yF(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Di(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(W(S({},n),{left:i-s[0],top:o-s[1]}))}};function yF(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var cc=class{_doc;constructor(e){this._doc=e}manager},Df=(()=>{class t extends cc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(B(Ke))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),Sf=new U(""),bv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Df));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Df);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(B(Sf),B(Ye))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),mv="ng-app-id";function JD(t){for(let e of t)e.remove()}function eI(t,e){let n=e.createElement("style");return n.textContent=t,n}function vF(t,e,n,r){let i=t.head?.querySelectorAll(`style[${mv}="${e}"],link[${mv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(mv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function yv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Ev=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,vF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,eI);r?.forEach(i=>this.addUsage(i,this.external,yv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(JD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])JD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,eI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,yv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(B(Ke),B(tf),B(rf,8),B(Kl))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),gv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_v=/%COMP%/g;var nI="%COMP%",bF=`_nghost-${nI}`,EF=`_ngcontent-${nI}`,_F=!0,wF=new U("",{providedIn:"root",factory:()=>_F});function CF(t){return EF.replace(_v,t)}function DF(t){return bF.replace(_v,t)}function rI(t,e){return e.map(n=>n.replace(_v,t))}var wv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new uc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof If?i.applyToHost(n):i instanceof dc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Zr.Emulated:o=new If(l,c,r,this.appId,u,s,a,d,h);break;case Zr.ShadowDom:return new vv(l,c,n,r,s,a,this.nonce,d,h);default:o=new dc(l,c,r,u,s,a,d,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(B(bv),B(Ev),B(tf),B(wF),B(Ke),B(Ye),B(rf),B(Po,8))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),uc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(gv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=gv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=gv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(mr.DashCase|mr.Important)?e.style.setProperty(n,r,i&mr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&mr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function tI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var vv=class extends uc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=rI(i.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=yv(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends uc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?rI(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Xs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},If=class extends dc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,l,c,u),this.contentAttr=CF(u),this.hostAttr=DF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Tf=class t extends sc{supportsDOMEvents=!0;static makeCurrent(){dv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=IF();return n==null?null:SF(n)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hv(document.cookie,e)}},fc=null;function IF(){return fc=fc||document.head.querySelector("base"),fc?fc.getAttribute("href"):null}function SF(t){return new URL(t,document.baseURI).pathname}var TF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),iI=["alt","control","meta","shift"],xF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oI=(()=>{class t extends cc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),iI.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=xF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),iI.forEach(s=>{if(s!==i){let a=AF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(B(Ke))};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();function Cv(t,e,n){let r=S({rootComponent:t,platformRef:n?.platformRef},MF(e));return $D(r)}function MF(t){return{appProviders:[...PF,...t?.providers??[]],platformProviders:RF}}function NF(){Tf.makeCurrent()}function OF(){return new qn}function kF(){return Dy(document),document}var RF=[{provide:Kl,useValue:QD},{provide:nf,useValue:NF,multi:!0},{provide:Ke,useFactory:kF}];var PF=[{provide:Al,useValue:"root"},{provide:qn,useFactory:OF},{provide:Sf,useClass:Df,multi:!0,deps:[Ke]},{provide:Sf,useClass:oI,multi:!0,deps:[Ke]},wv,Ev,bv,{provide:No,useExisting:wv},{provide:lc,useClass:TF},[]];var sI=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(B(Ke))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var re="primary",Ic=Symbol("RouteTitle"),xv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zo(t){return new xv(t)}function pI(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function FF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Er(t[n],e[n]))return!1;return!0}function Er(t,e){let n=t?Av(t):void 0,r=e?Av(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!mI(t[i],e[i]))return!1;return!0}function Av(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function mI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function gI(t){return t.length>0?t[t.length-1]:null}function ei(t){return Om(t)?t:Ri(t)?be(Promise.resolve(t)):H(t)}var jF={exact:vI,subset:bI},yI={exact:VF,subset:BF,ignored:()=>!0};function aI(t,e,n){return jF[n.paths](t.root,e.root,n.matrixParams)&&yI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VF(t,e){return Er(t,e)}function vI(t,e,n){if(!$o(t.segments,e.segments)||!Mf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vI(t.children[r],e.children[r],n))return!1;return!0}function BF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mI(t[n],e[n]))}function bI(t,e,n){return EI(t,e,e.segments,n)}function EI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!$o(i,n)||e.hasChildren()||!Mf(i,n,r))}else if(t.segments.length===n.length){if(!$o(t.segments,n)||!Mf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!bI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!$o(t.segments,i)||!Mf(t.segments,i,r)||!t.children[re]?!1:EI(t.children[re],e,o,r)}}function Mf(t,e,n){return e.every((r,i)=>yI[n](t[i].parameters,r.parameters))}var wr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){return $F.serialize(this)}},De=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}},Li=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zo(this.parameters),this._parameterMap}toString(){return wI(this)}};function UF(t,e){return $o(t,e)&&t.every((n,r)=>Er(n.parameters,e[r].parameters))}function $o(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Go=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>new Fi,providedIn:"root"})}return t})(),Fi=class{parse(e){let n=new Nv(e);return new wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hc(e.root,!0)}`,r=GF(e.queryParams),i=typeof e.fragment=="string"?`#${qF(e.fragment)}`:"";return`${n}${r}${i}`}},$F=new Fi;function Nf(t){return t.segments.map(e=>wI(e)).join("/")}function hc(t,e){if(!t.hasChildren())return Nf(t);if(e){let n=t.children[re]?hc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${hc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HF(t,(r,i)=>i===re?[hc(t.children[re],!1)]:[`${i}:${hc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Nf(t)}/${n[0]}`:`${Nf(t)}/(${n.join("//")})`}}function _I(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xf(t){return _I(t).replace(/%3B/gi,";")}function qF(t){return encodeURI(t)}function Mv(t){return _I(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(t){return decodeURIComponent(t)}function lI(t){return Of(t.replace(/\+/g,"%20"))}function wI(t){return`${Mv(t.path)}${zF(t.parameters)}`}function zF(t){return Object.entries(t).map(([e,n])=>`;${Mv(e)}=${Mv(n)}`).join("")}function GF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xf(n)}=${xf(i)}`).join("&"):`${xf(n)}=${xf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var WF=/^[^\/()?;#]+/;function Dv(t){let e=t.match(WF);return e?e[0]:""}var ZF=/^[^\/()?;=#]+/;function KF(t){let e=t.match(ZF);return e?e[0]:""}var YF=/^[^=?&#]+/;function QF(t){let e=t.match(YF);return e?e[0]:""}var XF=/^[^&#]+/;function JF(t){let e=t.match(XF);return e?e[0]:""}var Nv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new De(e,n)),r}parseSegment(){let e=Dv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Li(Of(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dv(this.remaining);i&&(r=i,this.capture(r))}e[Of(n)]=Of(r)}parseQueryParam(e){let n=QF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JF(this.remaining);s&&(r=s,this.capture(r))}let i=lI(n),o=lI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o??re]=Object.keys(s).length===1&&s[re]?s[re]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function CI(t){return t.segments.length>0?new De([],{[re]:t}):t}function DI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=DI(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new De(t.segments,e);return e2(n)}function e2(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new De(t.segments.concat(e.segments),e.children)}return t}function ji(t){return t instanceof wr}function II(t,e,n=null,r=null){let i=SI(t);return TI(i,e,n,r)}function SI(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new De(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=CI(r);return e??i}function TI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Iv(i,i,i,n,r);let o=t2(e);if(o.toRoot())return Iv(i,i,new De([],{}),n,r);let s=n2(o,i,t),a=s.processChildren?mc(s.segmentGroup,s.index,o.commands):AI(s.segmentGroup,s.index,o.commands);return Iv(i,s.segmentGroup,a,n,r)}function kf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yc(t){return typeof t=="object"&&t!=null&&t.outlets}function Iv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=xI(t,e,n);let a=CI(DI(s));return new wr(a,o,i)}function xI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=xI(o,e,n)}),new De(t.segments,r)}var Rf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kf(r[0]))throw new $(4003,!1);let i=r.find(yc);if(i&&i!==gI(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function t2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Rf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Rf(n,e,r)}var la=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function n2(t,e,n){if(t.isAbsolute)return new la(e,!0,0);if(!n)return new la(e,!1,NaN);if(n.parent===null)return new la(n,!0,0);let r=kf(t.commands[0])?0:1,i=n.segments.length-1+r;return r2(n,i,t.numberOfDoubleDots)}function r2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new la(r,!1,i-o)}function i2(t){return yc(t[0])?t[0].outlets:{[re]:t}}function AI(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return mc(t,e,n);let r=o2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new De(t.segments.slice(r.pathIndex),t.children),mc(o,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?Ov(t,e,n):r.match?mc(t,0,i):Ov(t,e,n)}function mc(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=i2(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=mc(t.children[re],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=AI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(t.segments,i)}}function o2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(yc(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!uI(l,c,s))return o;r+=2}else{if(!uI(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ov(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(yc(o)){let l=s2(o.outlets);return new De(r,l)}if(i===0&&kf(n[0])){let l=t.segments[e];r.push(new Li(l.path,cI(n[0]))),i++;continue}let s=yc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&kf(a)?(r.push(new Li(s,cI(a))),i+=2):(r.push(new Li(s,{})),i++)}return new De(r,{})}function s2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ov(new De([],{}),0,r))}),e}function cI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function uI(t,e,n){return t==n.path&&Er(e,n.parameters)}var ca="imperative",pt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(pt||{}),pn=class{id;url;constructor(e,n){this.id=e,this.url=n}},Vi=class extends pn{type=pt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mn=class extends pn{urlAfterRedirects;type=pt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ht||{}),da=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(da||{}),_r=class extends pn{reason;code;type=pt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cr=class extends pn{reason;code;type=pt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},fa=class extends pn{error;target;type=pt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vc=class extends pn{urlAfterRedirects;state;type=pt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pf=class extends pn{urlAfterRedirects;state;type=pt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class extends pn{urlAfterRedirects;state;shouldActivate;type=pt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ff=class extends pn{urlAfterRedirects;state;type=pt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jf=class extends pn{urlAfterRedirects;state;type=pt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vf=class{route;type=pt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bf=class{route;type=pt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Uf=class{snapshot;type=pt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hf=class{snapshot;type=pt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$f=class{snapshot;type=pt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qf=class{snapshot;type=pt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ha=class{routerEvent;position;anchor;type=pt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},bc=class{},pa=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function a2(t){return!(t instanceof bc)&&!(t instanceof pa)}function l2(t,e){return t.providers&&!t._injector&&(t._injector=ra(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tr(t){return t.outlet||re}function c2(t,e){let n=t.filter(r=>tr(r)===e);return n.push(...t.filter(r=>tr(r)!==e)),n}function ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ya(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Wo(this.rootInjector)}},Wo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new zf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(B(ut))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=kv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=kv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rv(e,this._root).map(n=>n.value)}};function kv(t,e){if(t===e.value)return e;for(let n of e.children){let r=kv(t,n);if(r)return r}return null}function Rv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rv(t,n);if(r.length)return r.unshift(e),r}return[]}var hn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function aa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ec=class extends Gf{snapshot;constructor(e,n){super(e),this.snapshot=n,Hv(this,e)}toString(){return this.snapshot.toString()}};function MI(t){let e=u2(t),n=new Ze([new Li("",{})]),r=new Ze({}),i=new Ze({}),o=new Ze({}),s=new Ze(""),a=new Nn(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new Ec(new hn(a,[]),e)}function u2(t){let e={},n={},r={},o=new qo([],e,r,"",n,re,t,null,{});return new _c("",new hn(o,[]))}var Nn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(X(c=>c[Ic]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>zo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>zo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&OI(i)&&(r.resolve[Ic]=i.title),r}var qo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ic]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_c=class extends Gf{url;constructor(e,n){super(n),this.url=e,Hv(this,n)}toString(){return NI(this._root)}};function Hv(t,e){e.value._routerState=t,e.children.forEach(n=>Hv(t,n))}function NI(t){let e=t.children.length>0?` { ${t.children.map(NI).join(", ")} } `:"";return`${t.value}${e}`}function Sv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Er(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Er(e.params,n.params)||t.paramsSubject.next(n.params),FF(e.url,n.url)||t.urlSubject.next(n.url),Er(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Pv(t,e){let n=Er(t.params,e.params)&&UF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Pv(t.parent,e.parent))}function OI(t){return typeof t.title=="string"||t.title===null}var kI=new U(""),Sc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new ht;deactivateEvents=new ht;attachEvents=new ht;detachEvents=new ht;routerOutletData=HD();parentContexts=x(Wo);location=x(Fo);changeDetector=x(Xt);inputBinder=x(Tc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Lv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=vt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Oi]})}return t})(),Lv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Nn?this.route:e===Wo?this.childContexts:e===kI?this.outletData:this.parent.get(e,n)}},Tc=new U(""),$v=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=El([r.queryParams,r.params,r.data]).pipe(tt(([o,s,a],l)=>(a=S(S(S({},o),s),a),l===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=qD(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})(),qv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=It({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_e(0,"router-outlet")},dependencies:[Sc],encapsulation:2})}return t})();function zv(t){let e=t.children&&t.children.map(zv),n=e?W(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=qv),n}function d2(t,e,n){let r=wc(t,e._root,n?n._root:void 0);return new Ec(r,e)}function wc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=f2(t,e,n);return new hn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wc(t,a)),s}}let r=h2(e.value),i=e.children.map(o=>wc(t,o));return new hn(r,i)}}function f2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wc(t,r,i);return wc(t,r)})}function h2(t){return new Nn(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var ma=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},RI="ngNavigationCancelingError";function Zf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PI(!1,Ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RI]=!0,n.cancellationCode=e,n}function p2(t){return LI(t)&&ji(t.url)}function LI(t){return!!t&&t[RI]}var m2=(t,e,n,r)=>X(i=>(new Fv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Fv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=aa(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=aa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=aa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=aa(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Hf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Sv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Sv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Kf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ua=class{component;route;constructor(e,n){this.component=e,this.route=n}};function g2(t,e,n){let r=t._root,i=e?e._root:null;return pc(r,i,n,[r.value])}function y2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function va(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ng(t)?t:e.get(t):r}function pc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=aa(e);return t.children.forEach(s=>{v2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gc(a,n.getContext(s),i)),i}function v2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=b2(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Kf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pc(t,e,a?a.children:null,r,i):pc(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ua(a.outlet.component,s))}else s&&gc(e,a,i),i.canActivateChecks.push(new Kf(r)),o.component?pc(t,null,a?a.children:null,r,i):pc(t,null,n,r,i);return i}function b2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!$o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$o(t.url,e.url)||!Er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pv(t,e)||!Er(t.queryParams,e.queryParams);case"paramsChange":default:return!Pv(t,e)}}function gc(t,e,n){let r=aa(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gc(s,e.children.getContext(o),n):gc(s,null,n):gc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ua(e.outlet.component,i)):n.canDeactivateChecks.push(new ua(null,i)):n.canDeactivateChecks.push(new ua(null,i))}function xc(t){return typeof t=="function"}function E2(t){return typeof t=="boolean"}function _2(t){return t&&xc(t.canLoad)}function w2(t){return t&&xc(t.canActivate)}function C2(t){return t&&xc(t.canActivateChild)}function D2(t){return t&&xc(t.canDeactivate)}function I2(t){return t&&xc(t.canMatch)}function FI(t){return t instanceof Br||t?.name==="EmptyError"}var Af=Symbol("INITIAL_VALUE");function ga(){return tt(t=>El(t.map(e=>e.pipe(ln(1),Bm(Af)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Af)return Af;if(n===!1||S2(n))return n}return!0}),yt(e=>e!==Af),ln(1)))}function S2(t){return ji(t)||t instanceof ma}function T2(t,e){return Pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(W(S({},n),{guardsResult:!0})):x2(s,r,i,t).pipe(Pe(a=>a&&E2(a)?A2(r,o,t,e):H(a)),X(a=>W(S({},n),{guardsResult:a})))})}function x2(t,e,n,r){return be(t).pipe(Pe(i=>R2(i.component,i.route,n,e,r)),En(i=>i!==!0,!0))}function A2(t,e,n,r){return be(e).pipe(Nt(i=>Ls(N2(i.route.parent,r),M2(i.route,r),k2(t,i.path,n),O2(t,i.route,n))),En(i=>i!==!0,!0))}function M2(t,e){return t!==null&&e&&e(new $f(t)),H(!0)}function N2(t,e){return t!==null&&e&&e(new Uf(t)),H(!0)}function O2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>$n(()=>{let s=ya(e)??n,a=va(o,s),l=w2(a)?a.canActivate(e,t):kt(s,()=>a(e,t));return ei(l).pipe(En())}));return H(i).pipe(ga())}function k2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>y2(s)).filter(s=>s!==null).map(s=>$n(()=>{let a=s.guards.map(l=>{let c=ya(s.node)??n,u=va(l,c),d=C2(u)?u.canActivateChild(r,t):kt(c,()=>u(r,t));return ei(d).pipe(En())});return H(a).pipe(ga())}));return H(o).pipe(ga())}function R2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let l=ya(e)??i,c=va(a,l),u=D2(c)?c.canDeactivate(t,e,n,r):kt(l,()=>c(t,e,n,r));return ei(u).pipe(En())});return H(s).pipe(ga())}function P2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=va(s,t),l=_2(a)?a.canLoad(e,n):kt(t,()=>a(e,n));return ei(l)});return H(o).pipe(ga(),jI(r))}function jI(t){return Tm(je(e=>{if(typeof e!="boolean")throw Zf(t,e)}),X(e=>e===!0))}function L2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=va(s,t),l=I2(a)?a.canMatch(e,n):kt(t,()=>a(e,n));return ei(l)});return H(o).pipe(ga(),jI(r))}var Cc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Dc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function sa(t){return Hn(new Cc(t))}function F2(t){return Hn(new $(4e3,!1))}function j2(t){return Hn(PI(!1,Ht.GuardRejected))}var jv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[re])return F2(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){return V2(n,i,o).pipe(X(s=>{if(s instanceof wr)throw new Dc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Dc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function V2(t,e,n){if(typeof t=="string")return H(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=e;return ei(kt(n,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d})))}var Vv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B2(t,e,n,r,i){let o=VI(t,e,n);return o.matched?(r=l2(e,r),L2(r,e,n,i).pipe(X(s=>s===!0?o:S({},Vv)))):H(o)}function VI(t,e,n){if(e.path==="**")return U2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Vv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pI)(n,t,e);if(!i)return S({},Vv);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?S(S({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function U2(t){return{matched:!0,parameters:t.length>0?gI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function dI(t,e,n,r){return n.length>0&&q2(t,n,r)?{segmentGroup:new De(e,$2(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&z2(t,n,r)?{segmentGroup:new De(t.segments,H2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function H2(t,e,n,r){let i={};for(let o of n)if(Qf(t,e,o)&&!r[tr(o)]){let s=new De([],{});i[tr(o)]=s}return S(S({},r),i)}function $2(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&tr(r)!==re){let i=new De([],{});n[tr(r)]=i}return n}function q2(t,e,n){return n.some(r=>Qf(t,e,r)&&tr(r)!==re)}function z2(t,e,n){return n.some(r=>Qf(t,e,r))}function Qf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function G2(t,e,n){return e.length===0&&!t.children[n]}var Bv=class{};function W2(t,e,n,r,i,o,s="emptyOnly"){return new Uv(t,e,n,r,i,s,o).recognize()}var Z2=31,Uv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new jv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=dI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:n,rootSnapshot:r})=>{let i=new hn(r,n),o=new _c("",i),s=II(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new qo([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(X(r=>({children:r,rootSnapshot:n})),Ut(r=>{if(r instanceof Dc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(X(s=>s instanceof hn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(Nt(s=>{let a=r.children[s],l=c2(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Cl((s,a)=>(s.push(...a),s)),_i(null),Lm(),Pe(s=>{if(s===null)return sa(r);let a=BI(s);return K2(a),H(a)}))}processSegment(e,n,r,i,o,s,a){return be(n).pipe(Nt(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Ut(c=>{if(c instanceof Cc)return H(null);throw c}))),En(l=>!!l),Ut(l=>{if(FI(l))return G2(r,i,o)?H(new Bv):sa(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return tr(r)!==s&&(s===re||!Qf(i,o,r))?sa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):sa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=VI(n,i,o);if(!l)return sa(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Z2&&(this.allowRedirects=!1));let f=new qo(o,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,fI(i),tr(i),i.component??i._loadedComponent??null,i,hI(i)),p=Wf(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e).pipe(tt(v=>this.applyRedirects.lineralizeSegments(i,v)),Pe(v=>this.processSegment(e,r,n,v.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=B2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(tt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tt(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new qo(h,d,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,fI(r),tr(r),r.component??r._loadedComponent??null,r,hI(r)),m=Wf(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:g}=dI(n,h,f,c);if(g.length===0&&v.hasChildren())return this.processChildren(u,c,v,p).pipe(X(_=>new hn(p,_)));if(c.length===0&&g.length===0)return H(new hn(p,[]));let E=tr(r)===o;return this.processSegment(u,c,v,g,E?re:o,!0,p).pipe(X(_=>new hn(p,_ instanceof hn?[_]:[])))}))):sa(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):P2(e,n,r,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(e,n).pipe(je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):j2(n))):H({routes:[],injector:e})}};function K2(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function Y2(t){let e=t.value.routeConfig;return e&&e.path===""}function BI(t){let e=[],n=new Set;for(let r of t){if(!Y2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=BI(r.children);e.push(new hn(r.value,i))}return e.filter(r=>!n.has(r))}function fI(t){return t.data||{}}function hI(t){return t.resolve||{}}function Q2(t,e,n,r,i,o){return Pe(s=>W2(t,e,n,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:l})=>W(S({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function X2(t,e){return Pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of UI(l))s.add(c);let a=0;return be(s).pipe(Nt(l=>o.has(l)?J2(l,r,t,e):(l.data=Wf(l,l.parent,t).resolve,H(void 0))),je(()=>a++),Fs(1),Pe(l=>a===s.size?H(n):Mt))})}function UI(t){let e=t.children.map(n=>UI(n)).flat();return[t,...e]}function J2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!OI(i)&&(o[Ic]=i.title),$n(()=>(t.data=Wf(t,t.parent,n).resolve,ej(o,t,e,r).pipe(X(s=>(t._resolvedData=s,t.data=S(S({},t.data),s),null)))))}function ej(t,e,n,r){let i=Av(t);if(i.length===0)return H({});let o={};return be(i).pipe(Pe(s=>tj(t[s],e,n,r).pipe(En(),je(a=>{if(a instanceof ma)throw Zf(new Fi,a);o[s]=a}))),Fs(1),X(()=>o),Ut(s=>FI(s)?Mt:Hn(s)))}function tj(t,e,n,r){let i=ya(e)??r,o=va(t,i),s=o.resolve?o.resolve(e,n):kt(i,()=>o(e,n));return ei(s)}function Tv(t){return tt(e=>{let n=t(e);return n?be(n).pipe(X(()=>e)):H(e)})}var Gv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ic]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>x(HI),providedIn:"root"})}return t})(),HI=(()=>{class t extends Gv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(B(sI))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bi=new U("",{providedIn:"root",factory:()=>({})}),Zo=new U(""),Xf=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(tv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ei(kt(n,()=>r.loadComponent())).pipe(X(qI),tt(zI),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),wl(()=>{this.componentLoaders.delete(r)})),o=new ks(i,()=>new Ce).pipe(Os());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$I(r,this.compiler,n,this.onLoadEndListener).pipe(wl(()=>{this.childrenLoaders.delete(r)})),s=new ks(o,()=>new Ce).pipe(Os());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $I(t,e,n,r){return ei(kt(n,()=>t.loadChildren())).pipe(X(qI),tt(zI),Pe(i=>i instanceof ff||Array.isArray(i)?H(i):be(e.compileModuleAsync(i))),X(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Zo,[],{optional:!0,self:!0}).flat()),{routes:s.map(zv),injector:o}}))}function nj(t){return t&&typeof t=="object"&&"default"in t}function qI(t){return nj(t)?t.default:t}function zI(t){return H(t)}var Jf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>x(rj),providedIn:"root"})}return t})(),rj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wv=new U(""),Zv=new U("");function GI(t,e,n){let r=t.get(Zv),i=t.get(Ke);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),ij(t)));a.ready.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&kt(t,()=>l({transition:a,from:e,to:n})),s}function ij(t){return new Promise(e=>{Xl({read:()=>setTimeout(e)},{injector:t})})}var Kv=new U(""),eh=(()=>{class t{currentNavigation=hr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ce;transitionAbortWithErrorSubject=new Ce;configLoader=x(Xf);environmentInjector=x(ut);destroyRef=x(Zn);urlSerializer=x(Go);rootContexts=x(Wo);location=x(vr);inputBindingEnabled=x(Tc,{optional:!0})!==null;titleStrategy=x(Gv);options=x(Bi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Jf);createViewTransition=x(Wv,{optional:!0});navigationErrorHandler=x(Kv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Vf(i)),r=i=>this.events.next(new Bf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;St(()=>{this.transitions?.next(W(S({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Ze(null),this.transitions.pipe(yt(r=>r!==null),tt(r=>{let i=!1;return H(r).pipe(tt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?W(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.rawUrl),"",da.IgnoredSameUrlNavigation)),o.resolve(!1),Mt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(tt(l=>(this.events.next(new Vi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Mt:Promise.resolve(l))),Q2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=l.urlAfterRedirects,u));let c=new vc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:u,restoredState:d,extras:h}=o,f=new Vi(l,this.urlSerializer.serialize(c),u,d);this.events.next(f);let p=MI(this.rootComponentType).snapshot;return this.currentTransition=r=W(S({},o),{targetSnapshot:p,urlAfterRedirects:c,extras:W(S({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=c,m)),H(r)}else return this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",da.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Mt}),je(o=>{let s=new Pf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=W(S({},o),{guards:g2(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),T2(this.environmentInjector,o=>this.events.next(o)),je(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Zf(this.urlSerializer,o.guardsResult);let s=new Lf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),yt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ht.GuardRejected),!1)),Tv(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(je(s=>{let a=new Ff(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),tt(s=>{let a=!1;return H(s).pipe(X2(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ht.NoDataFromResolver)}}))}),je(s=>{let a=new jf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Tv(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=ya(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(je(u=>{a.component=u}),X(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return El(s(o.targetSnapshot.root)).pipe(_i(null),ln(1))}),Tv(()=>this.afterPreactivation()),tt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?be(a).pipe(X(()=>r)):H(r)}),X(o=>{let s=d2(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=W(S({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),je(()=>{this.events.next(new bc)}),m2(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ln(1),js(new ve(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(yt(()=>!i&&!r.targetRouterState),je(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ht.Aborted)}))),je({next:o=>{i=!0,this.lastSuccessfulNavigation=St(this.currentNavigation),this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),js(this.transitionAbortWithErrorSubject.pipe(je(o=>{throw o}))),wl(()=>{i||this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ut(o=>{if(this.destroyed)return r.resolve(!1),Mt;if(i=!0,LI(o))this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),p2(o)?this.events.next(new pa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new fa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=kt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ma){let{message:l,cancellationCode:c}=Zf(this.urlSerializer,a);this.events.next(new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new pa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Mt}))}))}cancelNavigationTransition(n,r,i){let o=new _r(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=St(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oj(t){return t!==ca}var WI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>x(sj),providedIn:"root"})}return t})(),Yf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},sj=(()=>{class t extends Yf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ki(t)))(i||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZI=(()=>{class t{urlSerializer=x(Go);options=x(Bi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(vr);urlHandlingStrategy=x(Jf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof wr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=MI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:()=>x(aj),providedIn:"root"})}return t})(),aj=(()=>{class t extends ZI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Vi?this.updateStateMemento():n instanceof Cr?this.commitTransition(r):n instanceof vc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof bc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof _r&&n.code!==Ht.SupersededByNewNavigation&&n.code!==Ht.Redirect?this.restoreHistory(r):n instanceof fa?this.restoreHistory(r,!0):n instanceof Mn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=S(S({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=S(S({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ki(t)))(i||t)}})();static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function th(t,e){t.events.pipe(yt(n=>n instanceof Mn||n instanceof _r||n instanceof fa||n instanceof Cr),X(n=>n instanceof Mn||n instanceof Cr?0:(n instanceof _r?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?2:1),yt(n=>n!==2),ln(1)).subscribe(()=>{e()})}var lj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ot=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Ky);stateManager=x(ZI);options=x(Bi,{optional:!0})||{};pendingTasks=x(Wr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(eh);urlSerializer=x(Go);location=x(vr);urlHandlingStrategy=x(Jf);injector=x(ut);_events=new Ce;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(WI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Zo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Tc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=St(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _r&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mn)this.navigated=!0;else if(r instanceof pa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=S({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oj(i.source)},s);this.scheduleNavigation(a,ca,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}a2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=S({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Yt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return St(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=SI(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return TI(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ji(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ca,null,r)}navigate(n,r={skipLocationChange:!1}){return uj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Di(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=S({},lj):r===!1?i=S({},cj):i=r,ji(n))return aI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return aI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return th(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}var nh=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=hr(null);get href(){return St(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ce;applicationErrorHandler=x(Yt);options=x(Bi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(x(new gf("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Mn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ji(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ji(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(q(ot),q(Nn),Zl("tabindex"),q(gr),q(Yn),q(An))};static \u0275dir=vt({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ue("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&nc("href",i.reactiveHref(),Ay)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Uo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Uo],replaceUrl:[2,"replaceUrl","replaceUrl",Uo],routerLink:"routerLink"},features:[Oi]})}return t})();var Ac=class{};var KI=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(yt(n=>n instanceof Mn),Nt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ra(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(i).pipe(Ei())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=H(null);let o=i.pipe(Pe(s=>s===null?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return be([o,s]).pipe(Ei())}else return o})}static \u0275fac=function(r){return new(r||t)(B(ot),B(ut),B(Ac),B(Xf))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YI=new U(""),dj=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ca;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Vi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Cr&&n.code===da.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof ha))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>A(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ha(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Wy()};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();function Qv(t,...e){return Si([{provide:Zo,multi:!0,useValue:t},[],{provide:Nn,useFactory:QI,deps:[ot]},{provide:tc,multi:!0,useFactory:XI},e.map(n=>n.\u0275providers)])}function QI(t){return t.routerState.root}function ba(t,e){return{\u0275kind:t,\u0275providers:e}}function XI(){let t=x(Ot);return e=>{let n=t.get(Xr);if(e!==n.components[0])return;let r=t.get(ot),i=t.get(JI);t.get(Xv)===1&&r.initialNavigation(),t.get(nS,null,{optional:!0})?.setUpPreloading(),t.get(YI,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var JI=new U("",{factory:()=>new Ce}),Xv=new U("",{providedIn:"root",factory:()=>1});function eS(){let t=[{provide:Sy,useValue:!0},{provide:Xv,useValue:0},hf(()=>{let e=x(Ot);return e.get(fv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ot),o=e.get(JI);th(i,()=>{r(!0)}),e.get(eh).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))})];return ba(2,t)}function tS(){let t=[hf(()=>{x(ot).setUpLocationChangeListener()}),{provide:Xv,useValue:2}];return ba(3,t)}var nS=new U("");function rS(t){return ba(0,[{provide:nS,useExisting:KI},{provide:Ac,useExisting:t}])}function Jv(){return ba(6,[{provide:An,useClass:Cf}])}function iS(){return ba(8,[$v,{provide:Tc,useExisting:$v}])}function oS(t){Lo("NgRouterViewTransitions");let e=[{provide:Wv,useValue:GI},{provide:Zv,useValue:S({skipNextTransition:!!t?.skipInitialTransition},t)}];return ba(9,e)}var sS=[vr,{provide:Go,useClass:Fi},ot,Wo,{provide:Nn,useFactory:QI,deps:[ot]},Xf,[]],Mc=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[sS,[],{provide:Zo,multi:!0,useValue:n},[],r?.errorHandler?{provide:Kv,useValue:r.errorHandler}:[],{provide:Bi,useValue:r||{}},r?.useHash?hj():pj(),fj(),r?.preloadingStrategy?rS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?mj(r):[],r?.bindToComponentInputs?iS().\u0275providers:[],r?.enableViewTransitions?oS().\u0275providers:[],gj()]}}static forChild(n){return{ngModule:t,providers:[{provide:Zo,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qn({type:t});static \u0275inj=_n({})}return t})();function fj(){return{provide:YI,useFactory:()=>{let t=x(XD),e=x(Ye),n=x(Bi),r=x(eh),i=x(Go);return n.scrollOffset&&t.setOffset(n.scrollOffset),new dj(i,r,t,e,n)}}}function hj(){return{provide:An,useClass:Cf}}function pj(){return{provide:An,useClass:Ef}}function mj(t){return[t.initialNavigation==="disabled"?tS().\u0275providers:[],t.initialNavigation==="enabledBlocking"?eS().\u0275providers:[]]}var Yv=new U("");function gj(){return[{provide:Yv,useFactory:XI},{provide:tc,multi:!0,useExisting:Yv}]}function Dr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yb(t,e){return t(e={exports:{}},e.exports),e.exports}var Yo=yb(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,s){var a=i.locked.get(o);a===void 0?s===void 0?i.locked.set(o,[]):i.locked.set(o,[s]):s!==void 0&&(a.unshift(s),i.locked.set(o,a))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(s,a){i.isLocked(o)?i.addToLocked(o,s):(i.addToLocked(o),s())})},this.unlock=function(o){var s=i.locked.get(o);if(s!==void 0&&s.length!==0){var a=s.pop();i.locked.set(o,s),a!==void 0&&setTimeout(a,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r})();e.default=function(){return n.getInstance()}});gb(Yo);var yj=gb(yb(function(t,e){var n=Qo&&Qo.__awaiter||function(u,d,h,f){return new(h||(h=Promise))(function(p,m){function v(_){try{E(f.next(_))}catch(I){m(I)}}function g(_){try{E(f.throw(_))}catch(I){m(I)}}function E(_){_.done?p(_.value):new h(function(I){I(_.value)}).then(v,g)}E((f=f.apply(u,d||[])).next())})},r=Qo&&Qo.__generator||function(u,d){var h,f,p,m,v={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function g(E){return function(_){return(function(I){if(h)throw new TypeError("Generator is already executing.");for(;v;)try{if(h=1,f&&(p=2&I[0]?f.return:I[0]?f.throw||((p=f.return)&&p.call(f),0):f.next)&&!(p=p.call(f,I[1])).done)return p;switch(f=0,p&&(I=[2&I[0],p.value]),I[0]){case 0:case 1:p=I;break;case 4:return v.label++,{value:I[1],done:!1};case 5:v.label++,f=I[1],I=[0];continue;case 7:I=v.ops.pop(),v.trys.pop();continue;default:if(p=v.trys,!((p=p.length>0&&p[p.length-1])||I[0]!==6&&I[0]!==2)){v=0;continue}if(I[0]===3&&(!p||I[1]>p[0]&&I[1]<p[3])){v.label=I[1];break}if(I[0]===6&&v.label<p[1]){v.label=p[1],p=I;break}if(p&&v.label<p[2]){v.label=p[2],v.ops.push(I);break}p[2]&&v.ops.pop(),v.trys.pop();continue}I=d.call(u,v)}catch(V){I=[6,V],f=0}finally{h=p=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}})([E,_])}}},i=Qo;Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key",s={key:function(u){return n(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},getItem:function(u){return n(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return r(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return n(i,void 0,void 0,function(){return r(this,function(d){throw new Error("Unsupported")})})},setItem:function(u,d){return n(i,void 0,void 0,function(){return r(this,function(h){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,d){return window.localStorage.setItem(u,d)}};function a(u){return new Promise(function(d){return setTimeout(d,u)})}function l(u){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",h="",f=0;f<u;f++)h+=d[Math.floor(Math.random()*d.length)];return h}var c=(function(){function u(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,u.waiters===void 0&&(u.waiters=[])}return u.prototype.acquireLock=function(d,h){return h===void 0&&(h=5e3),n(this,void 0,void 0,function(){var f,p,m,v,g,E,_;return r(this,function(I){switch(I.label){case 0:f=Date.now()+l(4),p=Date.now()+h,m=o+"-"+d,v=this.storageHandler===void 0?s:this.storageHandler,I.label=1;case 1:return Date.now()<p?[4,a(30)]:[3,8];case 2:return I.sent(),v.getItemSync(m)!==null?[3,5]:(g=this.id+"-"+d+"-"+f,[4,a(Math.floor(25*Math.random()))]);case 3:return I.sent(),v.setItemSync(m,JSON.stringify({id:this.id,iat:f,timeoutKey:g,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return I.sent(),(E=v.getItemSync(m))!==null&&(_=JSON.parse(E)).id===this.id&&_.iat===f?(this.acquiredIatSet.add(f),this.refreshLockWhileAcquired(m,f),[2,!0]):[3,7];case 5:return u.lockCorrector(this.storageHandler===void 0?s:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:I.sent(),I.label=7;case 7:return f=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(d,h){return n(this,void 0,void 0,function(){var f=this;return r(this,function(p){return setTimeout(function(){return n(f,void 0,void 0,function(){var m,v,g;return r(this,function(E){switch(E.label){case 0:return[4,Yo.default().lock(h)];case 1:return E.sent(),this.acquiredIatSet.has(h)?(m=this.storageHandler===void 0?s:this.storageHandler,(v=m.getItemSync(d))===null?(Yo.default().unlock(h),[2]):((g=JSON.parse(v)).timeRefreshed=Date.now(),m.setItemSync(d,JSON.stringify(g)),Yo.default().unlock(h),this.refreshLockWhileAcquired(d,h),[2])):(Yo.default().unlock(h),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(d){return n(this,void 0,void 0,function(){return r(this,function(h){switch(h.label){case 0:return[4,new Promise(function(f){var p=!1,m=Date.now(),v=!1;function g(){if(v||(window.removeEventListener("storage",g),u.removeFromWaiting(g),clearTimeout(E),v=!0),!p){p=!0;var _=50-(Date.now()-m);_>0?setTimeout(f,_):f(null)}}window.addEventListener("storage",g),u.addToWaiting(g);var E=setTimeout(g,Math.max(0,d-Date.now()))})];case 1:return h.sent(),[2]}})})},u.addToWaiting=function(d){this.removeFromWaiting(d),u.waiters!==void 0&&u.waiters.push(d)},u.removeFromWaiting=function(d){u.waiters!==void 0&&(u.waiters=u.waiters.filter(function(h){return h!==d}))},u.notifyWaiters=function(){u.waiters!==void 0&&u.waiters.slice().forEach(function(d){return d()})},u.prototype.releaseLock=function(d){return n(this,void 0,void 0,function(){return r(this,function(h){switch(h.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,h.sent()]}})})},u.prototype.releaseLock__private__=function(d){return n(this,void 0,void 0,function(){var h,f,p,m;return r(this,function(v){switch(v.label){case 0:return h=this.storageHandler===void 0?s:this.storageHandler,f=o+"-"+d,(p=h.getItemSync(f))===null?[2]:(m=JSON.parse(p)).id!==this.id?[3,2]:[4,Yo.default().lock(m.iat)];case 1:v.sent(),this.acquiredIatSet.delete(m.iat),h.removeItemSync(f),Yo.default().unlock(m.iat),u.notifyWaiters(),v.label=2;case 2:return[2]}})})},u.lockCorrector=function(d){for(var h=Date.now()-5e3,f=d,p=[],m=0;;){var v=f.keySync(m);if(v===null)break;p.push(v),m++}for(var g=!1,E=0;E<p.length;E++){var _=p[E];if(_.includes(o)){var I=f.getItemSync(_);if(I!==null){var V=JSON.parse(I);(V.timeRefreshed===void 0&&V.timeAcquired<h||V.timeRefreshed!==void 0&&V.timeRefreshed<h)&&(f.removeItemSync(_),g=!0)}}}g&&u.notifyWaiters()},u.waiters=void 0,u})();e.default=c})),vj={timeoutInSeconds:60},yS={name:"auth0-spa-js",version:"2.9.1"},vS=()=>Date.now(),Xe=class t extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,t.prototype)}static fromPayload({error:e,error_description:n}){return new t(e,n)}},sh=class t extends Xe{constructor(e,n,r,i=null){super(e,n),this.state=r,this.appState=i,Object.setPrototypeOf(this,t.prototype)}},ib=class t extends Xe{constructor(e,n,r,i,o=null){super(e,n),this.connection=r,this.state=i,this.appState=o,Object.setPrototypeOf(this,t.prototype)}},wa=class t extends Xe{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,t.prototype)}},ah=class t extends wa{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,t.prototype)}},lh=class t extends Xe{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,t.prototype)}},ch=class t extends Xe{constructor(e,n,r){super(e,n),this.mfa_token=r,Object.setPrototypeOf(this,t.prototype)}},Pc=class t extends Xe{constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${dh(e,["default"])}', scope: '${dh(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,t.prototype)}},ob=class t extends Xe{constructor(e,n){super("missing_scopes",`Missing requested scopes after refresh (audience: '${dh(e,["default"])}', missing scope: '${dh(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,t.prototype)}},uh=class t extends Xe{constructor(e){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=e,Object.setPrototypeOf(this,t.prototype)}};function dh(t,e=[]){return t&&!e.includes(t)?t:""}var fh=()=>window.crypto,Nc=()=>{let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(fh().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},eb=t=>btoa(t),bj=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],Ej=t=>Object.keys(t).reduce((e,n)=>{let r=bj.find(i=>i.key===n);return r&&r.type.includes(typeof t[n])&&(e[n]=t[n]),e},{}),sb=t=>{var{clientId:e}=t,n=Dr(t,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:e},n))).toString()},aS=t=>A(null,null,function*(){return yield fh().subtle.digest({name:"SHA-256"},new TextEncoder().encode(t))}),lS=t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),cS=t=>{let e=new Uint8Array(t);return(n=>{let r={"+":"-","/":"_","=":""};return n.replace(/[+/=]/g,i=>r[i])})(window.btoa(String.fromCharCode(...Array.from(e))))},_j=new TextEncoder,wj=new TextDecoder;function kc(t){return typeof t=="string"?_j.encode(t):wj.decode(t)}function uS(t){if(typeof t.modulusLength!="number"||t.modulusLength<2048)throw new lb(`${t.name} modulusLength must be at least 2048 bits`)}function Cj(t,e,n){return A(this,null,function*(){if(n.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');let r=`${Rc(kc(JSON.stringify(t)))}.${Rc(kc(JSON.stringify(e)))}`;return`${r}.${Rc(yield crypto.subtle.sign((function(i){switch(i.algorithm.name){case"ECDSA":return{name:i.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return uS(i.algorithm),{name:i.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return uS(i.algorithm),{name:i.algorithm.name};case"Ed25519":return{name:i.algorithm.name}}throw new ti})(n),n,kc(r)))}`})}var ab;Uint8Array.prototype.toBase64?ab=t=>(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t.toBase64({alphabet:"base64url",omitPadding:!0})):ab=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let n=[];for(let r=0;r<e.byteLength;r+=32768)n.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(n.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function Rc(t){return ab(t)}var ti=class extends Error{constructor(e){var n;super(e??"operation not supported"),this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}},lb=class extends Error{constructor(e){var n;super(e),this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}};function Dj(t){switch(t.algorithm.name){case"RSA-PSS":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"PS256";throw new ti("unsupported RsaHashedKeyAlgorithm hash name")})(t);case"RSASSA-PKCS1-v1_5":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"RS256";throw new ti("unsupported RsaHashedKeyAlgorithm hash name")})(t);case"ECDSA":return(function(e){if(e.algorithm.namedCurve==="P-256")return"ES256";throw new ti("unsupported EcKeyAlgorithm namedCurve")})(t);case"Ed25519":return"Ed25519";default:throw new ti("unsupported CryptoKey algorithm name")}}function bS(t){return t instanceof CryptoKey}function ES(t){return bS(t)&&t.type==="public"}function Ij(t,e,n,r,i,o){return A(this,null,function*(){let s=t?.privateKey,a=t?.publicKey;if(!bS(l=s)||l.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var l;if(!ES(a))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(a.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof e!="string")throw new TypeError('"htu" must be a string');if(typeof n!="string")throw new TypeError('"htm" must be a string');if(r!==void 0&&typeof r!="string")throw new TypeError('"nonce" must be a string or undefined');if(i!==void 0&&typeof i!="string")throw new TypeError('"accessToken" must be a string or undefined');if(o!==void 0&&(typeof o!="object"||o===null||Array.isArray(o)))throw new TypeError('"additional" must be an object');return Cj({alg:Dj(s),typ:"dpop+jwt",jwk:yield _S(a)},Object.assign(Object.assign({},o),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:n,nonce:r,htu:e,ath:i?Rc(yield crypto.subtle.digest("SHA-256",kc(i))):void 0}),s)})}function _S(t){return A(this,null,function*(){let{kty:e,e:n,n:r,x:i,y:o,crv:s}=yield crypto.subtle.exportKey("jwk",t);return{kty:e,crv:s,e:n,n:r,x:i,y:o}})}var Sj=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function Tj(){return(function(t,e){return A(this,null,function*(){var n;let r;if(typeof t!="string"||t.length===0)throw new TypeError('"alg" must be a non-empty string');switch(t){case"PS256":r={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":r={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":r={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":r={name:"Ed25519"};break;default:throw new ti}return crypto.subtle.generateKey(r,(n=e?.extractable)!==null&&n!==void 0&&n,["sign","verify"])})})("ES256",{extractable:!1})}function xj(t){return(function(e){return A(this,null,function*(){if(!ES(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');let n=yield _S(e),r;switch(n.kty){case"EC":r={crv:n.crv,kty:n.kty,x:n.x,y:n.y};break;case"OKP":r={crv:n.crv,kty:n.kty,x:n.x};break;case"RSA":r={e:n.e,kty:n.kty,n:n.n};break;default:throw new ti("unsupported JWK kty")}return Rc(yield crypto.subtle.digest({name:"SHA-256"},kc(JSON.stringify(r))))})})(t.publicKey)}function Aj({keyPair:t,url:e,method:n,nonce:r,accessToken:i}){let o=(function(s){let a=new URL(s);return a.search="",a.hash="",a.href})(e);return Ij(t,o,n,r,i)}var Mj=(t,e)=>A(null,null,function*(){let n=yield fetch(t,e);return{ok:n.ok,json:yield n.json(),headers:(r=n.headers,[...r].reduce((i,[o,s])=>(i[o]=s,i),{}))};var r}),Nj=(t,e,n)=>A(null,null,function*(){let r=new AbortController,i;return e.signal=r.signal,Promise.race([Mj(t,e),new Promise((o,s)=>{i=setTimeout(()=>{r.abort(),s(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})}),Oj=(t,e,n,r,i,o,s,a)=>A(null,null,function*(){return l={auth:{audience:e,scope:n},timeout:i,fetchUrl:t,fetchOptions:r,useFormData:s,useMrrt:a},c=o,new Promise(function(u,d){let h=new MessageChannel;h.port1.onmessage=function(f){f.data.error?d(new Error(f.data.error)):u(f.data),h.port1.close()},c.postMessage(l,[h.port2])});var l,c}),kj=(t,e,n,r,i,o,s=1e4,a)=>A(null,null,function*(){return i?Oj(t,e,n,r,s,i,o,a):Nj(t,r,s)});function wS(t,e,n,r,i,o,s,a,l,c){return A(this,null,function*(){if(l){let _=yield l.generateProof({url:t,method:i.method||"GET",nonce:yield l.getNonce()});i.headers=Object.assign(Object.assign({},i.headers),{dpop:_})}let u,d=null;for(let _=0;_<3;_++)try{u=yield kj(t,n,r,i,o,s,e,a),d=null;break}catch(I){d=I}if(d)throw d;let h=u.json,{error:f,error_description:p}=h,m=Dr(h,["error","error_description"]),{headers:v,ok:g}=u,E;if(l&&(E=v["dpop-nonce"],E&&(yield l.setNonce(E))),!g){let _=p||`HTTP error. Unable to fetch ${t}`;if(f==="mfa_required")throw new ch(f,_,m.mfa_token);if(f==="missing_refresh_token")throw new Pc(n,r);if(f==="use_dpop_nonce"){if(!l||!E||c)throw new uh(E);return wS(t,e,n,r,i,o,s,a,l,!0)}throw new Xe(f||"request_error",_)}return m})}function Rj(t,e){return A(this,null,function*(){var{baseUrl:n,timeout:r,audience:i,scope:o,auth0Client:s,useFormData:a,useMrrt:l,dpop:c}=t,u=Dr(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);let d=u.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",h=u.grant_type==="refresh_token"&&l,f=Object.assign(Object.assign(Object.assign(Object.assign({},u),d&&i&&{audience:i}),d&&o&&{scope:o}),h&&{audience:i,scope:o}),p=a?sb(f):JSON.stringify(f),m=(v=u.grant_type,Sj.includes(v));var v;return yield wS(`${n}/oauth/token`,r,i||"default",o,{method:"POST",body:p,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(Ej(s||yS)))}},e,a,l,m?c:void 0)})}var oh=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},ih=(t,e,n)=>{let r;return n&&(r=t[n]),r||(r=t.default),oh(r,e)},nr=class t{constructor(e,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){let[n,r,i,o]=e.split("::");return new t({clientId:r,scope:o,audience:i},n)}static fromCacheEntry(e){let{scope:n,audience:r,client_id:i}=e;return new t({scope:n,audience:r,clientId:i})}},hh=class{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){let n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},Lc=class{constructor(){this.enclosedCache=(function(){let e={};return{set(n,r){e[n]=r},get(n){let r=e[n];if(r)return r},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}})()}},cb=class{constructor(e,n,r){this.cache=e,this.keyManifest=n,this.nowProvider=r||vS}setIdToken(e,n,r){return A(this,null,function*(){var i;let o=this.getIdTokenCacheKey(e);yield this.cache.set(o,{id_token:n,decodedToken:r}),yield(i=this.keyManifest)===null||i===void 0?void 0:i.add(o)})}getIdToken(e){return A(this,null,function*(){let n=yield this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){let r=yield this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}})}get(e,n=0,r=!1,i){return A(this,null,function*(){var o;let s=yield this.cache.get(e.toKey());if(!s){let c=yield this.getCacheKeys();if(!c)return;let u=this.matchExistingCacheKey(e,c);if(u&&(s=yield this.cache.get(u)),!u&&r&&i!=="cache-only")return this.getEntryWithRefreshToken(e,c)}if(!s)return;let a=yield this.nowProvider(),l=Math.floor(a/1e3);return s.expiresAt-n<l?s.body.refresh_token?this.modifiedCachedEntry(s,e):(yield this.cache.remove(e.toKey()),void(yield(o=this.keyManifest)===null||o===void 0?void 0:o.remove(e.toKey()))):s.body})}modifiedCachedEntry(e,n){return A(this,null,function*(){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},yield this.cache.set(n.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}})}set(e){return A(this,null,function*(){var n;let r=new nr({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=yield this.wrapCacheEntry(e);yield this.cache.set(r.toKey(),i),yield(n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey())})}remove(e,n,r){return A(this,null,function*(){let i=new nr({clientId:e,scope:r,audience:n});yield this.cache.remove(i.toKey())})}clear(e){return A(this,null,function*(){var n;let r=yield this.getCacheKeys();r&&(yield r.filter(i=>!e||i.includes(e)).reduce((i,o)=>A(this,null,function*(){yield i,yield this.cache.remove(o)}),Promise.resolve()),yield(n=this.keyManifest)===null||n===void 0?void 0:n.clear())})}wrapCacheEntry(e){return A(this,null,function*(){let n=yield this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}})}getCacheKeys(){return A(this,null,function*(){var e;return this.keyManifest?(e=yield this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(e){return new nr({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(r=>{var i;let o=nr.fromKey(r),s=new Set(o.scope&&o.scope.split(" ")),a=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],l=o.scope&&a.reduce((c,u)=>c&&s.has(u),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===e.clientId&&o.audience===e.audience&&l})[0]}getEntryWithRefreshToken(e,n){return A(this,null,function*(){var r;for(let i of n){let o=nr.fromKey(i);if(o.prefix==="@@auth0spajs@@"&&o.clientId===e.clientId){let s=yield this.cache.get(i);if(!((r=s?.body)===null||r===void 0)&&r.refresh_token)return this.modifiedCachedEntry(s,e)}}})}updateEntry(e,n){return A(this,null,function*(){var r;let i=yield this.getCacheKeys();if(i)for(let o of i){let s=yield this.cache.get(o);if(((r=s?.body)===null||r===void 0?void 0:r.refresh_token)===e){let a=Object.assign(Object.assign({},s.body),{refresh_token:n});yield this.set(a)}}})}},ub=class{constructor(e,n,r){this.storage=e,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},Oc=t=>typeof t=="number",Pj=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Lj=t=>{if(!t.id_token)throw new Error("ID token is required but missing");let e=(o=>{let s=o.split("."),[a,l,c]=s;if(s.length!==3||!a||!l||!c)throw new Error("ID token could not be decoded");let u=JSON.parse(lS(l)),d={__raw:o},h={};return Object.keys(u).forEach(f=>{d[f]=u[f],Pj.includes(f)||(h[f]=u[f])}),{encoded:{header:a,payload:l,signature:c},header:JSON.parse(lS(a)),claims:d,user:h}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!Oc(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Oc(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Oc(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let n=t.leeway||60,r=new Date(t.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+n),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(e.claims.nbf!=null&&Oc(e.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(e.claims.nbf-n),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(e.claims.auth_time!=null&&Oc(e.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(t.organization){let o=t.organization.trim();if(o.startsWith("org_")){let s=o;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(s!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${s}", found "${e.claims.org_id}"`)}else{let s=o.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(s!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${s}", found "${e.claims.org_name}"`)}}return e},Jo=yb(function(t,e){var n=Qo&&Qo.__assign||function(){return n=Object.assign||function(l){for(var c,u=1,d=arguments.length;u<d;u++)for(var h in c=arguments[u])Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h]);return l},n.apply(this,arguments)};function r(l,c){if(!c)return"";var u="; "+l;return c===!0?u:u+"="+c}function i(l,c,u){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(c).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+(function(d){if(typeof d.expires=="number"){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*d.expires),d.expires=h}return r("Expires",d.expires?d.expires.toUTCString():"")+r("Domain",d.domain)+r("Path",d.path)+r("Secure",d.secure)+r("SameSite",d.sameSite)})(u)}function o(l){for(var c={},u=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,h=0;h<u.length;h++){var f=u[h].split("="),p=f.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{c[f[0].replace(d,decodeURIComponent)]=p.replace(d,decodeURIComponent)}catch{}}return c}function s(){return o(document.cookie)}function a(l,c,u){document.cookie=i(l,c,n({path:"/"},u))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=s,e.get=function(l){return s()[l]},e.set=a,e.remove=function(l,c){a(l,"",n(n({},c),{expires:-1}))}});gb(Jo),Jo.encode,Jo.parse,Jo.getAll;var Fj=Jo.get,CS=Jo.set,DS=Jo.remove,Ea={get(t){let e=Fj(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),CS(t,JSON.stringify(e),r)},remove(t,e){let n={};e?.cookieDomain&&(n.domain=e.cookieDomain),DS(t,n)}},jj={get(t){return Ea.get(t)||Ea.get(`_legacy_${t}`)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),CS(`_legacy_${t}`,JSON.stringify(e),r),Ea.save(t,e,n)},remove(t,e){let n={};e?.cookieDomain&&(n.domain=e.cookieDomain),DS(t,n),Ea.remove(t,e),Ea.remove(`_legacy_${t}`,e)}},Vj={get(t){if(typeof sessionStorage>"u")return;let e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}},Xo;(function(t){t.Code="code",t.ConnectCode="connect_code"})(Xo||(Xo={}));function Bj(t,e,n){var r=e===void 0?null:e,i=(function(l,c){var u=atob(l);if(c){for(var d=new Uint8Array(u.length),h=0,f=u.length;h<f;++h)d[h]=u.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return u})(t,n!==void 0&&n),o=i.indexOf(`
`,10)+1,s=i.substring(o)+(r?"//# sourceMappingURL="+r:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}var dS,fS,hS,tb,Uj=(dS="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",fS=null,hS=!1,function(t){return tb=tb||Bj(dS,fS,hS),new Worker(tb,t)}),nb={},db=class{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(e){return A(this,null,function*(){var n;let r=new Set(((n=yield this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(e),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(e){return A(this,null,function*(){let n=yield this.cache.get(this.manifestKey);if(n){let r=new Set(n.keys);return r.delete(e),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}},Hj={memory:()=>new Lc().enclosedCache,localstorage:()=>new hh},pS=t=>Hj[t],mS=t=>{let{openUrl:e,onRedirect:n}=t,r=Dr(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:n})},gS=(t,e)=>{let n=e?.split(" ")||[];return(t?.split(" ")||[]).every(r=>n.includes(r))},Ko={NONCE:"nonce",KEYPAIR:"keypair"},fb=class{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){let e=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise((n,r)=>{e.onupgradeneeded=()=>Object.values(Ko).forEach(i=>e.result.createObjectStore(i)),e.onerror=()=>r(e.error),e.onsuccess=()=>n(e.result)})}getDbHandle(){return A(this,null,function*(){return this.dbHandle||(this.dbHandle=yield this.createDbHandle()),this.dbHandle})}executeDbRequest(e,n,r){return A(this,null,function*(){let i=r((yield this.getDbHandle()).transaction(e,n).objectStore(e));return new Promise((o,s)=>{i.onsuccess=()=>o(i.result),i.onerror=()=>s(i.error)})})}buildKey(e){let n=e?`_${e}`:"auth0";return`${this.clientId}::${n}`}setNonce(e,n){return this.save(Ko.NONCE,this.buildKey(n),e)}setKeyPair(e){return this.save(Ko.KEYPAIR,this.buildKey(),e)}save(e,n,r){return A(this,null,function*(){yield this.executeDbRequest(e,"readwrite",i=>i.put(r,n))})}findNonce(e){return this.find(Ko.NONCE,this.buildKey(e))}findKeyPair(){return this.find(Ko.KEYPAIR,this.buildKey())}find(e,n){return this.executeDbRequest(e,"readonly",r=>r.get(n))}deleteBy(e,n){return A(this,null,function*(){let r=yield this.executeDbRequest(e,"readonly",i=>i.getAllKeys());r?.filter(n).map(i=>this.executeDbRequest(e,"readwrite",o=>o.delete(i)))})}deleteByClientId(e,n){return this.deleteBy(e,r=>typeof r=="string"&&r.startsWith(`${n}::`))}clearNonces(){return this.deleteByClientId(Ko.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(Ko.KEYPAIR,this.clientId)}},hb=class{constructor(e){this.storage=new fb(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,n){return this.storage.setNonce(e,n)}getOrGenerateKeyPair(){return A(this,null,function*(){let e=yield this.storage.findKeyPair();return e||(e=yield Tj(),yield this.storage.setKeyPair(e)),e})}generateProof(e){return A(this,null,function*(){let n=yield this.getOrGenerateKeyPair();return Aj(Object.assign({keyPair:n},e))})}calculateThumbprint(){return A(this,null,function*(){return xj(yield this.getOrGenerateKeyPair())})}clear(){return A(this,null,function*(){yield Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])})}},_a;(function(t){t.Bearer="Bearer",t.DPoP="DPoP"})(_a||(_a={}));var pb=class{constructor(e,n){this.hooks=n,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\/\//i.test(e)}buildUrl(e,n){if(n){if(this.isAbsoluteUrl(n))return n;if(e)return`${e.replace(/\/?\/$/,"")}/${n.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return typeof e=="string"?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,n){if(!this.config.baseUrl)return new Request(e,n);let r=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),i=e instanceof Request?new Request(r,e):r;return new Request(i,n)}setAuthorizationHeader(e,n,r=_a.Bearer){e.headers.set("authorization",`${r} ${n}`)}setDpopProofHeader(e,n){return A(this,null,function*(){if(!this.config.dpopNonceId)return;let r=yield this.hooks.getDpopNonce(),i=yield this.hooks.generateDpopProof({accessToken:n,method:e.method,nonce:r,url:e.url});e.headers.set("dpop",i)})}prepareRequest(e,n){return A(this,null,function*(){let r=yield this.getAccessToken(n),i,o;typeof r=="string"?(i=this.config.dpopNonceId?_a.DPoP:_a.Bearer,o=r):(i=r.token_type,o=r.access_token),this.setAuthorizationHeader(e,o,i),i===_a.DPoP&&(yield this.setDpopProofHeader(e,o))})}getHeader(e,n){return Array.isArray(e)?new Headers(e).get(n)||"":typeof e.get=="function"?e.get(n)||"":e[n]||""}hasUseDpopNonceError(e){if(e.status!==401)return!1;let n=this.getHeader(e.headers,"www-authenticate");return n.includes("invalid_dpop_nonce")||n.includes("use_dpop_nonce")}handleResponse(e,n){return A(this,null,function*(){let r=this.getHeader(e.headers,"dpop-nonce");if(r&&(yield this.hooks.setDpopNonce(r)),!this.hasUseDpopNonceError(e))return e;if(!r||!n.onUseDpopNonceError)throw new uh(r);return n.onUseDpopNonceError()})}internalFetchWithAuth(e,n,r,i){return A(this,null,function*(){let o=this.buildBaseRequest(e,n);yield this.prepareRequest(o,i);let s=yield this.config.fetch(o);return this.handleResponse(s,r)})}fetchWithAuth(e,n,r){let i={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,n,Object.assign(Object.assign({},i),{onUseDpopNonceError:void 0}),r)};return this.internalFetchWithAuth(e,n,i,r)}},mb=class{constructor(e,n){this.myAccountFetcher=e,this.apiBase=n}connectAccount(e){return A(this,null,function*(){let n=yield this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(n)})}completeAccount(e){return A(this,null,function*(){let n=yield this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(n)})}_handleResponse(e){return A(this,null,function*(){let n;try{n=yield e.text(),n=JSON.parse(n)}catch(r){throw new ph({type:"invalid_json",status:e.status,title:"Invalid JSON response",detail:n||String(r)})}if(e.ok)return n;throw new ph(n)})}},ph=class t extends Error{constructor({type:e,status:n,title:r,detail:i,validation_errors:o}){super(i),this.name="MyAccountApiError",this.type=e,this.status=n,this.title=r,this.detail=i,this.validation_errors=o,Object.setPrototypeOf(this,t.prototype)}},rb=new yj,mh=class{constructor(e){let n,r;if(this.userCache=new Lc().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>A(this,null,function*(){let l=Array.from(this.activeLockKeys);for(let c of l)yield rb.releaseLock(c);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!fh())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(fh().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(n=e.cacheLocation||"memory",!pS(n))throw new Error(`Invalid cache location "${n}"`);r=pS(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Ea:jj,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(l=>`auth0.${l}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;let i=e.useCookiesForTransactions?this.cookieStorage:Vj;var o;this.scope=((l,c,...u)=>{if(typeof l!="object")return{default:oh(c,l,...u)};let d={default:oh(c,...u)};return Object.keys(l).forEach(h=>{let f=l[h];d[h]=oh(c,f,...u)}),d})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new ub(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||vS,this.cacheManager=new cb(r,r.allKeys?void 0:new db(r,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new hb(this.options.clientId):void 0,this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((l,c)=>l?l.startsWith("https://")?l:`https://${l}/`:`${c}/`)(this.options.issuer,this.domainUrl);let s=`${this.domainUrl}/me/`,a=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:s},detailedResponse:!0})}));this.myAccountApi=new mb(a,s),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new Uj)}_url(e){let n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||yS)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${sb(e)}`)}_verifyIdToken(e,n,r){return A(this,null,function*(){let i=yield this.nowProvider();return Lj({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o})}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(e,n,r){return A(this,null,function*(){var i;let o=eb(Nc()),s=eb(Nc()),a=Nc(),l=yield aS(a),c=cS(l),u=yield(i=this.dpop)===null||i===void 0?void 0:i.calculateThumbprint(),d=((f,p,m,v,g,E,_,I,V)=>Object.assign(Object.assign(Object.assign({client_id:f.clientId},f.authorizationParams),m),{scope:ih(p,m.scope,m.audience),response_type:"code",response_mode:I||"query",state:v,nonce:g,redirect_uri:_||f.authorizationParams.redirect_uri,code_challenge:E,code_challenge_method:"S256",dpop_jkt:V}))(this.options,this.scope,e,o,s,c,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,n?.response_mode,u),h=this._authorizeUrl(d);return{nonce:s,code_verifier:a,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri,state:o,url:h}})}loginWithPopup(e,n){return A(this,null,function*(){var r;if(e=e||{},!(n=n||{}).popup&&(n.popup=(a=>{let l=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${l},top=${c},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let i=yield this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;let o=yield(a=>new Promise((l,c)=>{let u,d=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(d),clearTimeout(h),window.removeEventListener("message",u,!1),c(new lh(a.popup)))},1e3),h=setTimeout(()=>{clearInterval(d),c(new ah(a.popup)),window.removeEventListener("message",u,!1)},1e3*(a.timeoutInSeconds||60));u=function(f){if(f.data&&f.data.type==="authorization_response"){if(clearTimeout(h),clearInterval(d),window.removeEventListener("message",u,!1),a.popup.close(),f.data.response.error)return c(Xe.fromPayload(f.data.response));l(f.data.response)}},window.addEventListener("message",u)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new Xe("state_mismatch","Invalid state");let s=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:s})})}getUser(){return A(this,null,function*(){var e;let n=yield this._getIdTokenFromCache();return(e=n?.decodedToken)===null||e===void 0?void 0:e.user})}getIdTokenClaims(){return A(this,null,function*(){var e;let n=yield this._getIdTokenFromCache();return(e=n?.decodedToken)===null||e===void 0?void 0:e.claims})}loginWithRedirect(){return A(this,arguments,function*(e={}){var n;let r=mS(e),{openUrl:i,fragment:o,appState:s}=r,a=Dr(r,["openUrl","fragment","appState"]),l=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,c=yield this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=c,d=Dr(c,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:s,response_type:Xo.Code}),l&&{organization:l}));let h=o?`${u}#${o}`:u;i?yield i(h):window.location.assign(h)})}handleRedirectCallback(){return A(this,arguments,function*(e=window.location.href){let n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");let r=this.transactionManager.get();if(!r)throw new Xe("missing_transaction","Invalid state");this.transactionManager.remove();let i=(o=>{o.indexOf("#")>-1&&(o=o.substring(0,o.indexOf("#")));let s=new URLSearchParams(o);return{state:s.get("state"),code:s.get("code")||void 0,connect_code:s.get("connect_code")||void 0,error:s.get("error")||void 0,error_description:s.get("error_description")||void 0}})(n.join(""));return r.response_type===Xo.ConnectCode?this._handleConnectAccountRedirectCallback(i,r):this._handleLoginRedirectCallback(i,r)})}_handleLoginRedirectCallback(e,n){return A(this,null,function*(){let{code:r,state:i,error:o,error_description:s}=e;if(o)throw new sh(o,s||o,i,n.appState);if(!n.code_verifier||n.state&&n.state!==i)throw new Xe("state_mismatch","Invalid state");let a=n.organization,l=n.nonce,c=n.redirect_uri;return yield this._requestToken(Object.assign({audience:n.audience,scope:n.scope,code_verifier:n.code_verifier,grant_type:"authorization_code",code:r},c?{redirect_uri:c}:{}),{nonceIn:l,organization:a}),{appState:n.appState,response_type:Xo.Code}})}_handleConnectAccountRedirectCallback(e,n){return A(this,null,function*(){let{connect_code:r,state:i,error:o,error_description:s}=e;if(o)throw new ib(o,s||o,n.connection,i,n.appState);if(!r)throw new Xe("missing_connect_code","Missing connect code");if(!(n.code_verifier&&n.state&&n.auth_session&&n.redirect_uri&&n.state===i))throw new Xe("state_mismatch","Invalid state");let a=yield this.myAccountApi.completeAccount({auth_session:n.auth_session,connect_code:r,redirect_uri:n.redirect_uri,code_verifier:n.code_verifier});return Object.assign(Object.assign({},a),{appState:n.appState,response_type:Xo.ConnectCode})})}checkSession(e){return A(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(e)}catch{}})}getTokenSilently(){return A(this,arguments,function*(e={}){var n,r;let i=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ih(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope,((r=e.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})}),o=yield((s,a)=>{let l=nb[a];return l||(l=s().finally(()=>{delete nb[a],l=null}),nb[a]=l),l})(()=>this._getTokenSilently(i),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?o:o?.access_token})}_getTokenSilently(e){return A(this,null,function*(){let{cacheMode:n}=e,r=Dr(e,["cacheMode"]);if(n!=="off"){let a=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:n});if(a)return a}if(n==="cache-only")return;let i=(o=this.options.clientId,s=r.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${o}.${s}`);var o,s;if(!(yield((a,l=3)=>A(this,null,function*(){for(let c=0;c<l;c++)if(yield a())return!0;return!1}))(()=>rb.acquireLock(i,5e3),10)))throw new wa;this.activeLockKeys.add(i),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(n!=="off"){let f=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(f)return f}let a=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:l,token_type:c,access_token:u,oauthTokenScope:d,expires_in:h}=a;return Object.assign(Object.assign({id_token:l,token_type:c,access_token:u},d?{scope:d}:null),{expires_in:h})}finally{yield rb.releaseLock(i),this.activeLockKeys.delete(i),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}})}getTokenWithPopup(){return A(this,arguments,function*(e={},n={}){var r,i;let o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ih(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope,((i=e.authorizationParams)===null||i===void 0?void 0:i.audience)||this.options.authorizationParams.audience)})});return n=Object.assign(Object.assign({},vj),n),yield this.loginWithPopup(o,n),(yield this.cacheManager.get(new nr({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token})}isAuthenticated(){return A(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;let n=e.logoutParams||{},{federated:r}=n,i=Dr(n,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${sb(Object.assign({clientId:e.clientId},i))}`)+o}logout(){return A(this,arguments,function*(e={}){var n;let r=mS(e),{openUrl:i}=r,o=Dr(r,["openUrl"]);e.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),yield(n=this.dpop)===null||n===void 0?void 0:n.clear();let s=this._buildLogoutUrl(o);i?yield i(s):i!==!1&&window.location.assign(s)})}_getTokenFromIFrame(e){return A(this,null,function*(){let n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);let{url:i,state:o,nonce:s,code_verifier:a,redirect_uri:l,scope:c,audience:u}=yield this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Xe("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,h;try{h=new URL(this.domainUrl).origin}catch{h=this.domainUrl}let f=yield((m,v,g=60)=>new Promise((E,_)=>{let I=window.document.createElement("iframe");I.setAttribute("width","0"),I.setAttribute("height","0"),I.style.display="none";let V=()=>{window.document.body.contains(I)&&(window.document.body.removeChild(I),window.removeEventListener("message",Y,!1))},Y,ie=setTimeout(()=>{_(new wa),V()},1e3*g);Y=function(P){if(P.origin!=v||!P.data||P.data.type!=="authorization_response")return;let Ae=P.source;Ae&&Ae.close(),P.data.response.error?_(Xe.fromPayload(P.data.response)):E(P.data.response),clearTimeout(ie),window.removeEventListener("message",Y,!1),setTimeout(V,2e3)},window.addEventListener("message",Y,!1),window.document.body.appendChild(I),I.setAttribute("src",m)}))(i,h,d);if(o!==f.state)throw new Xe("state_mismatch","Invalid state");let p=yield this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:f.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:s,organization:n.organization});return Object.assign(Object.assign({},p),{scope:c,oauthTokenScope:p.scope,audience:u})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}})}_getTokenUsingRefreshToken(e){return A(this,null,function*(){let n=yield this.cacheManager.get(new nr({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);throw new Pc(e.authorizationParams.audience||"default",e.authorizationParams.scope)}let r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,o=((u,d,h,f)=>{var p;if(u&&h&&f){if(d.audience!==h)return d.scope;let m=f.split(" "),v=((p=d.scope)===null||p===void 0?void 0:p.split(" "))||[],g=v.every(E=>m.includes(E));return m.length>=v.length&&g?f:d.scope}return d.scope})(this.options.useMrrt,e.authorizationParams,n?.audience,n?.scope);try{let u=yield this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),i&&{timeout:i}),{scopesToRequest:o});if(u.refresh_token&&this.options.useMrrt&&n?.refresh_token&&(yield this.cacheManager.updateEntry(n.refresh_token,u.refresh_token)),this.options.useMrrt&&(s=n?.audience,a=n?.scope,l=e.authorizationParams.audience,c=e.authorizationParams.scope,(s!==l||!gS(c,a))&&!gS(o,u.scope))){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);yield this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);let d=((h,f)=>{let p=h?.split(" ")||[],m=f?.split(" ")||[];return p.filter(v=>m.indexOf(v)==-1).join(",")})(o,u.scope);throw new ob(e.authorizationParams.audience||"default",d)}return Object.assign(Object.assign({},u),{scope:e.authorizationParams.scope,oauthTokenScope:u.scope,audience:e.authorizationParams.audience||"default"})}catch(u){if((u.message.indexOf("Missing Refresh Token")>-1||u.message&&u.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);throw u}var s,a,l,c})}_saveEntryInCache(e){return A(this,null,function*(){let{id_token:n,decodedToken:r}=e,i=Dr(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),yield this.cacheManager.set(i)})}_getIdTokenFromCache(){return A(this,null,function*(){let e=this.options.authorizationParams.audience||"default",n=this.scope[e],r=yield this.cacheManager.getIdToken(new nr({clientId:this.options.clientId,audience:e,scope:n})),i=this.userCache.get("@@user@@");return r&&r.id_token===i?.id_token?i:(this.userCache.set("@@user@@",r),r)})}_getEntryFromCache(o){return A(this,arguments,function*({scope:e,audience:n,clientId:r,cacheMode:i}){let s=yield this.cacheManager.get(new nr({scope:e,audience:n,clientId:r}),60,this.options.useMrrt,i);if(s&&s.access_token){let{token_type:a,access_token:l,oauthTokenScope:c,expires_in:u}=s,d=yield this._getIdTokenFromCache();return d&&Object.assign(Object.assign({id_token:d.id_token,token_type:a||"Bearer",access_token:l},c?{scope:c}:null),{expires_in:u})}})}_requestToken(e,n){return A(this,null,function*(){let{nonceIn:r,organization:i,scopesToRequest:o}=n||{},s=yield Rj(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:o||e.scope}),this.worker),a=yield this._verifyIdToken(s.id_token,r,i);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:a,scope:e.scope,audience:e.audience||"default"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||a.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:a})})}exchangeToken(e){return A(this,null,function*(){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:ih(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience})})}_assertDpop(e){if(!e)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,n){return this._assertDpop(this.dpop),this.dpop.setNonce(e,n)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(e={}){return new pb(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:n=>{var r;return this.getTokenSilently({authorizationParams:{scope:(r=n?.scope)===null||r===void 0?void 0:r.join(" "),audience:n?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:n=>this.setDpopNonce(n,e.dpopNonceId),generateDpopProof:n=>this.generateDpopProof(n)})}connectAccountWithRedirect(e){return A(this,null,function*(){let{openUrl:n,appState:r,connection:i,scopes:o,authorization_params:s,redirectUri:a=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!i)throw new Error("connection is required");let l=eb(Nc()),c=Nc(),u=yield aS(c),d=cS(u),{connect_uri:h,connect_params:f,auth_session:p}=yield this.myAccountApi.connectAccount({connection:i,scopes:o,redirect_uri:a,state:l,code_challenge:d,code_challenge_method:"S256",authorization_params:s});this.transactionManager.create({state:l,code_verifier:c,auth_session:p,redirect_uri:a,appState:r,connection:i,response_type:Xo.ConnectCode});let m=new URL(h);m.searchParams.set("ticket",f.ticket),n?yield n(m.toString()):window.location.assign(m)})}};var IS={name:"@auth0/auth0-angular",version:"2.3.0"},vb=class{static createClient(e){let n=e.get();if(!n)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new mh(W(S({},n),{auth0Client:{name:IS.name,version:IS.version,env:{"angular/core":Jm.full}}}))}},gh=new U("auth0.client");function SS(t){return typeof t!="string"}var TS=new U("auth0-angular.config"),bb=(()=>{let e=class e{constructor(r){r&&this.set(r)}set(r){this.config=r}get(){return this.config}};e.\u0275fac=function(i){return new(i||e)(B(TS,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$j=(()=>{let e=class e{constructor(r,i){this.location=r;try{this.router=i.get(ot)}catch{}}navigateByUrl(r){if(this.router){this.router.navigateByUrl(r);return}this.location.replaceState(r)}};e.\u0275fac=function(i){return new(i||e)(B(vr),B(Ot))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xS=(()=>{let e=class e{constructor(r){this.auth0Client=r,this.isLoadingSubject$=new Ze(!0),this.refresh$=new Ce,this.accessToken$=new Vr(1),this.errorSubject$=new Vr(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(Cl((i,o)=>({previous:i.current,current:o}),{current:null,previous:null}),yt(({previous:i,current:o})=>i!==o)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(yt(i=>!i),Ur(),tt(()=>Rm($n(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(Pe(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(Pe(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Ur(),Vm(1)),this.user$=this.isAuthenticatedTrigger$.pipe(Nt(i=>i?this.auth0Client.getUser():H(null)),Ur()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(Nt(i=>i?this.auth0Client.getIdTokenClaims():H(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(r){this.isLoadingSubject$.next(r)}refresh(){this.refresh$.next()}setAccessToken(r){this.accessToken$.next(r)}setError(r){this.errorSubject$.next(r)}};e.\u0275fac=function(i){return new(i||e)(B(gh))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),es=(()=>{let e=class e{constructor(r,i,o,s){this.auth0Client=r,this.configFactory=i,this.navigator=o,this.authState=s,this.appStateSubject$=new Vr(1),this.ngUnsubscribe$=new Ce,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let a=l=>cd(()=>l,this.handleRedirectCallback(),$n(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(tt(l=>a(l).pipe(Ut(c=>{let u=this.configFactory.get();return this.navigator.navigateByUrl(u.errorPath||"/"),this.authState.setError(c),H(void 0)}))),je(()=>{this.authState.setIsLoading(!1)}),js(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(r){return be(this.auth0Client.loginWithRedirect(r))}loginWithPopup(r,i){return be(this.auth0Client.loginWithPopup(r,i).then(()=>{this.authState.refresh()}))}logout(r){return be(this.auth0Client.logout(r).then(()=>{(r?.openUrl===!1||r?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(r={}){return H(this.auth0Client).pipe(Nt(i=>r.detailedResponse===!0?i.getTokenSilently(W(S({},r),{detailedResponse:!0})):i.getTokenSilently(r)),je(i=>{i&&this.authState.setAccessToken(typeof i=="string"?i:i.access_token)}),Ut(i=>(this.authState.setError(i),this.authState.refresh(),Hn(i))))}getAccessTokenWithPopup(r){return H(this.auth0Client).pipe(Nt(i=>i.getTokenWithPopup(r)),je(i=>{i&&this.authState.setAccessToken(i)}),Ut(i=>(this.authState.setError(i),this.authState.refresh(),Hn(i))))}handleRedirectCallback(r){return $n(()=>this.auth0Client.handleRedirectCallback(r)).pipe(Um(this.authState.isLoading$),je(([i,o])=>{o||this.authState.refresh();let s=i?.appState,a=s?.target??"/";s&&this.appStateSubject$.next(s),this.navigator.navigateByUrl(a)}),X(([i])=>i))}shouldHandleCallback(){return H(location.search).pipe(X(r=>{let i=new URLSearchParams(r);return(i.has("code")||i.has("error"))&&i.has("state")&&!this.configFactory.get().skipRedirectCallback}))}};e.\u0275fac=function(i){return new(i||e)(B(gh),B(bb),B($j),B(xS))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ts=(()=>{let e=class e{constructor(r){this.auth=r}canLoad(r,i){return this.auth.isAuthenticated$.pipe(ln(1))}canActivate(r,i){return this.redirectIfUnauthenticated(i)}canActivateChild(r,i){return this.redirectIfUnauthenticated(i)}redirectIfUnauthenticated(r){return this.auth.isAuthenticated$.pipe(tt(i=>i?H(!0):this.auth.loginWithRedirect({appState:{target:r.url}}).pipe(X(()=>!1))))}};e.\u0275fac=function(i){return new(i||e)(B(es))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qj=t=>e=>e.pipe(Pe(n=>t.pipe(En(),Pm(n)))),zj=(()=>{let e=class e{constructor(r,i,o,s){this.configFactory=r,this.auth0Client=i,this.authState=o,this.authService=s}intercept(r,i){let o=this.configFactory.get();if(!o.httpInterceptor?.allowedList)return i.handle(r);let s=this.authService.isLoading$.pipe(yt(a=>!a));return this.findMatchingRoute(r,o.httpInterceptor).pipe(Nt(a=>cd(()=>a!==null,H(a).pipe(qj(s),Fm("tokenOptions"),Nt(l=>this.getAccessTokenSilently(l).pipe(Ut(c=>this.allowAnonymous(a,c)?H(""):(this.authState.setError(c),Hn(c))))),tt(l=>{let c=l?r.clone({headers:r.headers.set("Authorization",`Bearer ${l}`)}):r;return i.handle(c)})),i.handle(r))))}getAccessTokenSilently(r){return H(this.auth0Client).pipe(Nt(i=>i.getTokenSilently(r)),je(i=>this.authState.setAccessToken(i)),Ut(i=>(this.authState.refresh(),Hn(i))))}stripQueryFrom(r){return r.indexOf("?")>-1&&(r=r.substr(0,r.indexOf("?"))),r.indexOf("#")>-1&&(r=r.substr(0,r.indexOf("#"))),r}canAttachToken(r,i){let o=s=>{if(!s)return!1;let a=this.stripQueryFrom(i.url);return s===a?!0:s.indexOf("*")===s.length-1&&i.url.startsWith(s.substr(0,s.length-1))};return SS(r)?r.httpMethod&&r.httpMethod!==i.method?!1:(!r.uri&&!r.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),r.uriMatcher?r.uriMatcher(i.url):o(r.uri)):o(r)}findMatchingRoute(r,i){return be(i.allowedList).pipe(En(o=>this.canAttachToken(o,r),null))}allowAnonymous(r,i){return!!r&&SS(r)&&!!r.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(i.error)}};e.\u0275fac=function(i){return new(i||e)(B(bb),B(gh),B(xS),B(es))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function AS(t){return[es,zj,ts,{provide:TS,useValue:t},{provide:gh,useFactory:vb.createClient,deps:[bb]}]}var yh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-protected-page"]],decls:4,vars:0,template:function(n,r){n&1&&(jo(0,"h2"),O(1,"This is a protected page!"),Vo(),jo(2,"p"),O(3,"Only authenticated users can see this content."),Vo())},encapsulation:2})};var Ui=class t{_userName=new Ze(null);userName$=this._userName.asObservable();constructor(){let e=localStorage.getItem("currentUserName");e&&this._userName.next(e)}setUserName(e){this._userName.next(e),e?localStorage.setItem("currentUserName",e):localStorage.removeItem("currentUserName")}getUserName(){return this._userName.getValue()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var vh=class t{constructor(e,n,r){this.auth=e;this.router=n;this.userService=r}ngOnInit(){this.auth.handleRedirectCallback().subscribe({next:()=>{this.auth.user$.pipe(ln(1)).subscribe(e=>{e&&e.name?this.userService.setUserName(e.name):e&&e.nickname?this.userService.setUserName(e.nickname):this.userService.setUserName("Guest"),this.router.navigateByUrl(localStorage.getItem("auth_redirect")||"/")})},error:e=>{console.error("Auth0 callback error:",e),this.router.navigateByUrl("/login")}})}static \u0275fac=function(n){return new(n||t)(q(es),q(ot),q(Ui))};static \u0275cmp=It({type:t,selectors:[["app-auth-callback"]],decls:3,vars:0,consts:[[2,"padding","30px","font-size","18px"]],template:function(n,r){n&1&&(jo(0,"div",0)(1,"p"),O(2,"Completing login\u2026"),Vo()())},encapsulation:2})};var VS=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(q(gr),q(Yn))};static \u0275dir=vt({type:t})}return t})(),Sb=(()=>{class t extends VS{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ki(t)))(i||t)}})();static \u0275dir=vt({type:t,features:[Qr]})}return t})(),Ch=new U("");var Gj={provide:Ch,useExisting:qr(()=>Hi),multi:!0};function Wj(){let t=xn()?xn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Zj=new U(""),Hi=(()=>{class t extends VS{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Wj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(q(gr),q(Yn),q(Zj,8))};static \u0275dir=vt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ue("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ia([Gj]),Qr]})}return t})();var Kj=new U(""),Yj=new U("");function BS(t){return t!=null}function US(t){return Ri(t)?be(t):t}function HS(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function $S(t,e){return e.map(n=>n(t))}function Qj(t){return!t.validate}function qS(t){return t.map(e=>Qj(e)?e:n=>e.validate(n))}function Xj(t){if(!t)return null;let e=t.filter(BS);return e.length==0?null:function(n){return HS($S(n,e))}}function zS(t){return t!=null?Xj(qS(t)):null}function Jj(t){if(!t)return null;let e=t.filter(BS);return e.length==0?null:function(n){let r=$S(n,e).map(US);return km(r).pipe(X(HS))}}function GS(t){return t!=null?Jj(qS(t)):null}function NS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function eV(t){return t._rawValidators}function tV(t){return t._rawAsyncValidators}function _b(t){return t?Array.isArray(t)?t:[t]:[]}function Eh(t,e){return Array.isArray(t)?t.includes(e):t===e}function OS(t,e){let n=_b(e);return _b(t).forEach(i=>{Eh(n,i)||n.push(i)}),n}function kS(t,e){return _b(e).filter(n=>!Eh(t,n))}var _h=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=GS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},wb=class extends _h{name;get formDirective(){return null}get path(){return null}},Uc=class extends _h{_parent=null;name=null;valueAccessor=null},Cb=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Xle=W(S({},nV),{"[class.ng-submitted]":"isSubmitted"}),Ia=(()=>{class t extends Cb{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(Uc,2))};static \u0275dir=vt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Jr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Qr]})}return t})();var Fc="VALID",bh="INVALID",Ca="PENDING",jc="DISABLED",ns=class{},wh=class extends ns{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Vc=class extends ns{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Bc=class extends ns{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Da=class extends ns{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var Db=class extends ns{source;constructor(e){super(),this.source=e}};function rV(t){return(Dh(t)?t.validators:t)||null}function iV(t){return Array.isArray(t)?zS(t):t||null}function oV(t,e){return(Dh(e)?e.asyncValidators:t)||null}function sV(t){return Array.isArray(t)?GS(t):t||null}function Dh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Ib=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return St(this.statusReactive)}set status(e){St(()=>this.statusReactive.set(e))}_status=ic(()=>this.statusReactive());statusReactive=hr(void 0);get valid(){return this.status===Fc}get invalid(){return this.status===bh}get pending(){return this.status==Ca}get disabled(){return this.status===jc}get enabled(){return this.status!==jc}errors;get pristine(){return St(this.pristineReactive)}set pristine(e){St(()=>this.pristineReactive.set(e))}_pristine=ic(()=>this.pristineReactive());pristineReactive=hr(!0);get dirty(){return!this.pristine}get touched(){return St(this.touchedReactive)}set touched(e){St(()=>this.touchedReactive.set(e))}_touched=ic(()=>this.touchedReactive());touchedReactive=hr(!1);get untouched(){return!this.touched}_events=new Ce;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kS(e,this._rawAsyncValidators))}hasValidator(e){return Eh(this._rawValidators,e)}hasAsyncValidator(e){return Eh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(S({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Bc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Bc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(S({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Vc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Vc(!0,r))}markAsPending(e={}){this.status=Ca;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Da(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(S({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=jc,this.errors=null,this._forEachChild(i=>{i.disable(W(S({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wh(this.value,r)),this._events.next(new Da(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(S({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fc,this._forEachChild(r=>{r.enable(W(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(S({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fc||this.status===Ca)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wh(this.value,n)),this._events.next(new Da(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(S({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jc:Fc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=US(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Da(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?jc:this.errors?bh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(bh)?bh:Fc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Vc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Bc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=iV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sV(this._rawAsyncValidators)}};var WS=new U("",{providedIn:"root",factory:()=>Tb}),Tb="always";function aV(t,e){return[...e.path,t]}function lV(t,e,n=Tb){uV(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dV(t,e),hV(t,e),fV(t,e),cV(t,e)}function RS(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function uV(t,e){let n=eV(t);e.validator!==null?t.setValidators(NS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=tV(t);e.asyncValidator!==null?t.setAsyncValidators(NS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();RS(e._rawValidators,i),RS(e._rawAsyncValidators,i)}function dV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ZS(t,e)})}function fV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ZS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ZS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function pV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function mV(t){return Object.getPrototypeOf(t.constructor)===Sb}function gV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Hi?n=o:mV(o)?r=o:i=o}),i||r||n||null}function PS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yV=class extends Ib{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(rV(n),oV(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(LS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Db(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){LS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vV={provide:Uc,useExisting:qr(()=>rs)},FS=Promise.resolve(),rs=(()=>{class t extends Uc{_changeDetectorRef;callSetDisabledState;control=new yV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ht;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gV(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),pV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lV(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){FS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Uo(r);FS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?aV(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(q(wb,9),q(Kj,10),q(Yj,10),q(Ch,10),q(Xt,8),q(WS,8))};static \u0275dir=vt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ia([vV]),Qr,Oi]})}return t})();var bV={provide:Ch,useExisting:qr(()=>Sa),multi:!0};function KS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function EV(t){return t.split(":")[0]}var Sa=(()=>{class t extends Sb{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=x(Xr).injector;destroyRef=x(Zn);cdr=x(Xt);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Xl({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=KS(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=EV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ki(t)))(i||t)}})();static \u0275dir=vt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ue("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ia([bV]),Qr]})}return t})(),Ih=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(KS(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(q(Yn),q(gr),q(Sa,9))};static \u0275dir=vt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),_V={provide:Ch,useExisting:qr(()=>YS),multi:!0};function jS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function wV(t){return t.split(":")[0]}var YS=(()=>{class t extends Sb{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=wV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ki(t)))(i||t)}})();static \u0275dir=vt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ue("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ia([_V]),Qr]})}return t})(),Sh=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(jS(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(jS(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(q(Yn),q(gr),q(YS,9))};static \u0275dir=vt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var CV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qn({type:t});static \u0275inj=_n({})}return t})();var Ta=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:WS,useValue:n.callSetDisabledState??Tb}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qn({type:t});static \u0275inj=_n({imports:[CV]})}return t})();var Nb=(t,e)=>e.some(n=>t instanceof n),QS,XS;function DV(){return QS||(QS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IV(){return XS||(XS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ob=new WeakMap,Ab=new WeakMap,Th=new WeakMap;function SV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(is(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return Th.set(e,t),e}function TV(t){if(Ob.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ob.set(t,e)}var kb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nT(t){kb=t(kb)}function xV(t){return IV().includes(t)?function(...e){return t.apply(Rb(this),e),is(this.request)}:function(...e){return is(t.apply(Rb(this),e))}}function AV(t){return typeof t=="function"?xV(t):(t instanceof IDBTransaction&&TV(t),Nb(t,DV())?new Proxy(t,kb):t)}function is(t){if(t instanceof IDBRequest)return SV(t);if(Ab.has(t))return Ab.get(t);let e=AV(t);return e!==t&&(Ab.set(t,e),Th.set(e,t)),e}var Rb=t=>Th.get(t);function rT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=is(s);return r&&s.addEventListener("upgradeneeded",l=>{r(is(s.result),l.oldVersion,l.newVersion,is(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var MV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],Mb=new Map;function JS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mb.get(e))return Mb.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MV.includes(n)))return;let o=function(s,...a){return A(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Mb.set(e,o),o}nT(t=>W(S({},t),{get:(e,n,r)=>JS(e,n)||t.get(e,n,r),has:(e,n)=>!!JS(e,n)||t.has(e,n)}));var OV=["continue","continuePrimaryKey","advance"],eT={},Pb=new WeakMap,iT=new WeakMap,kV={get(t,e){if(!OV.includes(e))return t[e];let n=eT[e];return n||(n=eT[e]=function(...r){Pb.set(this,iT.get(this)[e](...r))}),n}};function RV(...t){return ME(this,null,function*(){let e=this;if(e instanceof IDBCursor||(e=yield new Du(e.openCursor(...t))),!e)return;e=e;let n=new Proxy(e,kV);for(iT.set(n,e),Th.set(n,Rb(e));e;)yield n,e=yield new Du(Pb.get(n)||e.continue()),Pb.delete(n)})}function tT(t,e){return e===Symbol.asyncIterator&&Nb(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Nb(t,[IDBIndex,IDBObjectStore])}nT(t=>W(S({},t),{get(e,n,r){return tT(e,n)?RV:t.get(e,n,r)},has(e,n){return tT(e,n)||t.has(e,n)}}));var On=class t{dbPromise;constructor(){this.dbPromise=rT("ArticleShare-db",1,{upgrade(e,n,r,i){n<1&&(e.createObjectStore("items",{keyPath:"id",autoIncrement:!0}),e.createObjectStore("comments",{keyPath:"postId"}),e.createObjectStore("authors",{keyPath:"id",autoIncrement:!0}))}})}getComments(e){return A(this,null,function*(){let r=yield(yield this.dbPromise).get("comments",e);return r&&r.comments?r.comments:[]})}saveComments(e,n){return A(this,null,function*(){yield(yield this.dbPromise).put("comments",{postId:e,comments:n})})}getAllAuthors(){return A(this,null,function*(){return(yield this.dbPromise).getAll("authors")})}seedDefaultPosts(){return A(this,null,function*(){let e=yield this.dbPromise;if((yield e.count("items"))===0){let r=[{title:"The economics behind unpaid internship",description:"Corporate companies often leverage unpaid interns...",date:"TODAY",views:10,likes:32,image:"assets/thumb1.png",author:{name:"Benjamin Foster",role:"Editor & Writer"},tags:["Blockchain","Finance"]},{title:"Embark on a Cosmic Adventure",description:"The universe is full of wonders...",date:"TODAY",views:19,likes:21,image:"assets/thumb2.png",author:{name:"Ryan Green",role:"Editor & Writer"},tags:["Blockchain","Finance"]},{title:"Classical musician: Build your brand on social media",description:"With social media anyone can build a brand...",author:{name:"Anthony Adams",role:"Editor & Writer"},date:"TODAY",views:12,likes:14,image:"assets/thumb3.png",tags:["Blockchain","Finance"]},{title:"3 non-Latin script languages I found the easiest",description:"Learning languages expands the mind...",author:{name:"Sarah Jackson",role:"Editor & Writer"},date:"TODAY",views:11,likes:9,image:"assets/thumb4.png",tags:["Blockchain","Finance"]},{title:"Demystifying Blockchain: Was it intentionally made confusing?",description:"For many, the concept of blockchain can seem perplexing and shrouded in mystery...",author:{name:"Benjamin Foster",role:"Editor & Writer"},date:"TODAY",views:20,likes:94,image:"assets/featured.png",tags:["Blockchain","Finance"]}];for(let i of r)yield e.add("items",i)}})}seedDefaultAuthors(){return A(this,null,function*(){let e=yield this.dbPromise,n=yield e.count("authors"),r=[{name:"Alexander Hughes",tag:"Sci-Fi",views:300},{name:"Christopher Brown",tag:"Tech",views:900},{name:"Sophia Anderson",tag:"Fashion",views:300},{name:"Deepak Singh",tag:"Tech",views:350}];if(n===0)for(let i of r)yield e.add("authors",i)})}addItem(e){return A(this,null,function*(){return(yield this.dbPromise).add("items",e)})}getItem(e){return A(this,null,function*(){return(yield this.dbPromise).get("items",e)})}getAllItems(){return A(this,null,function*(){return(yield this.dbPromise).getAll("items")})}deleteItem(e){return A(this,null,function*(){return(yield this.dbPromise).delete("items",e)})}updateItem(e){return A(this,null,function*(){return(yield this.dbPromise).put("items",e)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var xa=class t{constructor(e){this.dbService=e}getFeaturedArticle(){return be(this.dbService.getAllItems()).pipe(X(e=>{if(e&&e.length>0)return e[e.length-1]}))}getArticles(e,n,r,i){return be(this.dbService.getAllItems()).pipe(X(o=>{let s=[...o];if(i&&i.trim()!==""){let u=i.toLowerCase();s=s.filter(d=>d.title.toLowerCase().includes(u)||d.description.toLowerCase().includes(u)||d.author.name.toLowerCase().includes(u))}let a=s;switch(e){case"latest":a.sort((u,d)=>d.id-u.id);break;case"popular":a.sort((u,d)=>d.likes-u.likes);break;case"editor":a.sort((u,d)=>d.views-u.views);break;default:a.sort((u,d)=>d.id-u.id);break}let l=(n-1)*r,c=l+r;return a.slice(l,c)}))}getAuthors(e){return be(this.dbService.getAllAuthors()).pipe(X(n=>{if(!e||e.trim()==="")return n;let r=e.toLowerCase();return n.filter(i=>i.name.toLowerCase().includes(r))}))}static \u0275fac=function(n){return new(n||t)(B(On))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var PV=t=>["/details",t];function LV(t,e){if(t&1&&(C(0,"span",24),O(1),T()),t&2){let n=e.$implicit;j(),Ve(n)}}function FV(t,e){if(t&1){let n=Qt();C(0,"div",25)(1,"div",26)(2,"h3")(3,"a",27),O(4),T()(),_e(5,"p",28),C(6,"div",15)(7,"span"),O(8),T(),C(9,"span"),O(10),T(),C(11,"span"),O(12),T(),C(13,"span"),O(14),T()()(),C(15,"img",29),ue("error",function(i){return dt(n),ft(i.target.src="assets/default.png")}),T()()}if(t&2){let n=e.$implicit;j(3),we("routerLink",ev(8,PV,n.id)),j(),Ve(n.title),j(),we("innerHTML",n.description,ta),j(3),Ve(n.date),j(2),bt("\u{1F441} ",n.views),j(2),bt("\u2764\uFE0F ",n.likes),j(2),bt("\u270D ",n.author.name),j(),we("src",n.image,Tn)}}function jV(t,e){if(t&1){let n=Qt();C(0,"div",30)(1,"button",31),ue("click",function(){dt(n);let i=Ge();return ft(i.loadMore())}),O(2,"See more \u2193"),T()()}}var xh=class t{constructor(e,n,r,i){this.router=e;this.articleService=n;this.dbService=r;this.cdr=i;this.searchSubject.pipe(_l(300),Ur()).subscribe(()=>{this.loadInitialArticles()})}articles=[];featuredArticle=void 0;page=1;allArticlesLoaded=!1;sortBy="latest";searchTerm="";searchSubject=new Ce;ngOnInit(){return A(this,null,function*(){yield this.dbService.seedDefaultPosts(),yield this.dbService.seedDefaultAuthors(),this.loadInitialArticles(),this.loadFeaturedArticle()})}pageSize=3;loadInitialArticles(){this.page=1,this.allArticlesLoaded=!1,this.articleService.getArticles(this.sortBy,this.page,this.pageSize,this.searchTerm).subscribe(e=>{this.articles=e,e.length<this.pageSize&&(this.allArticlesLoaded=!0),this.cdr.detectChanges()})}loadFeaturedArticle(){this.articleService.getFeaturedArticle().subscribe(e=>{this.featuredArticle=e,this.cdr.detectChanges()})}changeSort(e){this.sortBy=e,this.loadInitialArticles()}onSearchChange(){this.searchSubject.next(this.searchTerm)}loadMore(){this.page++,this.articleService.getArticles(this.sortBy,this.page,this.pageSize,this.searchTerm).subscribe(e=>{e.length>0&&this.articles.push(...e),e.length<this.pageSize&&(this.allArticlesLoaded=!0),this.cdr.detectChanges()})}navigateToExplore(){this.router.navigate(["/explore"])}navigateToPost(){this.router.navigate(["/post"])}goBack(){this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(q(ot),q(xa),q(On),q(Xt))};static \u0275cmp=It({type:t,selectors:[["app-home"]],decls:42,vars:12,consts:[[1,"container"],[1,"header"],[1,"search-container"],["type","text","placeholder","Search by keyword or author...",1,"search-box",3,"ngModelChange","ngModel"],[1,"draft-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","20","viewBox","0 -960 960 960","width","20"],["d","M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"],["d","M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t27 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"],[1,"featured"],[1,"featured-img",3,"error","src"],[1,"featured-title"],[1,"featured-desc",3,"innerHTML"],[1,"featured-meta"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"stats"],[1,"sort-row"],[3,"ngModelChange","change","ngModel"],["value","latest"],["value","popular"],["value","editor"],[1,"article-list"],["class","article-item",4,"ngFor","ngForOf"],["class","see-more",4,"ngIf"],[1,"tag"],[1,"article-item"],[1,"article-text"],[3,"routerLink"],[3,"innerHTML"],[1,"article-thumb",3,"error","src"],[1,"see-more"],[3,"click"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),Jn("ngModelChange",function(o){return yr(r.searchTerm,o)||(r.searchTerm=o),o}),ue("ngModelChange",function(){return r.onSearchChange()}),T()(),C(4,"button",4),ue("click",function(){return r.navigateToExplore()}),C(5,"span"),O(6,"Explore Top Authors"),T(),nt(),C(7,"svg",5),_e(8,"path",6),T()(),rt(),C(9,"button",4),ue("click",function(){return r.navigateToPost()}),C(10,"span"),O(11,"Draft an article"),T(),nt(),C(12,"svg",5),_e(13,"path",7),T()()(),rt(),C(14,"div",8)(15,"img",9),ue("error",function(o){return o.target.src="assets/default.png"}),T(),C(16,"h2",10),O(17),T(),_e(18,"p",11),C(19,"div",12)(20,"div",13),it(21,LV,2,1,"span",14),T(),C(22,"div",15)(23,"span"),O(24),T(),C(25,"span"),O(26),T(),C(27,"span"),O(28),T(),C(29,"span"),O(30),T()()()(),C(31,"div",16)(32,"select",17),Jn("ngModelChange",function(o){return yr(r.sortBy,o)||(r.sortBy=o),o}),ue("change",function(){return r.changeSort(r.sortBy)}),C(33,"option",18),O(34,"Latest"),T(),C(35,"option",19),O(36,"Most Popular"),T(),C(37,"option",20),O(38,"Editor's Pick"),T()()(),C(39,"div",21),it(40,FV,16,10,"div",22),T(),it(41,jV,3,0,"div",23),T()),n&2&&(j(3),Xn("ngModel",r.searchTerm),j(12),we("src",r.featuredArticle==null?null:r.featuredArticle.image,Tn),j(2),Ve(r.featuredArticle==null?null:r.featuredArticle.title),j(),we("innerHTML",r.featuredArticle==null?null:r.featuredArticle.description,ta),j(3),we("ngForOf",r.featuredArticle==null?null:r.featuredArticle.tags),j(3),Ve(r.featuredArticle==null?null:r.featuredArticle.date),j(2),bt("\u{1F441} ",r.featuredArticle==null?null:r.featuredArticle.views),j(2),bt("\u2764\uFE0F ",r.featuredArticle==null?null:r.featuredArticle.likes),j(2),bt("\u270D ",r.featuredArticle==null||r.featuredArticle.author==null?null:r.featuredArticle.author.name),j(2),Xn("ngModel",r.sortBy),j(8),we("ngForOf",r.articles),j(),we("ngIf",!r.allArticlesLoaded))},dependencies:[br,Pi,Ho,Ta,Ih,Sh,Hi,Sa,Ia,rs,Mc,nh],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding:32px;font-family:Inter,sans-serif;background-color:#fff;min-height:100vh}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.draft-button[_ngcontent-%COMP%]{background:#1a1a1a;color:#fff;border:none;border-radius:8px;padding:10px 16px;font-size:.9rem;font-family:inherit;cursor:pointer;display:flex;align-items:center;gap:8px}.draft-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.search-container[_ngcontent-%COMP%]{width:60%}.search-box[_ngcontent-%COMP%]{width:95%;padding:12px;border-radius:10px;border:1px solid #ccc}.featured-img[_ngcontent-%COMP%]{width:100%;border-radius:12px;height:280px;background:#eee;margin-bottom:15px}.featured-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.featured-desc[_ngcontent-%COMP%]{color:#444;font-size:.95rem}.featured-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-bottom:20px}.tag[_ngcontent-%COMP%]{background:#f0f0f0;padding:4px 10px;border-radius:20px;margin-right:6px}.article-list[_ngcontent-%COMP%]{margin-top:30px}.article-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #eee;padding:18px 0}.article-text[_ngcontent-%COMP%]{width:75%}.article-thumb[_ngcontent-%COMP%]{width:110px;height:90px;border-radius:8px;background:#ddd}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:12px;font-size:.85rem;color:#666}.see-more[_ngcontent-%COMP%]{text-align:center;margin:25px 0}.see-more[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;cursor:pointer}.back-container[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;cursor:pointer;width:48px;height:48px;display:flex;align-items:center;justify-content:center}.back-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.85}.back-container[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{opacity:1}']})};var Ah=class t{worker=null;constructor(){typeof Worker<"u"&&(this.worker=new Worker(new URL("worker-4PDVG5NJ.js",import.meta.url),{type:"module"}),console.log("ReadingTimeWorkerService: Web Worker initialized."))}estimateReadingTime(e){return new ve(n=>{if(!this.worker){let r=e.split(/\s+/).filter(Boolean).length,i="",o=Math.ceil(r/200*60);o<60?i=`${o} sec`:i=`${Math.ceil(o/60)} min`,n.next({wordCount:r,readingTime:i}),n.complete();return}return this.worker.onmessage=({data:r})=>{n.next(r),n.complete()},this.worker.postMessage({content:e}),()=>{}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};function BV(t,e){if(t&1&&(C(0,"span",54),O(1),T()),t&2){let n=e.$implicit;j(),Ve(n)}}function UV(t,e){if(t&1){let n=Qt();C(0,"div",55)(1,"div",56),ue("click",function(){let i=dt(n).$implicit,o=Ge();return ft(o.navigateToArticleDetails(i.id))}),C(2,"img",34),ue("error",function(i){return dt(n),ft(i.target.src="assets/default.png")}),T()(),C(3,"p",57),O(4),T()()}if(t&2){let n=e.$implicit;j(2),we("src",n.image,Tn),j(2),Ve(n.title)}}function HV(t,e){if(t&1){let n=Qt();C(0,"div",58),ue("click",function(){dt(n);let i=Ge();return ft(i.toggleComments())}),T()}}function $V(t,e){if(t&1){let n=Qt();C(0,"div",66)(1,"div",47),O(2,"A"),T(),C(3,"input",67),Jn("ngModelChange",function(i){dt(n);let o=Ge(2);return yr(o.newReplyText,i)||(o.newReplyText=i),ft(i)}),T(),C(4,"button",49),ue("click",function(){dt(n);let i=Ge().$implicit,o=Ge();return ft(o.postReply(i.id,o.replyingToCommentId))}),O(5,"Post Reply"),T(),C(6,"button",68),ue("click",function(){dt(n);let i=Ge(2);return ft(i.cancelReply())}),O(7,"Cancel"),T()()}if(t&2){let n=Ge(2);j(3),Xn("ngModel",n.newReplyText)}}function qV(t,e){t&1&&(C(0,"span",73),O(1,"Author"),T())}function zV(t,e){if(t&1){let n=Qt();C(0,"div",71)(1,"div",60)(2,"strong"),O(3),T(),it(4,qV,2,0,"span",72),C(5,"span",61),O(6),T()(),C(7,"p",62),O(8),T(),C(9,"button",63),ue("click",function(){let i=dt(n).$implicit,o=Ge(2).$implicit,s=Ge();return ft(s.startReply(o.id,i.id))}),O(10,"Reply"),T()()}if(t&2){let n=e.$implicit;j(3),Ve(n.author),j(),we("ngIf",n.role),j(2),Ve(n.time),j(2),Ve(n.text)}}function GV(t,e){if(t&1&&(C(0,"div",69),it(1,zV,11,4,"div",70),T()),t&2){let n=Ge().$implicit;j(),we("ngForOf",n.replies)}}function WV(t,e){if(t&1){let n=Qt();C(0,"div",59)(1,"div",60)(2,"strong"),O(3),T(),C(4,"span",61),O(5),T()(),C(6,"p",62),O(7),T(),C(8,"button",63),ue("click",function(){let i=dt(n).$implicit,o=Ge();return ft(o.startReply(i.id))}),O(9,"Reply"),T(),it(10,$V,8,1,"div",64)(11,GV,2,1,"div",65),T()}if(t&2){let n=e.$implicit,r=Ge();j(3),Ve(n.author),j(2),Ve(n.time),j(2),Ve(n.text),j(3),we("ngIf",r.replyingToCommentId===n.id),j(),we("ngIf",n.replies&&n.replies.length>0)}}function ZV(t,e){if(t&1){let n=Qt();C(0,"button",74),ue("click",function(){dt(n);let i=Ge();return ft(i.loadMoreComments())}),O(1,"Show more discussion"),T()}}var Mh=class t{constructor(e,n,r,i,o,s){this.router=e;this.route=n;this.dbService=r;this.userService=i;this.readingTimeWorkerService=o;this.cdr=s}commentCount=0;wordCount=null;readingTime=null;article={};recommended=[];showComments=!1;allComments=[];comments=[];commentsPerPage=3;currentPage=0;hasMoreComments=!1;ngOnInit(){return A(this,null,function*(){this.route.paramMap.subscribe(e=>A(this,null,function*(){let n=e.get("id");n&&(console.log("Article empty:",this.article),this.article.id=parseInt(n,10))})),yield this.loadArticleAndComments(),this.cdr.detectChanges()})}loadArticleAndComments(){return A(this,null,function*(){let e=yield this.dbService.getItem(this.article.id);if(e&&(console.log("Loaded article from IndexedDB:",e),this.article=S(S({},this.article),e),this.readingTimeWorkerService.estimateReadingTime(this.article.description).subscribe(r=>{this.wordCount=r.wordCount,this.readingTime=r.readingTime,console.log("Estimated reading time:",this.readingTime),console.log("Word count:",this.wordCount)}),this.article.views=this.incrementViews(this.article.views),yield this.dbService.updateItem(this.article)),this.article&&this.article.tags.length>0){let r=this.article.tags[0],o=(yield this.dbService.getAllItems()).filter(s=>s.id!==this.article.id&&s.tags&&s.tags.includes(r)).sort((s,a)=>this.parseMetric(a.views)-this.parseMetric(s.views)).slice(0,3);this.recommended=o}let n=yield this.dbService.getComments(this.article.id);n&&n.length>0&&(this.allComments=n,this.commentCount=this.allComments.length,this.loadInitialComments(),this.cdr.detectChanges())})}parseMetric(e){if(typeof e=="number")return e;let n=parseFloat(e.replace(/,/g,""));return e.toLowerCase().includes("m")?n*1e6:e.toLowerCase().includes("k")?n*1e3:n}incrementViews(e){return this.parseMetric(e)+1}incrementLikes(){return A(this,null,function*(){this.article.likes=this.parseMetric(this.article.likes)+1,yield this.dbService.updateItem(this.article)})}toggleComments(){this.showComments=!this.showComments}goBack(){window.history.back()}navigateToArticleDetails(e){this.router.navigate(["/details",e])}newCommentText="";newReplyText="";replyingToCommentId=void 0;postComment(){return A(this,null,function*(){if(this.newCommentText&&this.newCommentText.trim()!==""){let e={id:Date.now(),author:this.userService.getUserName()||"Guest",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),text:this.newCommentText,replies:[],articleId:this.article.id};this.newCommentText="",this.allComments.unshift(e),yield this.dbService.saveComments(this.article.id,this.allComments),this.commentCount=this.allComments.length,this.loadInitialComments(),this.cdr.detectChanges()}})}startReply(e,n){this.replyingToCommentId=e}cancelReply(){this.replyingToCommentId=void 0,this.newReplyText="",this.cdr.detectChanges()}postReply(e,n){return A(this,null,function*(){if(this.newReplyText.trim()){let r={id:Date.now(),author:this.userService.getUserName()||"Guest",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),text:this.newReplyText,replies:[],articleId:this.article.id,parentId:n||e},i=this.findComment(this.comments,e);i&&(i.replies||(i.replies=[]),i.replies.push(r),yield this.dbService.saveComments(this.article.id,this.allComments)),this.cancelReply()}})}findComment(e,n){return e.find(r=>r.id===n)}loadInitialComments(){this.currentPage=0,this.comments=[],this.loadMoreComments()}loadMoreComments(){this.currentPage++;let e=(this.currentPage-1)*this.commentsPerPage,n=e+this.commentsPerPage,r=this.allComments.slice(e,n);this.comments.push(...r),this.hasMoreComments=this.comments.length<this.allComments.length}static \u0275fac=function(n){return new(n||t)(q(ot),q(Nn),q(On),q(Ui),q(Ah),q(Xt))};static \u0275cmp=It({type:t,selectors:[["app-articledetails"]],decls:74,vars:17,consts:[[1,"container"],[1,"top-bar"],[1,"back-container",3,"click"],["width","48","height","48","viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","24","cy","24","r","22","fill","white","stroke","black","stroke-width","2"],["d","M30 24H18","stroke","black","stroke-width","3","stroke-linecap","round"],["d","M22 20L18 24L22 28","stroke","black","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"spacer"],[1,"icon-btn"],["width","22","viewBox","0 0 24 24"],["d","M12 22a2 2 0 002-2H10a2 2 0 002 2zm6-6V11a6 6 0 00-4-5.659V4a2 2 0 10-4 0v1.341A6 6 0 006 11v5L4 18v1h16v-1z"],[1,"avatar-btn"],["width","30","viewBox","0 0 24 24"],["cx","12","cy","8","r","4"],["d","M4 20c0-4 4-6 8-6s8 2 8 6"],[1,"article-header"],[1,"header-top-row"],[1,"tags-container"],["class","tag",4,"ngFor","ngForOf"],[1,"date"],[1,"author-row"],["width","26","viewBox","0 0 24 24"],[1,"author-name"],["title","views",1,"stats-row"],["width","20","viewBox","0 0 24 24"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"],["cx","12","cy","12","r","3"],["title","Likes",3,"click"],["d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5a5.5 5.5 0 0111 0 5.5 5.5 0 0111 0c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"],["title","Comments",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 32 32","width","25","fill","none"],["d","M4 6h14c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H10l-4 4v-4H4c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2z","stroke","black","stroke-width","1.8","stroke-linejoin","round"],["d","M28 10H14c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h6l4 4v-4h4c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2z","stroke","black","stroke-width","1.8","stroke-linejoin","round"],[1,"hero-image"],[3,"error","src"],[1,"article-content"],[3,"innerHTML"],[1,"recommend-title"],[1,"recommended-grid"],["class","rec-card",4,"ngFor","ngForOf"],["class","overlay",3,"click",4,"ngIf"],[1,"comment-panel"],[1,"panel-header"],[1,"close-btn",3,"click"],["width","24","viewBox","0 0 24 24"],["d","M6 6l12 12M6 18l12-12","stroke-width","2","stroke","#333"],[1,"add-comment"],[1,"avatar"],["type","text","placeholder","Write a comment...",3,"ngModelChange","ngModel"],[1,"post-btn",3,"click"],[1,"sort-row"],[1,"comment-list"],["class","comment",4,"ngFor","ngForOf"],["class","show-more",3,"click",4,"ngIf"],[1,"tag"],[1,"rec-card"],[1,"rec-image",2,"cursor","pointer",3,"click"],[1,"rec-title"],[1,"overlay",3,"click"],[1,"comment"],[1,"comment-header"],[1,"time"],[1,"comment-text"],[1,"reply-btn",3,"click"],["class","add-comment reply-input",4,"ngIf"],["class","replies-container",4,"ngIf"],[1,"add-comment","reply-input"],["type","text","placeholder","Write a reply...",3,"ngModelChange","ngModel"],[1,"cancel-btn",3,"click"],[1,"replies-container"],["class","reply",4,"ngFor","ngForOf"],[1,"reply"],["class","role",4,"ngIf"],[1,"role"],[1,"show-more",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),ue("click",function(){return r.goBack()}),nt(),C(3,"svg",3),_e(4,"circle",4)(5,"path",5)(6,"path",6),T()(),rt(),_e(7,"span",7),C(8,"button",8),nt(),C(9,"svg",9),_e(10,"path",10),T()(),rt(),C(11,"button",11),nt(),C(12,"svg",12),_e(13,"circle",13)(14,"path",14),T()()(),rt(),C(15,"div",15)(16,"div",16)(17,"div",17),it(18,BV,2,1,"span",18),T(),C(19,"p",19),O(20),T()(),C(21,"h1"),O(22),T(),C(23,"div",20),nt(),C(24,"svg",21),_e(25,"circle",13)(26,"path",14),T(),rt(),C(27,"div")(28,"p",22),O(29),T()()(),C(30,"div",23)(31,"div"),nt(),C(32,"svg",24),_e(33,"path",25)(34,"circle",26),T(),O(35),T(),rt(),C(36,"div",27),ue("click",function(){return r.incrementLikes()}),nt(),C(37,"svg",24),_e(38,"path",28),T(),O(39),T(),rt(),C(40,"div",29),ue("click",function(){return r.toggleComments()}),nt(),C(41,"svg",30),_e(42,"path",31)(43,"path",32),T()(),rt(),C(44,"div"),O(45),T()()(),C(46,"div",33)(47,"img",34),ue("error",function(o){return o.target.src="assets/default.png"}),T()(),C(48,"div",35),_e(49,"div",36),T(),C(50,"h2",37),O(51,"Recommend to you"),T(),C(52,"div",38),it(53,UV,5,2,"div",39),T()(),it(54,HV,1,0,"div",40),C(55,"div",41)(56,"div",42)(57,"h2"),O(58),T(),C(59,"button",43),ue("click",function(){return r.toggleComments()}),nt(),C(60,"svg",44),_e(61,"path",45),T()()(),rt(),C(62,"div",46)(63,"div",47),O(64,"A"),T(),C(65,"input",48),Jn("ngModelChange",function(o){return yr(r.newCommentText,o)||(r.newCommentText=o),o}),T(),C(66,"button",49),ue("click",function(){return r.postComment()}),O(67,"Post"),T()(),_e(68,"hr"),C(69,"div",50),O(70," Most relevant \u25BE "),T(),C(71,"div",51),it(72,WV,12,5,"div",52)(73,ZV,2,0,"button",53),T()()),n&2&&(j(18),we("ngForOf",r.article.tags),j(2),Ve(r.article.date),j(2),Ve(r.article.title),j(7),Ve(r.article.author.name),j(6),bt(" ",r.article.views," "),j(4),bt(" ",r.article.likes," "),j(6),bt("",r.readingTime," read "),j(2),we("src",r.article.image,Tn),j(2),we("innerHTML",r.article.description,ta),j(4),we("ngForOf",r.recommended),j(),we("ngIf",r.showComments),j(),Jr("open",r.showComments),j(3),bt("Comment (",r.commentCount,")"),j(7),Xn("ngModel",r.newCommentText),j(7),we("ngForOf",r.comments),j(),we("ngIf",r.hasMoreComments))},dependencies:[br,Pi,Ho,Ta,Hi,Ia,rs],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding:32px;font-family:Inter,sans-serif;background-color:#fff;min-height:100vh}.back-container[_ngcontent-%COMP%]{cursor:pointer}.top-bar[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:24px}.top-bar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.icon-btn[_ngcontent-%COMP%], .avatar-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:6px}.icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .avatar-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#000;fill:none;stroke-width:1.7}.avatar-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-width:1.4}.article-header[_ngcontent-%COMP%]{margin-bottom:24px}.article-header[_ngcontent-%COMP%]   .header-top-row[_ngcontent-%COMP%]{display:flex;align-items:center}.article-header[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{display:flex;gap:8px;margin-right:16px}.article-header[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:6px 14px;background:#ececec;border-radius:20px;font-size:14px}.article-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin:0;color:#333}.article-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:600;margin:12px 0;line-height:1.4}.article-header[_ngcontent-%COMP%]   .author-row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-top:12px}.article-header[_ngcontent-%COMP%]   .author-row[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#000;fill:none;stroke-width:1.5}.article-header[_ngcontent-%COMP%]   .author-row[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{font-weight:500}.article-header[_ngcontent-%COMP%]   .author-row[_ngcontent-%COMP%]   .author-role[_ngcontent-%COMP%]{color:#777;font-size:14px}.article-header[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-top:20px;color:#000;font-size:14px}.article-header[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;cursor:pointer}.article-header[_ngcontent-%COMP%]   .stats-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#444;fill:none;stroke-width:1.6}.hero-image[_ngcontent-%COMP%]{width:100%;height:330px;background:#e0e0e0;border-radius:10px;margin:24px 0}.hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.article-content[_ngcontent-%COMP%]{font-size:16px;line-height:1.7;margin-bottom:48px}.article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:22px;font-weight:600;font-size:22px}.recommend-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:16px}.recommended-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px}.recommended-grid[_ngcontent-%COMP%]   .rec-card[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:12px}.recommended-grid[_ngcontent-%COMP%]   .rec-card[_ngcontent-%COMP%]   .rec-image[_ngcontent-%COMP%]{width:100%;height:150px;background:#e0e0e0;margin-bottom:10px;overflow:hidden;border-radius:8px}.recommended-grid[_ngcontent-%COMP%]   .rec-card[_ngcontent-%COMP%]   .rec-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.recommended-grid[_ngcontent-%COMP%]   .rec-card[_ngcontent-%COMP%]   .rec-title[_ngcontent-%COMP%]{font-size:14px;color:#333}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#28282873;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:90}.comment-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:-480px;width:480px;height:100%;background:#fff;z-index:100;padding:28px;box-shadow:-3px 0 8px #00000026;transition:right .32s ease;display:flex;flex-direction:column}.comment-panel.open[_ngcontent-%COMP%]{right:0}.panel-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.close-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.add-comment[_ngcontent-%COMP%]{margin:24px 0;display:flex;align-items:center;gap:12px}.add-comment[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:50%;background:#dcdcdc;display:flex;justify-content:center;align-items:center;font-weight:600}.add-comment[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:6px}.add-comment[_ngcontent-%COMP%]   .post-btn[_ngcontent-%COMP%]{background:#333;color:#fff;border:none;padding:8px 14px;border-radius:6px;cursor:pointer}.add-comment[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:#888;color:#fff;border:none;padding:8px 14px;border-radius:6px;cursor:pointer;margin-left:8px}.sort-row[_ngcontent-%COMP%]{font-size:15px;margin:12px 0;cursor:pointer}.comment-list[_ngcontent-%COMP%]{overflow-y:auto;flex:1;padding-right:6px}.comment[_ngcontent-%COMP%]{padding:16px 0;border-bottom:1px solid #eee}.comment-header[_ngcontent-%COMP%]{display:flex;gap:12px}.comment-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#888}.comment-text[_ngcontent-%COMP%]{margin:8px 0 12px;color:#444}.reply-btn[_ngcontent-%COMP%]{font-size:14px;background:none;border:none;color:#555;cursor:pointer}.reply[_ngcontent-%COMP%]{margin-left:32px;margin-top:14px;background:#f7f7f7;padding:12px;border-radius:8px}.reply-header[_ngcontent-%COMP%]{display:flex;gap:10px}.reply-header[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{background:#222;color:#fff;font-size:11px;padding:2px 6px;border-radius:4px}.reply-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#777}.reply-text[_ngcontent-%COMP%]{margin:6px 0 0}.show-more[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:22px;background:#eef0f2;border:none;border-radius:6px;cursor:pointer}"]})};function KV(t,e){if(t&1&&(C(0,"span",29),O(1),T()),t&2){let n=e.$implicit;j(),bt("# ",n)}}function YV(t,e){if(t&1){let n=Qt();C(0,"div",30)(1,"div",31),ue("click",function(){let i=dt(n).$implicit,o=Ge();return ft(o.navigateToArticleDetails(i.id))}),C(2,"img",32),ue("error",function(i){return dt(n),ft(i.target.src="assets/default.png")}),T()(),C(3,"p",33),O(4),T()()}if(t&2){let n=e.$implicit;j(2),we("src",n.image,Tn),j(2),Ve(n.title)}}function QV(t,e){if(t&1){let n=Qt();C(0,"div",34)(1,"span",35),O(2),T(),_e(3,"div",36),C(4,"h3"),O(5),T(),C(6,"p",37),O(7),T(),C(8,"button",38),ue("click",function(){let i=dt(n).$implicit,o=Ge();return ft(o.navigateToArticleDetails(i.articleId))}),O(9,"Visit"),T()()}if(t&2){let n=e.$implicit;j(2),Ve(n.tag),j(3),Ve(n.name),j(2),bt("",n.views,"+ views")}}var Nh=class t{constructor(e,n,r,i){this.dbService=e;this.cdr=n;this.router=r;this.articleService=i;this.searchSubject.pipe(_l(300),Ur()).subscribe(()=>{this.performSearch()})}trending=[];readersChoice=[];authors=[];searchTerm="";searchType="articles";searchSubject=new Ce;ngOnInit(){return A(this,null,function*(){yield this.dbService.seedDefaultPosts(),yield this.dbService.seedDefaultAuthors(),this.loadInitialData()})}loadInitialData(){this.articleService.getArticles("popular",1,3).subscribe(e=>{if(this.readersChoice=e,this.readersChoice&&this.readersChoice.length>0){let n=this.readersChoice.flatMap(r=>r.tags);this.trending=[...new Set(n)]}this.cdr.markForCheck()}),this.loadTopAuthors()}loadTopAuthors(){return A(this,null,function*(){let e=yield this.dbService.getAllItems();if(e&&e.length>0){e.sort((r,i)=>this.parseViews(i.views)-this.parseViews(r.views));let n=e.slice(0,2);this.authors=n.map(r=>({articleId:r.id,name:r.author.name,views:this.parseViews(r.views),tag:r.tags[0]||[]})),this.cdr.markForCheck()}})}onSearchChange(e=!1){e?this.performSearch():this.searchSubject.next(this.searchTerm)}performSearch(){this.searchType==="articles"?this.articleService.getArticles("latest",1,10,this.searchTerm).subscribe(e=>{this.readersChoice=e.slice(0,3),this.cdr.markForCheck()}):this.articleService.getAuthors(this.searchTerm).subscribe(e=>{this.authors=e.slice(0,2).map(n=>({articleId:0,name:n.name,views:0,tag:"General"})),this.cdr.markForCheck()})}navigateToArticleDetails(e){e&&this.router.navigate(["/details",e])}parseViews(e){if(typeof e=="number")return e;let n=parseFloat(e.replace(/,/g,""));return e.toLowerCase().includes("m")?n*1e6:e.toLowerCase().includes("k")?n*1e3:n}goBack(){this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(q(On),q(Xt),q(ot),q(xa))};static \u0275cmp=It({type:t,selectors:[["app-explore"]],decls:53,vars:9,consts:[[1,"container"],[1,"top-bar"],[1,"back-container",3,"click"],["width","48","height","48","viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","24","cy","24","r","22","fill","white","stroke","black","stroke-width","2"],["d","M30 24H18","stroke","black","stroke-width","3","stroke-linecap","round"],["d","M22 20L18 24L22 28","stroke","black","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"spacer"],[1,"icon-btn"],["width","22","viewBox","0 0 24 24"],["d","M12 22a2 2 0 002-2H10a2 2 0 002 2zm6-6V11a6 6 0 00-4-5.659V4a2 2 0 10-4 0v1.341A6 6 0 006 11v5L4 18v1h16v-1z"],[1,"avatar-btn"],["width","30","viewBox","0 0 24 24"],["cx","12","cy","8","r","4"],["d","M4 20c0-4 4-6 8-6s8 2 8 6"],[1,"header"],[1,"search-row"],["type","text","placeholder","Search...",3,"ngModelChange","ngModel"],[3,"ngModelChange","change","ngModel"],["value","articles"],["value","authors"],[1,"trending"],["class","tag",4,"ngFor","ngForOf"],[1,"card-grid"],["class","article-card",4,"ngFor","ngForOf"],[1,"connect-card"],[1,"close"],[1,"social-buttons"],["class","author-card",4,"ngFor","ngForOf"],[1,"tag"],[1,"article-card"],[1,"rec-image",2,"cursor","pointer",3,"click"],[3,"error","src"],[1,"title"],[1,"author-card"],[1,"badge"],[1,"img-placeholder"],[1,"views"],[1,"visit-btn",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1)(2,"div",2),ue("click",function(){return r.goBack()}),nt(),C(3,"svg",3),_e(4,"circle",4)(5,"path",5)(6,"path",6),T()(),rt(),_e(7,"span",7),C(8,"button",8),nt(),C(9,"svg",9),_e(10,"path",10),T()(),rt(),C(11,"button",11),nt(),C(12,"svg",12),_e(13,"circle",13)(14,"path",14),T()()(),rt(),C(15,"div",15)(16,"h1"),O(17,"Discover"),T(),C(18,"p"),O(19,"Step into a new zone, join a new conversation."),T(),C(20,"div",16)(21,"input",17),Jn("ngModelChange",function(o){return yr(r.searchTerm,o)||(r.searchTerm=o),o}),ue("ngModelChange",function(){return r.onSearchChange()}),T(),C(22,"select",18),Jn("ngModelChange",function(o){return yr(r.searchType,o)||(r.searchType=o),o}),ue("change",function(){return r.onSearchChange(!0)}),C(23,"option",19),O(24,"Articles"),T(),C(25,"option",20),O(26,"Authors"),T()()(),C(27,"div",21),it(28,KV,2,1,"span",22),T()(),C(29,"section")(30,"h2"),O(31,"Readers' choice"),T(),C(32,"div",23),it(33,YV,5,2,"div",24),T()(),C(34,"section")(35,"h2"),O(36,"Rising authors"),T(),C(37,"div",23)(38,"div",25)(39,"button",26),O(40,"\xD7"),T(),C(41,"p"),O(42,"Connect to your social media."),T(),C(43,"small"),O(44,"Discover Quill writers you already follow on social media"),T(),C(45,"div",27)(46,"button"),O(47,"G"),T(),C(48,"button"),O(49,"O"),T(),C(50,"button"),O(51,"W"),T()()(),it(52,QV,10,3,"div",28),T()()()),n&2&&(j(21),Xn("ngModel",r.searchTerm),j(),Xn("ngModel",r.searchType),j(6),we("ngForOf",r.trending),j(4),Jr("single-item-grid",r.readersChoice.length===1),j(),we("ngForOf",r.readersChoice),j(4),Jr("single-item-grid",r.authors.length===0),j(15),we("ngForOf",r.authors))},dependencies:[br,Pi,Ta,Ih,Sh,Hi,Sa,Ia,rs,Mc],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding:32px;font-family:Inter,sans-serif;background-color:#fff;min-height:100vh}.top-bar[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:24px}.top-bar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.icon-btn[_ngcontent-%COMP%], .avatar-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:6px}.icon-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .avatar-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:#444;fill:none;stroke-width:1.7}.avatar-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-width:1.4}.back-container[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;margin-bottom:4px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#777;margin-bottom:24px}.header[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px}.header[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 14px;border-radius:8px;border:1px solid #ddd;font-size:15px}.header[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:260px}.header[_ngcontent-%COMP%]   .trending[_ngcontent-%COMP%]{margin-top:18px}.header[_ngcontent-%COMP%]   .trending[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:#f3f3f3;padding:6px 12px;border-radius:20px;margin:0 5px;font-size:13px}section[_ngcontent-%COMP%]{margin-top:48px}section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:16px}.card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:20px}.card-grid.single-item-grid[_ngcontent-%COMP%]{grid-template-columns:minmax(230px,300px);justify-content:left}.article-card[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:10px}.article-card[_ngcontent-%COMP%]   .rec-image[_ngcontent-%COMP%]{width:100%;height:150px;background:#e0e0e0;margin-bottom:10px;overflow:hidden;border-radius:8px}.article-card[_ngcontent-%COMP%]   .rec-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.article-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;line-height:1.3}.author-card[_ngcontent-%COMP%], .connect-card[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:20px;position:relative;text-align:center}.author-card[_ngcontent-%COMP%]   .img-placeholder[_ngcontent-%COMP%], .connect-card[_ngcontent-%COMP%]   .img-placeholder[_ngcontent-%COMP%]{width:100%;height:130px;background:#e0e0e0;border-radius:8px;margin:16px 0}.author-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#4d7cff;color:#fff;padding:4px 10px;border-radius:12px;font-size:12px;position:absolute;top:14px;left:14px}.author-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:5px 0;font-size:16px}.author-card[_ngcontent-%COMP%]   .views[_ngcontent-%COMP%]{margin-bottom:12px;font-size:13px;color:#777}.author-card[_ngcontent-%COMP%]   .visit-btn[_ngcontent-%COMP%]{width:100%;padding:8px;background:#242424;color:#fff;border:none;border-radius:6px;cursor:pointer}.connect-card[_ngcontent-%COMP%]{text-align:left}.connect-card[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:12px;top:10px;border:none;background:transparent;font-size:22px;cursor:pointer}.connect-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.connect-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#777}.connect-card[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]{margin-top:20px;display:flex;gap:10px}.connect-card[_ngcontent-%COMP%]   .social-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:none;background:#e5e5e5;font-weight:700;cursor:pointer}"],changeDetection:0})};var XV=typeof global=="object"&&global&&global.Object===Object&&global,Oh=XV;var JV=typeof self=="object"&&self&&self.Object===Object&&self,eB=Oh||JV||Function("return this")(),st=eB;var tB=st.Symbol,kn=tB;var sT=Object.prototype,nB=sT.hasOwnProperty,rB=sT.toString,$c=kn?kn.toStringTag:void 0;function iB(t){var e=nB.call(t,$c),n=t[$c];try{t[$c]=void 0;var r=!0}catch{}var i=rB.call(t);return r&&(e?t[$c]=n:delete t[$c]),i}var aT=iB;var oB=Object.prototype,sB=oB.toString;function aB(t){return sB.call(t)}var lT=aB;var lB="[object Null]",cB="[object Undefined]",cT=kn?kn.toStringTag:void 0;function uB(t){return t==null?t===void 0?cB:lB:cT&&cT in Object(t)?aT(t):lT(t)}var rr=uB;function dB(t){return t!=null&&typeof t=="object"}var Tt=dB;var fB=Array.isArray,Rn=fB;function hB(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Pt=hB;function pB(t){return t}var kh=pB;var mB="[object AsyncFunction]",gB="[object Function]",yB="[object GeneratorFunction]",vB="[object Proxy]";function bB(t){if(!Pt(t))return!1;var e=rr(t);return e==gB||e==yB||e==mB||e==vB}var Aa=bB;var EB=st["__core-js_shared__"],Rh=EB;var uT=(function(){var t=/[^.]+$/.exec(Rh&&Rh.keys&&Rh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function _B(t){return!!uT&&uT in t}var dT=_B;var wB=Function.prototype,CB=wB.toString;function DB(t){if(t!=null){try{return CB.call(t)}catch{}try{return t+""}catch{}}return""}var ni=DB;var IB=/[\\^$.*+?()[\]{}|]/g,SB=/^\[object .+?Constructor\]$/,TB=Function.prototype,xB=Object.prototype,AB=TB.toString,MB=xB.hasOwnProperty,NB=RegExp("^"+AB.call(MB).replace(IB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OB(t){if(!Pt(t)||dT(t))return!1;var e=Aa(t)?NB:SB;return e.test(ni(t))}var fT=OB;function kB(t,e){return t?.[e]}var hT=kB;function RB(t,e){var n=hT(t,e);return fT(n)?n:void 0}var Jt=RB;var PB=Jt(st,"WeakMap"),Ph=PB;var pT=Object.create,LB=(function(){function t(){}return function(e){if(!Pt(e))return{};if(pT)return pT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})(),mT=LB;function FB(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var gT=FB;function jB(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Lh=jB;var VB=800,BB=16,UB=Date.now;function HB(t){var e=0,n=0;return function(){var r=UB(),i=BB-(r-n);if(n=r,i>0){if(++e>=VB)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var yT=HB;function $B(t){return function(){return t}}var vT=$B;var qB=(function(){try{var t=Jt(Object,"defineProperty");return t({},"",{}),t}catch{}})(),Ma=qB;var zB=Ma?function(t,e){return Ma(t,"toString",{configurable:!0,enumerable:!1,value:vT(e),writable:!0})}:kh,bT=zB;var GB=yT(bT),ET=GB;function WB(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var _T=WB;var ZB=9007199254740991,KB=/^(?:0|[1-9]\d*)$/;function YB(t,e){var n=typeof t;return e=e??ZB,!!e&&(n=="number"||n!="symbol"&&KB.test(t))&&t>-1&&t%1==0&&t<e}var Fh=YB;function QB(t,e,n){e=="__proto__"&&Ma?Ma(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Na=QB;function XB(t,e){return t===e||t!==t&&e!==e}var Ir=XB;var JB=Object.prototype,e3=JB.hasOwnProperty;function t3(t,e,n){var r=t[e];(!(e3.call(t,e)&&Ir(r,n))||n===void 0&&!(e in t))&&Na(t,e,n)}var jh=t3;function n3(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Na(n,a,l):jh(n,a,l)}return n}var Sr=n3;var wT=Math.max;function r3(t,e,n){return e=wT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=wT(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),gT(t,this,a)}}var CT=r3;function i3(t,e){return ET(CT(t,e,kh),t+"")}var DT=i3;var o3=9007199254740991;function s3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o3}var Vh=s3;function a3(t){return t!=null&&Vh(t.length)&&!Aa(t)}var $i=a3;function l3(t,e,n){if(!Pt(n))return!1;var r=typeof e;return(r=="number"?$i(n)&&Fh(e,n.length):r=="string"&&e in n)?Ir(n[e],t):!1}var IT=l3;function c3(t){return DT(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&IT(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var ST=c3;var u3=Object.prototype;function d3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||u3;return t===n}var Oa=d3;function f3(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var TT=f3;var h3="[object Arguments]";function p3(t){return Tt(t)&&rr(t)==h3}var Lb=p3;var xT=Object.prototype,m3=xT.hasOwnProperty,g3=xT.propertyIsEnumerable,y3=Lb((function(){return arguments})())?Lb:function(t){return Tt(t)&&m3.call(t,"callee")&&!g3.call(t,"callee")},qc=y3;function v3(){return!1}var AT=v3;var OT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MT=OT&&typeof module=="object"&&module&&!module.nodeType&&module,b3=MT&&MT.exports===OT,NT=b3?st.Buffer:void 0,E3=NT?NT.isBuffer:void 0,_3=E3||AT,ri=_3;var w3="[object Arguments]",C3="[object Array]",D3="[object Boolean]",I3="[object Date]",S3="[object Error]",T3="[object Function]",x3="[object Map]",A3="[object Number]",M3="[object Object]",N3="[object RegExp]",O3="[object Set]",k3="[object String]",R3="[object WeakMap]",P3="[object ArrayBuffer]",L3="[object DataView]",F3="[object Float32Array]",j3="[object Float64Array]",V3="[object Int8Array]",B3="[object Int16Array]",U3="[object Int32Array]",H3="[object Uint8Array]",$3="[object Uint8ClampedArray]",q3="[object Uint16Array]",z3="[object Uint32Array]",Le={};Le[F3]=Le[j3]=Le[V3]=Le[B3]=Le[U3]=Le[H3]=Le[$3]=Le[q3]=Le[z3]=!0;Le[w3]=Le[C3]=Le[P3]=Le[D3]=Le[L3]=Le[I3]=Le[S3]=Le[T3]=Le[x3]=Le[A3]=Le[M3]=Le[N3]=Le[O3]=Le[k3]=Le[R3]=!1;function G3(t){return Tt(t)&&Vh(t.length)&&!!Le[rr(t)]}var kT=G3;function W3(t){return function(e){return t(e)}}var ka=W3;var RT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zc=RT&&typeof module=="object"&&module&&!module.nodeType&&module,Z3=zc&&zc.exports===RT,Fb=Z3&&Oh.process,K3=(function(){try{var t=zc&&zc.require&&zc.require("util").types;return t||Fb&&Fb.binding&&Fb.binding("util")}catch{}})(),ii=K3;var PT=ii&&ii.isTypedArray,Y3=PT?ka(PT):kT,Ra=Y3;var Q3=Object.prototype,X3=Q3.hasOwnProperty;function J3(t,e){var n=Rn(t),r=!n&&qc(t),i=!n&&!r&&ri(t),o=!n&&!r&&!i&&Ra(t),s=n||r||i||o,a=s?TT(t.length,String):[],l=a.length;for(var c in t)(e||X3.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Fh(c,l)))&&a.push(c);return a}var Bh=J3;function eU(t,e){return function(n){return t(e(n))}}var Uh=eU;var tU=Uh(Object.keys,Object),LT=tU;var nU=Object.prototype,rU=nU.hasOwnProperty;function iU(t){if(!Oa(t))return LT(t);var e=[];for(var n in Object(t))rU.call(t,n)&&n!="constructor"&&e.push(n);return e}var FT=iU;function oU(t){return $i(t)?Bh(t):FT(t)}var Pa=oU;function sU(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var jT=sU;var aU=Object.prototype,lU=aU.hasOwnProperty;function cU(t){if(!Pt(t))return jT(t);var e=Oa(t),n=[];for(var r in t)r=="constructor"&&(e||!lU.call(t,r))||n.push(r);return n}var VT=cU;function uU(t){return $i(t)?Bh(t,!0):VT(t)}var Tr=uU;var dU=Jt(Object,"create"),oi=dU;function fU(){this.__data__=oi?oi(null):{},this.size=0}var BT=fU;function hU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var UT=hU;var pU="__lodash_hash_undefined__",mU=Object.prototype,gU=mU.hasOwnProperty;function yU(t){var e=this.__data__;if(oi){var n=e[t];return n===pU?void 0:n}return gU.call(e,t)?e[t]:void 0}var HT=yU;var vU=Object.prototype,bU=vU.hasOwnProperty;function EU(t){var e=this.__data__;return oi?e[t]!==void 0:bU.call(e,t)}var $T=EU;var _U="__lodash_hash_undefined__";function wU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=oi&&e===void 0?_U:e,this}var qT=wU;function La(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}La.prototype.clear=BT;La.prototype.delete=UT;La.prototype.get=HT;La.prototype.has=$T;La.prototype.set=qT;var jb=La;function CU(){this.__data__=[],this.size=0}var zT=CU;function DU(t,e){for(var n=t.length;n--;)if(Ir(t[n][0],e))return n;return-1}var qi=DU;var IU=Array.prototype,SU=IU.splice;function TU(t){var e=this.__data__,n=qi(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():SU.call(e,n,1),--this.size,!0}var GT=TU;function xU(t){var e=this.__data__,n=qi(e,t);return n<0?void 0:e[n][1]}var WT=xU;function AU(t){return qi(this.__data__,t)>-1}var ZT=AU;function MU(t,e){var n=this.__data__,r=qi(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var KT=MU;function Fa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fa.prototype.clear=zT;Fa.prototype.delete=GT;Fa.prototype.get=WT;Fa.prototype.has=ZT;Fa.prototype.set=KT;var zi=Fa;var NU=Jt(st,"Map"),Gi=NU;function OU(){this.size=0,this.__data__={hash:new jb,map:new(Gi||zi),string:new jb}}var YT=OU;function kU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var QT=kU;function RU(t,e){var n=t.__data__;return QT(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Wi=RU;function PU(t){var e=Wi(this,t).delete(t);return this.size-=e?1:0,e}var XT=PU;function LU(t){return Wi(this,t).get(t)}var JT=LU;function FU(t){return Wi(this,t).has(t)}var ex=FU;function jU(t,e){var n=Wi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var tx=jU;function ja(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ja.prototype.clear=YT;ja.prototype.delete=XT;ja.prototype.get=JT;ja.prototype.has=ex;ja.prototype.set=tx;var Hh=ja;function VU(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var $h=VU;var BU=Uh(Object.getPrototypeOf,Object),Va=BU;var UU="[object Object]",HU=Function.prototype,$U=Object.prototype,nx=HU.toString,qU=$U.hasOwnProperty,zU=nx.call(Object);function GU(t){if(!Tt(t)||rr(t)!=UU)return!1;var e=Va(t);if(e===null)return!0;var n=qU.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nx.call(n)==zU}var rx=GU;function WU(){this.__data__=new zi,this.size=0}var ix=WU;function ZU(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ox=ZU;function KU(t){return this.__data__.get(t)}var sx=KU;function YU(t){return this.__data__.has(t)}var ax=YU;var QU=200;function XU(t,e){var n=this.__data__;if(n instanceof zi){var r=n.__data__;if(!Gi||r.length<QU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Hh(r)}return n.set(t,e),this.size=n.size,this}var lx=XU;function Ba(t){var e=this.__data__=new zi(t);this.size=e.size}Ba.prototype.clear=ix;Ba.prototype.delete=ox;Ba.prototype.get=sx;Ba.prototype.has=ax;Ba.prototype.set=lx;var Zi=Ba;function JU(t,e){return t&&Sr(e,Pa(e),t)}var cx=JU;function eH(t,e){return t&&Sr(e,Tr(e),t)}var ux=eH;var px=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dx=px&&typeof module=="object"&&module&&!module.nodeType&&module,tH=dx&&dx.exports===px,fx=tH?st.Buffer:void 0,hx=fx?fx.allocUnsafe:void 0;function nH(t,e){if(e)return t.slice();var n=t.length,r=hx?hx(n):new t.constructor(n);return t.copy(r),r}var qh=nH;function rH(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var mx=rH;function iH(){return[]}var zh=iH;var oH=Object.prototype,sH=oH.propertyIsEnumerable,gx=Object.getOwnPropertySymbols,aH=gx?function(t){return t==null?[]:(t=Object(t),mx(gx(t),function(e){return sH.call(t,e)}))}:zh,Ua=aH;function lH(t,e){return Sr(t,Ua(t),e)}var yx=lH;var cH=Object.getOwnPropertySymbols,uH=cH?function(t){for(var e=[];t;)$h(e,Ua(t)),t=Va(t);return e}:zh,Gh=uH;function dH(t,e){return Sr(t,Gh(t),e)}var vx=dH;function fH(t,e,n){var r=e(t);return Rn(t)?r:$h(r,n(t))}var Wh=fH;function hH(t){return Wh(t,Pa,Ua)}var Gc=hH;function pH(t){return Wh(t,Tr,Gh)}var bx=pH;var mH=Jt(st,"DataView"),Zh=mH;var gH=Jt(st,"Promise"),Kh=gH;var yH=Jt(st,"Set"),Yh=yH;var Ex="[object Map]",vH="[object Object]",_x="[object Promise]",wx="[object Set]",Cx="[object WeakMap]",Dx="[object DataView]",bH=ni(Zh),EH=ni(Gi),_H=ni(Kh),wH=ni(Yh),CH=ni(Ph),os=rr;(Zh&&os(new Zh(new ArrayBuffer(1)))!=Dx||Gi&&os(new Gi)!=Ex||Kh&&os(Kh.resolve())!=_x||Yh&&os(new Yh)!=wx||Ph&&os(new Ph)!=Cx)&&(os=function(t){var e=rr(t),n=e==vH?t.constructor:void 0,r=n?ni(n):"";if(r)switch(r){case bH:return Dx;case EH:return Ex;case _H:return _x;case wH:return wx;case CH:return Cx}return e});var si=os;var DH=Object.prototype,IH=DH.hasOwnProperty;function SH(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&IH.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ix=SH;var TH=st.Uint8Array,Ha=TH;function xH(t){var e=new t.constructor(t.byteLength);return new Ha(e).set(new Ha(t)),e}var $a=xH;function AH(t,e){var n=e?$a(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Sx=AH;var MH=/\w*$/;function NH(t){var e=new t.constructor(t.source,MH.exec(t));return e.lastIndex=t.lastIndex,e}var Tx=NH;var xx=kn?kn.prototype:void 0,Ax=xx?xx.valueOf:void 0;function OH(t){return Ax?Object(Ax.call(t)):{}}var Mx=OH;function kH(t,e){var n=e?$a(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Qh=kH;var RH="[object Boolean]",PH="[object Date]",LH="[object Map]",FH="[object Number]",jH="[object RegExp]",VH="[object Set]",BH="[object String]",UH="[object Symbol]",HH="[object ArrayBuffer]",$H="[object DataView]",qH="[object Float32Array]",zH="[object Float64Array]",GH="[object Int8Array]",WH="[object Int16Array]",ZH="[object Int32Array]",KH="[object Uint8Array]",YH="[object Uint8ClampedArray]",QH="[object Uint16Array]",XH="[object Uint32Array]";function JH(t,e,n){var r=t.constructor;switch(e){case HH:return $a(t);case RH:case PH:return new r(+t);case $H:return Sx(t,n);case qH:case zH:case GH:case WH:case ZH:case KH:case YH:case QH:case XH:return Qh(t,n);case LH:return new r;case FH:case BH:return new r(t);case jH:return Tx(t);case VH:return new r;case UH:return Mx(t)}}var Nx=JH;function e4(t){return typeof t.constructor=="function"&&!Oa(t)?mT(Va(t)):{}}var Xh=e4;var t4="[object Map]";function n4(t){return Tt(t)&&si(t)==t4}var Ox=n4;var kx=ii&&ii.isMap,r4=kx?ka(kx):Ox,Rx=r4;var i4="[object Set]";function o4(t){return Tt(t)&&si(t)==i4}var Px=o4;var Lx=ii&&ii.isSet,s4=Lx?ka(Lx):Px,Fx=s4;var a4=1,l4=2,c4=4,jx="[object Arguments]",u4="[object Array]",d4="[object Boolean]",f4="[object Date]",h4="[object Error]",Vx="[object Function]",p4="[object GeneratorFunction]",m4="[object Map]",g4="[object Number]",Bx="[object Object]",y4="[object RegExp]",v4="[object Set]",b4="[object String]",E4="[object Symbol]",_4="[object WeakMap]",w4="[object ArrayBuffer]",C4="[object DataView]",D4="[object Float32Array]",I4="[object Float64Array]",S4="[object Int8Array]",T4="[object Int16Array]",x4="[object Int32Array]",A4="[object Uint8Array]",M4="[object Uint8ClampedArray]",N4="[object Uint16Array]",O4="[object Uint32Array]",ke={};ke[jx]=ke[u4]=ke[w4]=ke[C4]=ke[d4]=ke[f4]=ke[D4]=ke[I4]=ke[S4]=ke[T4]=ke[x4]=ke[m4]=ke[g4]=ke[Bx]=ke[y4]=ke[v4]=ke[b4]=ke[E4]=ke[A4]=ke[M4]=ke[N4]=ke[O4]=!0;ke[h4]=ke[Vx]=ke[_4]=!1;function Jh(t,e,n,r,i,o){var s,a=e&a4,l=e&l4,c=e&c4;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Pt(t))return t;var u=Rn(t);if(u){if(s=Ix(t),!a)return Lh(t,s)}else{var d=si(t),h=d==Vx||d==p4;if(ri(t))return qh(t,a);if(d==Bx||d==jx||h&&!i){if(s=l||h?{}:Xh(t),!a)return l?vx(t,ux(s,t)):yx(t,cx(s,t))}else{if(!ke[d])return i?t:{};s=Nx(t,d,a)}}o||(o=new Zi);var f=o.get(t);if(f)return f;o.set(t,s),Fx(t)?t.forEach(function(v){s.add(Jh(v,e,n,v,t,o))}):Rx(t)&&t.forEach(function(v,g){s.set(g,Jh(v,e,n,g,t,o))});var p=c?l?bx:Gc:l?Tr:Pa,m=u?void 0:p(t);return _T(m||t,function(v,g){m&&(g=v,v=t[g]),jh(s,g,Jh(v,e,n,g,t,o))}),s}var Ux=Jh;var k4=1,R4=4;function P4(t){return Ux(t,k4|R4)}var xr=P4;var L4="__lodash_hash_undefined__";function F4(t){return this.__data__.set(t,L4),this}var Hx=F4;function j4(t){return this.__data__.has(t)}var $x=j4;function ep(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Hh;++e<n;)this.add(t[e])}ep.prototype.add=ep.prototype.push=Hx;ep.prototype.has=$x;var qx=ep;function V4(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zx=V4;function B4(t,e){return t.has(e)}var Gx=B4;var U4=1,H4=2;function $4(t,e,n,r,i,o){var s=n&U4,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=n&H4?new qx:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],m=e[d];if(r)var v=s?r(m,p,d,e,t,o):r(p,m,d,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!zx(e,function(g,E){if(!Gx(f,E)&&(p===g||i(p,g,n,r,o)))return f.push(E)})){h=!1;break}}else if(!(p===m||i(p,m,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var tp=$4;function q4(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Wx=q4;function z4(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Zx=z4;var G4=1,W4=2,Z4="[object Boolean]",K4="[object Date]",Y4="[object Error]",Q4="[object Map]",X4="[object Number]",J4="[object RegExp]",e5="[object Set]",t5="[object String]",n5="[object Symbol]",r5="[object ArrayBuffer]",i5="[object DataView]",Kx=kn?kn.prototype:void 0,Vb=Kx?Kx.valueOf:void 0;function o5(t,e,n,r,i,o,s){switch(n){case i5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case r5:return!(t.byteLength!=e.byteLength||!o(new Ha(t),new Ha(e)));case Z4:case K4:case X4:return Ir(+t,+e);case Y4:return t.name==e.name&&t.message==e.message;case J4:case t5:return t==e+"";case Q4:var a=Wx;case e5:var l=r&G4;if(a||(a=Zx),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=W4,s.set(t,e);var u=tp(a(t),a(e),r,i,o,s);return s.delete(t),u;case n5:if(Vb)return Vb.call(t)==Vb.call(e)}return!1}var Yx=o5;var s5=1,a5=Object.prototype,l5=a5.hasOwnProperty;function c5(t,e,n,r,i,o){var s=n&s5,a=Gc(t),l=a.length,c=Gc(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:l5.call(e,h)))return!1}var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var m=!0;o.set(t,e),o.set(e,t);for(var v=s;++d<l;){h=a[d];var g=t[h],E=e[h];if(r)var _=s?r(E,g,h,e,t,o):r(g,E,h,t,e,o);if(!(_===void 0?g===E||i(g,E,n,r,o):_)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var I=t.constructor,V=e.constructor;I!=V&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof V=="function"&&V instanceof V)&&(m=!1)}return o.delete(t),o.delete(e),m}var Qx=c5;var u5=1,Xx="[object Arguments]",Jx="[object Array]",np="[object Object]",d5=Object.prototype,e1=d5.hasOwnProperty;function f5(t,e,n,r,i,o){var s=Rn(t),a=Rn(e),l=s?Jx:si(t),c=a?Jx:si(e);l=l==Xx?np:l,c=c==Xx?np:c;var u=l==np,d=c==np,h=l==c;if(h&&ri(t)){if(!ri(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Zi),s||Ra(t)?tp(t,e,n,r,i,o):Yx(t,e,l,n,r,i,o);if(!(n&u5)){var f=u&&e1.call(t,"__wrapped__"),p=d&&e1.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return o||(o=new Zi),i(m,v,n,r,o)}}return h?(o||(o=new Zi),Qx(t,e,n,r,i,o)):!1}var t1=f5;function n1(t,e,n,r,i){return t===e?!0:t==null||e==null||!Tt(t)&&!Tt(e)?t!==t&&e!==e:t1(t,e,n,r,n1,i)}var r1=n1;function h5(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var i1=h5;var p5=i1(),o1=p5;function m5(t,e,n){(n!==void 0&&!Ir(t[e],n)||n===void 0&&!(e in t))&&Na(t,e,n)}var Wc=m5;function g5(t){return Tt(t)&&$i(t)}var s1=g5;function y5(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Zc=y5;function v5(t){return Sr(t,Tr(t))}var a1=v5;function b5(t,e,n,r,i,o,s){var a=Zc(t,n),l=Zc(e,n),c=s.get(l);if(c){Wc(t,n,c);return}var u=o?o(a,l,n+"",t,e,s):void 0,d=u===void 0;if(d){var h=Rn(l),f=!h&&ri(l),p=!h&&!f&&Ra(l);u=l,h||f||p?Rn(a)?u=a:s1(a)?u=Lh(a):f?(d=!1,u=qh(l,!0)):p?(d=!1,u=Qh(l,!0)):u=[]:rx(l)||qc(l)?(u=a,qc(a)?u=a1(a):(!Pt(a)||Aa(a))&&(u=Xh(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),Wc(t,n,u)}var l1=b5;function c1(t,e,n,r,i){t!==e&&o1(e,function(o,s){if(i||(i=new Zi),Pt(o))l1(t,e,s,n,c1,r,i);else{var a=r?r(Zc(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),Wc(t,s,a)}},Tr)}var u1=c1;function E5(t,e){return r1(t,e)}var ss=E5;var _5=ST(function(t,e,n){u1(t,e,n)}),en=_5;var Qc={};gN(Qc,{Attributor:()=>$t,AttributorStore:()=>Kc,BlockBlot:()=>as,ClassAttributor:()=>at,ContainerBlot:()=>Za,EmbedBlot:()=>Be,InlineBlot:()=>rp,LeafBlot:()=>lt,ParentBlot:()=>tn,Registry:()=>Qi,Scope:()=>R,ScrollBlot:()=>Yc,StyleAttributor:()=>nn,TextBlot:()=>Ka});var R=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(R||{}),$t=class{constructor(e,n,r={}){this.attrName=e,this.keyName=n;let i=R.TYPE&R.ATTRIBUTE;this.scope=r.scope!=null?r.scope&R.LEVEL|i:R.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){let n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}},Yi=class extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}},w5=(()=>{let t=class Ub{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,r=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(r){let i=null;try{i=n.parentNode}catch{return null}return this.find(i,r)}return null}create(n,r,i){let o=this.query(r);if(o==null)throw new Yi(`Unable to create ${r} blot`);let s=o,a=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:s.create(i),l=new s(n,a,i);return Ub.blots.set(l.domNode,l),l}find(n,r=!1){return Ub.find(n,r)}query(n,r=R.ANY){let i;return typeof n=="string"?i=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?i=this.types.text:typeof n=="number"?n&R.LEVEL&R.BLOCK?i=this.types.block:n&R.LEVEL&R.INLINE&&(i=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(o=>(i=this.classes[o],!!i)),i=i||this.tags[n.tagName]),i==null?null:"scope"in i&&r&R.LEVEL&i.scope&&r&R.TYPE&i.scope?i:null}register(...n){return n.map(r=>{let i="blotName"in r,o="attrName"in r;if(!i&&!o)throw new Yi("Invalid definition");if(i&&r.blotName==="abstract")throw new Yi("Cannot register abstract class");let s=i?r.blotName:o?r.attrName:void 0;return this.types[s]=r,o?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):i&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(a=>a.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(a=>{(this.tags[a]==null||r.className==null)&&(this.tags[a]=r)}))),r})}};return t.blots=new WeakMap,t})(),Qi=w5;function d1(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}var Hb=class extends $t{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){d1(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){let n=(d1(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}},at=Hb;function Bb(t){let e=t.split("-"),n=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+n}var $b=class extends $t{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[Bb(this.keyName)]=n,!0):!1}remove(e){e.style[Bb(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){let n=e.style[Bb(this.keyName)];return this.canAdd(e,n)?n:""}},nn=$b,qb=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};let e=Qi.find(this.domNode);if(e==null)return;let n=$t.keys(this.domNode),r=at.keys(this.domNode),i=nn.keys(this.domNode);n.concat(r).concat(i).forEach(o=>{let s=e.scroll.query(o,R.ATTRIBUTE);s instanceof $t&&(this.attributes[s.attrName]=s)})}copy(e){Object.keys(this.attributes).forEach(n=>{let r=this.attributes[n].value(this.domNode);e.format(n,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}},Kc=qb,h1=class{constructor(e,n){this.scroll=e,this.domNode=n,Qi.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Yi("Blot definition missing tagName");let n,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?n=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?n=document.createElement(r):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){let e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Qi.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,r,i){let o=this.isolate(e,n);if(this.scroll.query(r,R.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,R.ATTRIBUTE)!=null){let s=this.scroll.create(this.statics.scope);o.wrap(s),s.format(r,i)}}insertAt(e,n,r){let i=r==null?this.scroll.create("text",n):this.scroll.create(n,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,n){let r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(n),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){let r=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){let r=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Yi(`Cannot wrap ${e}`);return r.appendChild(this),r}};h1.blotName="abstract";var p1=h1,m1=class extends p1{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};m1.scope=R.INLINE_BLOT;var C5=m1,lt=C5,zb=class{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){let n=e.slice(1);this.append(...n)}}at(e){let n=this.iterator(),r=n();for(;r&&e>0;)e-=1,r=n();return r}contains(e){let n=this.iterator(),r=n();for(;r;){if(r===e)return!0;r=n()}return!1}indexOf(e){let n=this.iterator(),r=n(),i=0;for(;r;){if(r===e)return i;i+=1,r=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,r=this.head;for(;r!=null;){if(r===e)return n;n+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{let n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){let r=this.iterator(),i=r();for(;i;){let o=i.length();if(e<o||n&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){let n=this.iterator(),r=n();for(;r;)e(r),r=n()}forEachAt(e,n,r){if(n<=0)return;let[i,o]=this.find(e),s=e-o,a=this.iterator(i),l=a();for(;l&&s<e+n;){let c=l.length();e>s?r(l,e-s,Math.min(n,s+c-e)):r(l,0,Math.min(c,e+n-s)),s+=c,l=a()}}map(e){return this.reduce((n,r)=>(n.push(e(r)),n),[])}reduce(e,n){let r=this.iterator(),i=r();for(;i;)n=e(n,i),i=r();return n}};function f1(t,e){let n=e.find(t);if(n)return n;try{return e.create(t)}catch{let r=e.create(R.INLINE);return Array.from(t.childNodes).forEach(i=>{r.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}var D5=(()=>{let t=class Ki extends p1{constructor(n,r){super(n,r),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Ki.uiClass&&this.uiNode.classList.add(Ki.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new zb,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{let r=f1(n,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof Yi)return;throw r}})}deleteAt(n,r){if(n===0&&r===this.length())return this.remove();this.children.forEachAt(n,r,(i,o,s)=>{i.deleteAt(o,s)})}descendant(n,r=0){let[i,o]=this.children.find(r);return n.blotName==null&&n(i)||n.blotName!=null&&i instanceof n?[i,o]:i instanceof Ki?i.descendant(n,o):[null,-1]}descendants(n,r=0,i=Number.MAX_VALUE){let o=[],s=i;return this.children.forEachAt(r,i,(a,l,c)=>{(n.blotName==null&&n(a)||n.blotName!=null&&a instanceof n)&&o.push(a),a instanceof Ki&&(o=o.concat(a.descendants(n,l,s))),s-=c}),o}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(r=>{n||this.statics.allowedChildren.some(i=>r instanceof i)||(r.statics.scope===R.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),n=!0):r instanceof Ki?r.unwrap():r.remove())})}formatAt(n,r,i,o){this.children.forEachAt(n,r,(s,a,l)=>{s.formatAt(a,l,i,o)})}insertAt(n,r,i){let[o,s]=this.children.find(n);if(o)o.insertAt(s,r,i);else{let a=i==null?this.scroll.create("text",r):this.scroll.create(r,i);this.appendChild(a)}}insertBefore(n,r){n.parent!=null&&n.parent.children.remove(n);let i=null;this.children.insertBefore(n,r||null),n.parent=this,r!=null&&(i=r.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==i)&&this.domNode.insertBefore(n.domNode,i),n.attach()}length(){return this.children.reduce((n,r)=>n+r.length(),0)}moveChildren(n,r){this.children.forEach(i=>{n.insertBefore(i,r)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(n,r=!1){let[i,o]=this.children.find(n,r),s=[[this,n]];return i instanceof Ki?s.concat(i.path(o,r)):(i!=null&&s.push([i,o]),s)}removeChild(n){this.children.remove(n)}replaceWith(n,r){let i=typeof n=="string"?this.scroll.create(n,r):n;return i instanceof Ki&&this.moveChildren(i),super.replaceWith(i)}split(n,r=!1){if(!r){if(n===0)return this;if(n===this.length())return this.next}let i=this.clone();return this.parent&&this.parent.insertBefore(i,this.next||void 0),this.children.forEachAt(n,this.length(),(o,s,a)=>{let l=o.split(s,r);l!=null&&i.appendChild(l)}),i}splitAfter(n){let r=this.clone();for(;n.next!=null;)r.appendChild(n.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,r){let i=[],o=[];n.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(i.push(...s.addedNodes),o.push(...s.removedNodes))}),o.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;let a=this.scroll.find(s);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),i.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,a)=>s===a?0:s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let a=null;s.nextSibling!=null&&(a=this.scroll.find(s.nextSibling));let l=f1(s,this.scroll);(l.next!==a||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,a||void 0))}),this.enforceAllowedChildren()}};return t.uiClass="",t})(),I5=D5,tn=I5;function S5(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0}var qa=class za extends tn{static create(e){return super.create(e)}static formats(e,n){let r=n.query(za.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Kc(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(r=>{r instanceof za||(r=r.wrap(za.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{let r=this.scroll.query(e,R.INLINE);if(r==null)return;r instanceof $t?this.attributes.attribute(r,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){let e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,i){this.formats()[r]!=null||this.scroll.query(r,R.ATTRIBUTE)?this.isolate(e,n).format(r,i):super.formatAt(e,n,r,i)}optimize(e){super.optimize(e);let n=this.formats();if(Object.keys(n).length===0)return this.unwrap();let r=this.next;r instanceof za&&r.prev===this&&S5(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,n){let r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,n){let r=super.wrap(e,n);return r instanceof za&&this.attributes.move(r),r}};qa.allowedChildren=[qa,lt],qa.blotName="inline",qa.scope=R.INLINE_BLOT,qa.tagName="SPAN";var T5=qa,rp=T5,Ga=class Gb extends tn{static create(e){return super.create(e)}static formats(e,n){let r=n.query(Gb.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Kc(this.domNode)}format(e,n){let r=this.scroll.query(e,R.BLOCK);r!=null&&(r instanceof $t?this.attributes.attribute(r,n):e===this.statics.blotName&&!n?this.replaceWith(Gb.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){let e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,r,i){this.scroll.query(r,R.BLOCK)!=null?this.format(r,i):super.formatAt(e,n,r,i)}insertAt(e,n,r){if(r==null||this.scroll.query(n,R.INLINE)!=null)super.insertAt(e,n,r);else{let i=this.split(e);if(i!=null){let o=this.scroll.create(n,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){let r=super.replaceWith(e,n);return this.attributes.copy(r),r}update(e,n){super.update(e,n),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Ga.blotName="block",Ga.scope=R.BLOCK_BLOT,Ga.tagName="P",Ga.allowedChildren=[rp,Ga,lt];var x5=Ga,as=x5,Wb=class extends tn{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,r,i){super.formatAt(e,n,r,i),this.enforceAllowedChildren()}insertAt(e,n,r){super.insertAt(e,n,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Wb.blotName="container",Wb.scope=R.BLOCK_BLOT;var A5=Wb,Za=A5,Zb=class extends lt{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,r,i){e===0&&n===this.length()?this.format(r,i):super.formatAt(e,n,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}},Be=Zb,M5={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},N5=100,Wa=class extends tn{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,M5),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){let r=this.registry.find(e,n);return r?r.scroll===this?r:n?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,n=R.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,n)}formatAt(e,n,r,i){this.update(),super.formatAt(e,n,r,i)}insertAt(e,n,r){this.update(),super.insertAt(e,n,r)}optimize(e=[],n={}){super.optimize(n);let r=n.mutationsMap||new WeakMap,i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());let o=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(r.has(l.domNode)||r.set(l.domNode,[]),c&&o(l.parent))},s=l=>{r.has(l.domNode)&&(l instanceof tn&&l.children.forEach(s),r.delete(l.domNode),l.optimize(n))},a=e;for(let l=0;a.length>0;l+=1){if(l>=N5)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach(c=>{let u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(o(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(d=>{let h=this.find(d,!1);o(h,!1),h instanceof tn&&h.children.forEach(f=>{o(f,!1)})})):c.type==="attributes"&&o(u.prev)),o(u))}),this.children.forEach(s),a=Array.from(this.observer.takeRecords()),i=a.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();let r=new WeakMap;e.map(i=>{let o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),n),this.optimize(e,n)}};Wa.blotName="scroll",Wa.defaultChild=as,Wa.allowedChildren=[as,Za],Wa.scope=R.BLOCK_BLOT,Wa.tagName="DIV";var O5=Wa,Yc=O5,Kb=class g1 extends lt{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,r){r==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g1&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}let r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,n){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Kb.blotName="text",Kb.scope=R.INLINE_BLOT;var k5=Kb,Ka=k5;var no=an(gn(),1);var Ue=an(gn(),1);var R0=an(gn(),1);var Yq=(()=>{class t extends Be{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return t.blotName="break",t.tagName="BR",t})(),Lt=Yq;var Je=class extends Ka{},Qq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gs(t){return t.replace(/[&<>"']/g,e=>Qq[e])}var Xq=(()=>{class t extends rp{static allowedChildren=[t,Lt,Be,Je];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(n,r){let i=t.order.indexOf(n),o=t.order.indexOf(r);return i>=0||o>=0?i-o:n===r?0:n<r?-1:1}formatAt(n,r,i,o){if(t.compare(this.statics.blotName,i)<0&&this.scroll.query(i,R.BLOT)){let s=this.isolate(n,r);o&&s.wrap(i,o)}else super.formatAt(n,r,i,o)}optimize(n){if(super.optimize(n),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){let r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}return t})(),Ft=Xq;var JA=1,et=(()=>{class t extends as{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=P0(this)),this.cache.delta}deleteAt(n,r){super.deleteAt(n,r),this.cache={}}formatAt(n,r,i,o){r<=0||(this.scroll.query(i,R.BLOCK)?n+r===this.length()&&this.format(i,o):super.formatAt(n,Math.min(r,this.length()-n-1),i,o),this.cache={})}insertAt(n,r,i){if(i!=null){super.insertAt(n,r,i),this.cache={};return}if(r.length===0)return;let o=r.split(`
`),s=o.shift();s.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let a=this;o.reduce((l,c)=>(a=a.split(l,!0),a.insertAt(0,c),c.length),n+s.length)}insertBefore(n,r){let{head:i}=this.children;super.insertBefore(n,r),i instanceof Lt&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+JA),this.cache.length}moveChildren(n,r){super.moveChildren(n,r),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(n===0||n>=this.length()-JA)){let o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}let i=super.split(n,r);return this.cache={},i}}return t.blotName="block",t.tagName="P",t.defaultChild=Lt,t.allowedChildren=[Lt,Ft,Be,Je],t})(),gt=class extends Be{attach(){super.attach(),this.attributes=new Kc(this.domNode)}delta(){return new R0.default().insert(this.value(),S(S({},this.formats()),this.attributes.values()))}format(e,n){let r=this.scroll.query(e,R.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,n)}formatAt(e,n,r,i){this.format(r,i)}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r);return}let i=n.split(`
`),o=i.pop(),s=i.map(l=>{let c=this.scroll.create(et.blotName);return c.insertAt(0,l),c}),a=this.split(e);s.forEach(l=>{this.parent.insertBefore(l,a)}),o&&this.parent.insertBefore(this.scroll.create("text",o),a)}};gt.scope=R.BLOCK_BLOT;function P0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(lt).reduce((n,r)=>r.length()===0?n:n.insert(r.value(),rn(r,{},e)),new R0.default).insert(`
`,rn(t))}function rn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e=S(S({},e),t.formats()),n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:rn(t.parent,e,n)}var Jq=(()=>{class t extends Be{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(n,r,i){super(n,r),this.selection=i,this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,r){if(this.savedLength!==0){super.format(n,r);return}let i=this,o=0;for(;i!=null&&i.statics.scope!==R.BLOCK_BLOT;)o+=i.offset(i.parent),i=i.parent;i!=null&&(this.savedLength=t.CONTENTS.length,i.optimize(),i.formatAt(o,t.CONTENTS.length,n,r),this.savedLength=0)}index(n,r){return n===this.textNode?0:super.index(n,r)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;let n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);let r=this.prev instanceof Je?this.prev:null,i=r?r.length():0,o=this.next instanceof Je?this.next:null,s=o?o.text:"",{textNode:a}=this,l=a.data.split(t.CONTENTS).join("");a.data=t.CONTENTS;let c;if(r)c=r,(l||o)&&(r.insertAt(r.length(),l+s),o&&o.remove());else if(o)c=o,o.insertAt(0,l);else{let u=document.createTextNode(l);c=this.scroll.create(u),this.parent.insertBefore(c,this)}if(this.remove(),n){let u=(f,p)=>r&&f===r.domNode?p:f===a?i+p-1:o&&f===o.domNode?i+l.length+p:null,d=u(n.start.node,n.start.offset),h=u(n.end.node,n.end.offset);if(d!==null&&h!==null)return{startNode:c.domNode,startOffset:d,endNode:c.domNode,endOffset:h}}return null}update(n,r){if(n.some(i=>i.type==="characterData"&&i.target===this.textNode)){let i=this.restore();i&&(r.range=i)}}optimize(n){super.optimize(n);let{parent:r}=this;for(;r;){if(r.domNode.tagName==="A"){this.savedLength=t.CONTENTS.length,r.isolate(this.offset(r),this.length()).unwrap(),this.savedLength=0;break}r=r.parent}}value(){return""}}return t})(),to=Jq;var F0=an(tM(),1);var lu=new WeakMap;var j0=["error","warn","log","info"],V0="warn";function nM(t){if(V0&&j0.indexOf(t)<=j0.indexOf(V0)){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];console[t](...n)}}function B0(t){return j0.reduce((e,n)=>(e[n]=nM.bind(console,n,t),e),{})}B0.level=t=>{V0=t};nM.level=B0.level;var yn=B0;var U0=yn("quill:events"),n6=["selectionchange","mousedown","mouseup","click"];n6.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{let o=lu.get(i);o&&o.emitter&&o.emitter.handleDOM(...n)})})});var r6=(()=>{class t extends F0.default{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",U0.error)}emit(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return U0.log.call(U0,...r),super.emit(...r)}handleDOM(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(this.domListeners[n.type]||[]).forEach(s=>{let{node:a,handler:l}=s;(n.target===a||a.contains(n.target))&&l(n,...i)})}listenDOM(n,r,i){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:r,handler:i})}}return t})(),F=r6;var H0=yn("quill:selection"),Gt=class{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}},q0=class{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Gt(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,F.sources.USER),1)}),this.emitter.on(F.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;let r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(F.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);let s=o.some(a=>a.type==="characterData"||a.type==="childList"||a.type==="attributes"&&a.target===this.root);this.update(s?F.sources.SILENT:i)}catch{}})}),this.emitter.on(F.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){let{startNode:o,startOffset:s,endNode:a,endOffset:l}=i.range;this.setNativeRange(o,s,a,l),this.update(F.sources.SILENT)}}),this.update(F.sources.SILENT)}handleComposition(){this.emitter.on(F.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(F.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){let e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(F.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();let r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,R.BLOCK))){if(r.start.node!==this.cursor.textNode){let i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof lt){let o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;let i,[o,s]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&s===o.length()){let[u]=this.scroll.leaf(e+1);if(u){let[d]=this.scroll.line(e),[h]=this.scroll.line(e+1);d===h&&(o=u,s=0)}}[i,s]=o.position(s,!0);let a=document.createRange();if(n>0)return a.setStart(i,s),[o,s]=this.scroll.leaf(e+n),o==null?null:([i,s]=o.position(s,!0),a.setEnd(i,s),a.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(a.setStart(i,s),a.setEnd(i,s+1)):(a.setStart(i,s-1),a.setEnd(i,s),l="right"),c=a.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;c=o.domNode.getBoundingClientRect(),s>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){let e=document.getSelection();if(e==null||e.rangeCount<=0)return null;let n=e.getRangeAt(0);if(n==null)return null;let r=this.normalizeNative(n);return H0.info("getNativeRange",r),r}getRange(){let e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];let n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&$0(this.root,document.activeElement)}normalizedToRange(e){let n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);let r=n.map(s=>{let[a,l]=s,c=this.scroll.find(a,!0),u=c.offset(this.scroll);return l===0?u:c instanceof lt?u+c.index(a,l):u+c.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new Gt(o,i-o)}normalizeNative(e){if(!$0(this.root,e.startContainer)||!e.collapsed&&!$0(this.root,e.endContainer))return null;let n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),n}rangeToNative(e){let n=this.scroll.length(),r=(i,o)=>{i=Math.min(n-1,i);let[s,a]=this.scroll.leaf(i);return s?s.position(a,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(H0.info("setNativeRange",e,n,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;let s=document.getSelection();if(s!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});let{native:a}=this.getNativeRange()||{};if(a==null||o||e!==a.startContainer||n!==a.startOffset||r!==a.endContainer||i!==a.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);let l=document.createRange();l.setStart(e,n),l.setEnd(r,i),s.removeAllRanges(),s.addRange(l)}}else s.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.sources.API;if(typeof n=="string"&&(r=n,n=!1),H0.info("setRange",e),e!=null){let i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.sources.USER,n=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!ss(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){let s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}let o=[F.events.SELECTION_CHANGE,xr(this.lastRange),xr(n),e];this.emitter.emit(F.events.EDITOR_CHANGE,...o),e!==F.sources.SILENT&&this.emitter.emit(...o)}}};function $0(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}var rM=q0;var i6=/^[ -~]*$/,G0=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();let r=iM(e),i=new Ue.default;return s6(r.ops.slice()).reduce((s,a)=>{let l=Ue.Op.length(a),c=a.attributes||{},u=!1,d=!1;if(a.insert!=null){if(i.retain(l),typeof a.insert=="string"){let p=a.insert;d=!p.endsWith(`
`)&&(n<=s||!!this.scroll.descendant(gt,s)[0]),this.scroll.insertAt(s,p);let[m,v]=this.scroll.line(s),g=en({},rn(m));if(m instanceof et){let[E]=m.descendant(lt,v);E&&(g=en(g,rn(E)))}c=Ue.AttributeMap.diff(g,c)||{}}else if(typeof a.insert=="object"){let p=Object.keys(a.insert)[0];if(p==null)return s;let m=this.scroll.query(p,R.INLINE)!=null;if(m)(n<=s||this.scroll.descendant(gt,s)[0])&&(d=!0);else if(s>0){let[v,g]=this.scroll.descendant(lt,s-1);v instanceof Je?v.value()[g]!==`
`&&(u=!0):v instanceof Be&&v.statics.scope===R.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(s,p,a.insert[p]),m){let[v]=this.scroll.descendant(lt,s);if(v){let g=en({},rn(v));c=Ue.AttributeMap.diff(g,c)||{}}}}n+=l}else if(i.push(a),a.retain!==null&&typeof a.retain=="object"){let p=Object.keys(a.retain)[0];if(p==null)return s;this.scroll.updateEmbedAt(s,p,a.retain[p])}Object.keys(c).forEach(p=>{this.scroll.formatAt(s,l,p,c[p])});let h=u?1:0,f=d?1:0;return n+=h+f,i.retain(h),i.delete(f),s+l+h+f},0),i.reduce((s,a)=>typeof a.delete=="number"?(this.scroll.deleteAt(s,a.delete),s):s+Ue.Op.length(a),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Ue.default().retain(e).delete(n))}formatLine(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(s=>{s.format(o,r[o])})}),this.scroll.optimize();let i=new Ue.default().retain(e).retain(n,xr(r));return this.update(i)}formatText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,n,o,r[o])});let i=new Ue.default().retain(e).retain(n,xr(r));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Ue.default)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];n===0?this.scroll.path(e).forEach(a=>{let[l]=a;l instanceof et?r.push(l):l instanceof lt&&i.push(l)}):(r=this.scroll.lines(e,n),i=this.scroll.descendants(lt,e,n));let[o,s]=[r,i].map(a=>{let l=a.shift();if(l==null)return{};let c=rn(l);for(;Object.keys(c).length>0;){let u=a.shift();if(u==null)return c;c=o6(rn(u),c)}return c});return S(S({},o),s)}getHTML(e,n){let[r,i]=this.scroll.line(e);if(r){let o=r.length();return r.length()>=i+n&&!(i===0&&n===o)?cu(r,i,n,!0):cu(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,n){let r=iM(n),i=new Ue.default().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,n,r){return this.scroll.insertAt(e,n,r),this.update(new Ue.default().retain(e).insert({[n]:r}))}insertText(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,n.length,i,r[i])}),this.update(new Ue.default().retain(e).insert(n,xr(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;let e=this.scroll.children.head;if(e?.statics.blotName!==et.blotName)return!1;let n=e;return n.children.length>1?!1:n.children.head instanceof Lt}removeFormat(e,n){let r=this.getText(e,n),[i,o]=this.scroll.line(e+n),s=0,a=new Ue.default;i!=null&&(s=i.length()-o,a=i.delta().slice(o,o+s-1).insert(`
`));let c=this.getContents(e,n+s).diff(new Ue.default().insert(r).concat(a)),u=new Ue.default().retain(e).concat(c);return this.applyDelta(u)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(i6)&&this.scroll.find(n[0].target)){let o=this.scroll.find(n[0].target),s=rn(o),a=o.offset(this.scroll),l=n[0].oldValue.replace(to.CONTENTS,""),c=new Ue.default().insert(l),u=new Ue.default().insert(o.value()),d=r&&{oldRange:oM(r.oldRange,-a),newRange:oM(r.newRange,-a)};e=new Ue.default().retain(a).concat(c.diff(u,d)).reduce((f,p)=>p.insert?f.insert(p.insert,s):f.push(p),new Ue.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!ss(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}};function rl(t,e,n){if(t.length===0){let[f]=z0(n.pop());return e<=0?`</li></${f}>`:`</li></${f}>${rl([],e-1,n)}`}let[{child:r,offset:i,length:o,indent:s,type:a},...l]=t,[c,u]=z0(a);if(s>e)return n.push(a),s===e+1?`<${c}><li${u}>${cu(r,i,o)}${rl(l,s,n)}`:`<${c}><li>${rl(t,e+1,n)}`;let d=n[n.length-1];if(s===e&&a===d)return`</li><li${u}>${cu(r,i,o)}${rl(l,s,n)}`;let[h]=z0(n.pop());return`</li></${h}>${rl(t,e-1,n)}`}function cu(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof Je)return gs(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof tn){if(t.statics.blotName==="list-container"){let c=[];return t.children.forEachAt(e,n,(u,d,h)=>{let f="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:d,length:h,indent:f.indent||0,type:f.list})}),rl(c,-1,[])}let i=[];if(t.children.forEachAt(e,n,(c,u,d)=>{i.push(cu(c,u,d))}),r||t.statics.blotName==="list")return i.join("");let{outerHTML:o,innerHTML:s}=t.domNode,[a,l]=o.split(`>${s}<`);return a==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function o6(t,e){return Object.keys(e).reduce((n,r)=>{if(t[r]==null)return n;let i=e[r];return i===t[r]?n[r]=i:Array.isArray(i)?i.indexOf(t[r])<0?n[r]=i.concat([t[r]]):n[r]=i:n[r]=[i,t[r]],n},{})}function z0(t){let e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function iM(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){let r=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,n.attributes)}return e.push(n)},new Ue.default)}function oM(t,e){let{index:n,length:r}=t;return new Gt(n+e,r)}function s6(t){let e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}var sM=G0;var a6=(()=>{class t{static DEFAULTS={};constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=r}}return t})(),We=a6;var xp="\uFEFF",W0=class extends Be{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(xp),this.rightGuard=document.createTextNode(xp),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,r,i=e.data.split(xp).join("");if(e===this.leftGuard)if(this.prev instanceof Je){let o=this.prev.length();this.prev.insertAt(o,i),n={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),n={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Je?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),n={startNode:r,startOffset:i.length}));return e.data=xp,n}update(e,n){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){let i=this.restore(r.target);i&&(n.range=i)}})}},il=W0;var Z0=class{isComposing=!1;constructor(e,n){this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){let n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof il)&&(this.emitter.emit(F.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(F.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(F.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(F.events.COMPOSITION_END,e),this.isComposing=!1}},aM=Z0;var l6=(()=>{class t{static DEFAULTS={modules:{}};static themes={default:t};modules={};constructor(n,r){this.quill=n,this.options=r}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){let r=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new r(this.quill,this.options.modules[n]||{}),this.modules[n]}}return t})(),ol=l6;var c6=t=>t.parentElement||t.getRootNode().host||null,u6=t=>{let e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,r="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*r,left:e.left}},Ap=t=>{let e=parseInt(t,10);return Number.isNaN(e)?0:e},lM=(t,e,n,r,i,o)=>t<n&&e>r?0:t<n?-(n-t+i):e>r?e-t>r-n?t+i-n:e-r+o:0,d6=(t,e)=>{let n=t.ownerDocument,r=e,i=t;for(;i;){let o=i===n.body,s=o?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:u6(i),a=getComputedStyle(i),l=lM(r.left,r.right,s.left,s.right,Ap(a.scrollPaddingLeft),Ap(a.scrollPaddingRight)),c=lM(r.top,r.bottom,s.top,s.bottom,Ap(a.scrollPaddingTop),Ap(a.scrollPaddingBottom));if(l||c)if(o)n.defaultView?.scrollBy(l,c);else{let{scrollLeft:u,scrollTop:d}=i;c&&(i.scrollTop+=c),l&&(i.scrollLeft+=l);let h=i.scrollLeft-u,f=i.scrollTop-d;r={left:r.left-h,top:r.top-f,right:r.right-h,bottom:r.bottom-f}}i=o||a.position==="fixed"?null:c6(i)}},cM=d6;var f6=100,h6=["block","break","cursor","inline","scroll","text"],p6=(t,e,n)=>{let r=new Qi;return h6.forEach(i=>{let o=e.query(i);o&&r.register(o)}),t.forEach(i=>{let o=e.query(i);o||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,s+=1,s>f6){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},uM=p6;var sl=yn("quill"),Mp=new Qi;tn.uiClass="ql-ui";var D=class t{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Mp,theme:"default"};static events=F.events;static sources=F.sources;static version="2.0.3";static imports={delta:no.default,parchment:Qc,"core/module":We,"core/theme":ol};static debug(e){e===!0&&(e="log"),yn.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return lu.get(e)||Mp.find(e,n)}static import(e){return this.imports[e]==null&&sl.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){let e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{let e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&sl.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Mp.register(n),typeof n.register=="function"&&n.register(Mp)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=m6(e,n),this.container=this.options.container,this.container==null){sl.error("Invalid Quill container",e);return}this.options.debug&&t.debug(this.options.debug);let r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",lu.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new F;let i=Yc.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new sM(this.scroll),this.selection=new rM(this.scroll,this.emitter),this.composition=new aM(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(F.events.EDITOR_CHANGE,s=>{s===F.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(F.events.SCROLL_UPDATE,(s,a)=>{let l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;ir.call(this,()=>this.editor.update(null,a,u),s)}),this.emitter.on(F.events.SCROLL_EMBED_UPDATE,(s,a)=>{let l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;ir.call(this,()=>{let d=new no.default().retain(s.offset(this)).retain({[s.statics.blotName]:a});return this.editor.update(d,[],u)},t.sources.USER)}),r){let s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){let r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,r){return[e,n,,r]=pi(e,n,r),ir.call(this,()=>this.editor.deleteText(e,n),r,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;let n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F.sources.API;return ir.call(this,()=>{let i=this.getSelection(!0),o=new no.default;if(i==null)return o;if(this.scroll.query(e,R.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,F.sources.SILENT),o},r)}formatLine(e,n,r,i,o){let s;return[e,n,s,o]=pi(e,n,r,i,o),ir.call(this,()=>this.editor.formatLine(e,n,s),o,e,0)}formatText(e,n,r,i,o){let s;return[e,n,s,o]=pi(e,n,r,i,o),ir.call(this,()=>this.editor.formatText(e,n,s),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,n):r=this.selection.getBounds(e.index,e.length),!r)return null;let i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=pi(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=pi(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=pi(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.sources.API;return ir.call(this,()=>this.editor.insertEmbed(e,n,r),i,e)}insertText(e,n,r,i,o){let s;return[e,,s,o]=pi(e,0,r,i,o),ir.call(this,()=>this.editor.insertText(e,n,s),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,r){return[e,n,,r]=pi(e,n,r),ir.call(this,()=>this.editor.removeFormat(e,n),r,e)}scrollRectIntoView(e){cM(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){let e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F.sources.API;return ir.call(this,()=>{e=new no.default(e);let r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(s)},n)}setSelection(e,n,r){e==null?this.selection.setRange(null,n||t.sources.API):([e,n,,r]=pi(e,n,r),this.selection.setRange(new Gt(Math.max(0,e),n),r),r!==F.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F.sources.API,r=new no.default().insert(e);return this.setContents(r,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F.sources.USER,n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F.sources.API;return ir.call(this,()=>(e=new no.default(e),this.editor.applyDelta(e)),n,!0)}};function dM(t){return typeof t=="string"?document.querySelector(t):t}function K0(t){return Object.entries(t??{}).reduce((e,n)=>{let[r,i]=n;return W(S({},e),{[r]:i===!0?{}:i})},{})}function fM(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function m6(t,e){let n=dM(t);if(!n)throw new Error("Invalid Quill container");let i=!e.theme||e.theme===D.DEFAULTS.theme?ol:D.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);let f=D.DEFAULTS,{modules:o}=f,s=tm(f,["modules"]),p=i.DEFAULTS,{modules:a}=p,l=tm(p,["modules"]),c=K0(e.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c=W(S({},c),{toolbar:{container:c.toolbar}}));let u=en({},K0(o),K0(a),c),d=S(S(S({},s),fM(l)),fM(e)),h=e.registry;return h?e.formats&&sl.warn('Ignoring "formats" option because "registry" is specified'):h=e.formats?uM(e.formats,d.registry,sl):d.registry,W(S({},d),{registry:h,container:n,theme:i,modules:Object.entries(u).reduce((m,v)=>{let[g,E]=v;if(!E)return m;let _=D.import(`modules/${g}`);return _==null?(sl.error(`Cannot load ${g} module. Are you sure you registered it?`),m):W(S({},m),{[g]:en({},_.DEFAULTS||{},E)})},{}),bounds:dM(d.bounds)})}function ir(t,e,n,r){if(!this.isEnabled()&&e===F.sources.USER&&!this.allowReadOnlyEdits)return new no.default;let i=n==null?null:this.getSelection(),o=this.editor.delta,s=t();if(i!=null&&(n===!0&&(n=i.index),r==null?i=hM(i,s,e):r!==0&&(i=hM(i,n,r,e)),this.setSelection(i,F.sources.SILENT)),s.length()>0){let a=[F.events.TEXT_CHANGE,s,o,e];this.emitter.emit(F.events.EDITOR_CHANGE,...a),e!==F.sources.SILENT&&this.emitter.emit(...a)}return s}function pi(t,e,n,r,i){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=r,r=n,n=e,e=0),typeof n=="object"?(o=n,i=r):typeof n=="string"&&(r!=null?o[n]=r:i=n),i=i||F.sources.API,[t,e,o,i]}function hM(t,e,n,r){let i=typeof n=="number"?n:0;if(t==null)return null;let o,s;return e&&typeof e.transformPosition=="function"?[o,s]=[t.index,t.index+t.length].map(a=>e.transformPosition(a,r!==F.sources.USER)):[o,s]=[t.index,t.index+t.length].map(a=>a<e||a===e&&r===F.sources.USER?a:i>=0?a+i:Math.max(e,a+i)),new Gt(o,s-o)}var Y0=class extends Za{},Ln=Y0;var Fn=an(gn(),1);function pM(t){return t instanceof et||t instanceof gt}function mM(t){return typeof t.updateContent=="function"}var g6=(()=>{class t extends Yc{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=et;static allowedChildren=[et,gt,Ln];constructor(n,r,i){let{emitter:o}=i;super(n,r),this.emitter=o,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;let n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(F.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(F.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,r){this.emitter.emit(F.events.SCROLL_EMBED_UPDATE,n,r)}deleteAt(n,r){let[i,o]=this.line(n),[s]=this.line(n+r);if(super.deleteAt(n,r),s!=null&&i!==s&&o>0){if(i instanceof gt||s instanceof gt){this.optimize();return}let a=s.children.head instanceof Lt?null:s.children.head;i.moveChildren(s,a),i.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,r,i,o){super.formatAt(n,r,i,o),this.optimize()}insertAt(n,r,i){if(n>=this.length())if(i==null||this.scroll.query(r,R.BLOCK)==null){let o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o),i==null&&r.endsWith(`
`)?o.insertAt(0,r.slice(0,-1),i):o.insertAt(0,r,i)}else{let o=this.scroll.create(r,i);this.appendChild(o)}else super.insertAt(n,r,i);this.optimize()}insertBefore(n,r){if(n.statics.scope===R.INLINE_BLOT){let i=this.scroll.create(this.statics.defaultChild.blotName);i.appendChild(n),super.insertBefore(i,r)}else super.insertBefore(n,r)}insertContents(n,r){let i=this.deltaToRenderBlocks(r.concat(new Fn.default().insert(`
`))),o=i.pop();if(o==null)return;this.batchStart();let s=i.shift();if(s){let c=s.type==="block"&&(s.delta.length()===0||!this.descendant(gt,n)[0]&&n<this.length()),u=s.type==="block"?s.delta:new Fn.default().insert({[s.key]:s.value});Q0(this,n,u);let d=s.type==="block"?1:0,h=n+u.length()+d;c&&this.insertAt(h-1,`
`);let f=rn(this.line(n)[0]),p=Fn.AttributeMap.diff(f,s.attributes)||{};Object.keys(p).forEach(m=>{this.formatAt(h-1,1,m,p[m])}),n=h}let[a,l]=this.children.find(n);if(i.length&&(a&&(a=a.split(l),l=0),i.forEach(c=>{if(c.type==="block"){let u=this.createBlock(c.attributes,a||void 0);Q0(u,0,c.delta)}else{let u=this.create(c.key,c.value);this.insertBefore(u,a||void 0),Object.keys(c.attributes).forEach(d=>{u.format(d,c.attributes[d])})}})),o.type==="block"&&o.delta.length()){let c=a?a.offset(a.scroll)+l:this.length();Q0(this,c,o.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){let r=this.path(n).pop();if(!r)return[null,-1];let[i,o]=r;return i instanceof lt?[i,o]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(pM,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=(o,s,a)=>{let l=[],c=a;return o.children.forEachAt(s,a,(u,d,h)=>{pM(u)?l.push(u):u instanceof Za&&(l=l.concat(i(u,d,c))),c-=h}),l};return i(this,n,r)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,r),n.length>0&&this.emitter.emit(F.events.SCROLL_OPTIMIZE,n,r))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let r=F.sources.USER;typeof n=="string"&&(r=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(i=>{let{target:o}=i,s=this.find(o,!0);return s&&!mM(s)}),n.length>0&&this.emitter.emit(F.events.SCROLL_BEFORE_UPDATE,r,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(F.events.SCROLL_UPDATE,r,n)}updateEmbedAt(n,r,i){let[o]=this.descendant(s=>s instanceof gt,n);o&&o.statics.blotName===r&&mM(o)&&o.updateContent(i)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){let r=[],i=new Fn.default;return n.forEach(o=>{let s=o?.insert;if(s)if(typeof s=="string"){let a=s.split(`
`);a.slice(0,-1).forEach(c=>{i.insert(c,o.attributes),r.push({type:"block",delta:i,attributes:o.attributes??{}}),i=new Fn.default});let l=a[a.length-1];l&&i.insert(l,o.attributes)}else{let a=Object.keys(s)[0];if(!a)return;this.query(a,R.INLINE)?i.push(o):(i.length()&&r.push({type:"block",delta:i,attributes:{}}),i=new Fn.default,r.push({type:"blockEmbed",key:a,value:s[a],attributes:o.attributes??{}}))}}),i.length()&&r.push({type:"block",delta:i,attributes:{}}),r}createBlock(n,r){let i,o={};Object.entries(n).forEach(l=>{let[c,u]=l;this.query(c,R.BLOCK&R.BLOT)!=null?i=c:o[c]=u});let s=this.create(i||this.statics.defaultChild.blotName,i?n[i]:void 0);this.insertBefore(s,r||void 0);let a=s.length();return Object.entries(o).forEach(l=>{let[c,u]=l;s.formatAt(0,a,c,u)}),s}}return t})();function Q0(t,e,n){n.reduce((r,i)=>{let o=Fn.Op.length(i),s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){let a=i.insert;t.insertAt(r,a);let[l]=t.descendant(lt,r),c=rn(l);s=Fn.AttributeMap.diff(c,s)||{}}else if(typeof i.insert=="object"){let a=Object.keys(i.insert)[0];if(a==null)return r;if(t.insertAt(r,a,i.insert[a]),t.scroll.query(a,R.INLINE)!=null){let[c]=t.descendant(lt,r),u=rn(c);s=Fn.AttributeMap.diff(u,s)||{}}}}return Object.keys(s).forEach(a=>{t.formatAt(r,o,a,s[a])}),r+o},e)}var gM=g6;var on=an(gn(),1);var X0={scope:R.BLOCK,whitelist:["right","center","justify"]},yM=new $t("align","align",X0),J0=new at("align","ql-align",X0),Np=new nn("align","text-align",X0);var uu=class extends nn{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}},vM=new at("color","ql-color",{scope:R.INLINE}),du=new uu("color","color",{scope:R.INLINE});var bM=new at("background","ql-bg",{scope:R.INLINE}),fu=new uu("background","background-color",{scope:R.INLINE});var Mr=class extends Ln{static create(e){let n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${gs(this.code(e,n))}
</pre>`}},Et=(()=>{class t extends et{static TAB="  ";static register(){D.register(Mr)}}return t})(),EM=(()=>{class t extends Ft{}return t.blotName="code",t.tagName="CODE",t})();Et.blotName="code-block";Et.className="ql-code-block";Et.tagName="DIV";Mr.blotName="code-block-container";Mr.className="ql-code-block-container";Mr.tagName="DIV";Mr.allowedChildren=[Et];Et.allowedChildren=[Je,Lt,to];Et.requiredContainer=Mr;var eE={scope:R.BLOCK,whitelist:["rtl"]},Op=new $t("direction","dir",eE),tE=new at("direction","ql-direction",eE),kp=new nn("direction","direction",eE);var _M={scope:R.INLINE,whitelist:["serif","monospace"]},rE=new at("font","ql-font",_M),nE=class extends nn{value(e){return super.value(e).replace(/["']/g,"")}},Rp=new nE("font","font-family",_M);var iE=new at("size","ql-size",{scope:R.INLINE,whitelist:["small","large","huge"]}),Pp=new nn("size","font-size",{scope:R.INLINE,whitelist:["10px","18px","32px"]});var Vt=an(gn(),1);var y6=yn("quill:keyboard"),v6=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",hu=class t extends We{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!n[r]!==e[r]&&n[r]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=E6(e);if(i==null){y6.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{let a=S(S(W(S({},i),{key:s}),n),r);this.bindings[a.key]=this.bindings[a.key]||[],this.bindings[a.key].push(a)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;let i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(g=>t.match(e,g));if(i.length===0)return;let o=D.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;let s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;let[a,l]=this.quill.getLine(s.index),[c,u]=this.quill.getLeaf(s.index),[d,h]=s.length===0?[c,u]:this.quill.getLeaf(s.index+s.length),f=c instanceof Ka?c.value().slice(0,u):"",p=d instanceof Ka?d.value().slice(h):"",m={collapsed:s.length===0,empty:s.length===0&&a.length()<=1,format:this.quill.getFormat(s),line:a,offset:l,prefix:f,suffix:p,event:e};i.some(g=>{if(g.collapsed!=null&&g.collapsed!==m.collapsed||g.empty!=null&&g.empty!==m.empty||g.offset!=null&&g.offset!==m.offset)return!1;if(Array.isArray(g.format)){if(g.format.every(E=>m.format[E]==null))return!1}else if(typeof g.format=="object"&&!Object.keys(g.format).every(E=>g.format[E]===!0?m.format[E]!=null:g.format[E]===!1?m.format[E]==null:ss(g.format[E],m.format[E])))return!1;return g.prefix!=null&&!g.prefix.test(m.prefix)||g.suffix!=null&&!g.suffix.test(m.suffix)?!1:g.handler.call(this,s,m,g)!==!0})&&e.preventDefault()})}handleBackspace(e,n){let r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={},[o]=this.quill.getLine(e.index),s=new Vt.default().retain(e.index-r).delete(r);if(n.offset===0){let[a]=this.quill.getLine(e.index-1);if(a&&!(a.statics.blotName==="block"&&a.length()<=1)){let c=o.formats(),u=this.quill.getFormat(e.index-1,1);if(i=Vt.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){let d=new Vt.default().retain(e.index+o.length()-2).retain(1,i);s=s.compose(d)}}}this.quill.updateContents(s,D.sources.USER),this.quill.focus()}handleDelete(e,n){let r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={},[o]=this.quill.getLine(e.index),s=new Vt.default().retain(e.index).delete(r);if(n.offset>=o.length()-1){let[a]=this.quill.getLine(e.index+1);if(a){let l=o.formats(),c=this.quill.getFormat(e.index,1);i=Vt.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(s=s.retain(a.length()-1).retain(1,i))}}this.quill.updateContents(s,D.sources.USER),this.quill.focus()}handleDeleteRange(e){pu({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){let r=Object.keys(n.format).reduce((o,s)=>(this.quill.scroll.query(s,R.BLOCK)&&!Array.isArray(n.format[s])&&(o[s]=n.format[s]),o),{}),i=new Vt.default().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,D.sources.USER),this.quill.setSelection(e.index+1,D.sources.SILENT),this.quill.focus()}},b6={bindings:{bold:oE("bold"),italic:oE("italic"),underline:oE("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",D.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",D.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",D.sources.USER):e.format.list!=null&&this.quill.format("list",!1,D.sources.USER)}},"indent code-block":wM(!0),"outdent code-block":wM(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,D.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();let n=new Vt.default().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,D.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,D.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,D.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){let n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,D.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){let[e,n]=this.quill.getLine(t.index),r=W(S({},e.formats()),{list:"checked"}),i=new Vt.default().retain(t.index).insert(`
`,r).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,D.sources.USER),this.quill.setSelection(t.index+1,D.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){let[n,r]=this.quill.getLine(t.index),i=new Vt.default().retain(t.index).insert(`
`,e.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,D.sources.USER),this.quill.setSelection(t.index+1,D.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){let e=this.quill.getModule("table");if(e){let[n,r,i,o]=e.getTable(t),s=_6(n,r,i,o);if(s==null)return;let a=n.offset();if(s<0){let l=new Vt.default().retain(a).insert(`
`);this.quill.updateContents(l,D.sources.USER),this.quill.setSelection(t.index+1,t.length,D.sources.SILENT)}else if(s>0){a+=n.length();let l=new Vt.default().retain(a).insert(`
`);this.quill.updateContents(l,D.sources.USER),this.quill.setSelection(a,D.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){let{event:n,line:r}=e,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,D.sources.USER):this.quill.setSelection(i+r.length(),D.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;let{length:n}=e.prefix,[r,i]=this.quill.getLine(t.index);if(i>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",D.sources.USER),this.quill.history.cutoff();let s=new Vt.default().retain(t.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(s,D.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,D.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){let[e,n]=this.quill.getLine(t.index),r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){let o=new Vt.default().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,D.sources.USER),this.quill.setSelection(t.index-1,D.sources.SILENT),!1}return!0}},"embed left":Lp("ArrowLeft",!1),"embed left shift":Lp("ArrowLeft",!0),"embed right":Lp("ArrowRight",!1),"embed right shift":Lp("ArrowRight",!0),"table down":CM(!1),"table up":CM(!0)}};hu.DEFAULTS=b6;function wM(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:r}=n,i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,D.sources.USER),this.quill.setSelection(e.index+o.length,D.sources.SILENT);return}let s=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e),{index:a,length:l}=e;s.forEach((c,u)=>{t?(c.insertAt(0,o),u===0?a+=o.length:l+=o.length):c.domNode.textContent.startsWith(o)&&(c.deleteAt(0,o.length),u===0?a-=o.length:l-=o.length)}),this.quill.update(D.sources.USER),this.quill.setSelection(a,l,D.sources.SILENT)}}}function Lp(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;t==="ArrowRight"&&(i+=r.length+1);let[o]=this.quill.getLeaf(i);return o instanceof Be?(t==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,D.sources.USER):this.quill.setSelection(r.index-1,D.sources.USER):e?this.quill.setSelection(r.index,r.length+1,D.sources.USER):this.quill.setSelection(r.index+r.length+1,D.sources.USER),!1):!0}}}function oE(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],D.sources.USER)}}}function CM(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){let r=t?"prev":"next",i=n.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let s=o.children.head,a=i;for(;a.prev!=null;)a=a.prev,s=s.next;let l=s.offset(this.quill.scroll)+Math.min(n.offset,s.length()-1);this.quill.setSelection(l,0,D.sources.USER)}}else{let s=i.table()[r];s!=null&&(t?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,D.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,D.sources.USER))}return!1}}}function E6(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=xr(t);else return null;return t.shortKey&&(t[v6]=t.shortKey,delete t.shortKey),t}function pu(t){let{quill:e,range:n}=t,r=e.getLines(n),i={};if(r.length>1){let o=r[0].formats(),s=r[r.length-1].formats();i=Vt.AttributeMap.diff(s,o)||{}}e.deleteText(n,D.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,D.sources.USER),e.setSelection(n.index,D.sources.SILENT)}function _6(t,e,n,r){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?r===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}var w6=/font-weight:\s*normal/,C6=["P","OL","UL"],DM=t=>t&&C6.includes(t.tagName),D6=t=>{Array.from(t.querySelectorAll("br")).filter(e=>DM(e.previousElementSibling)&&DM(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},I6=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(w6)).forEach(e=>{let n=t.createDocumentFragment();n.append(...e.childNodes),e.parentNode?.replaceChild(n,e)})};function sE(t){t.querySelector('[id^="docs-internal-guid-"]')&&(I6(t),D6(t))}var S6=/\bmso-list:[^;]*ignore/i,T6=/\bmso-list:[^;]*\bl(\d+)/i,x6=/\bmso-list:[^;]*\blevel(\d+)/i,A6=(t,e)=>{let n=t.getAttribute("style"),r=n?.match(T6);if(!r)return null;let i=Number(r[1]),o=n?.match(x6),s=o?Number(o[1]):1,a=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=e.match(a),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:c,element:t}},M6=t=>{let e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],r=[];e.forEach(s=>{(s.getAttribute("style")||"").match(S6)?n.push(s):r.push(s)}),n.forEach(s=>s.parentNode?.removeChild(s));let i=t.documentElement.innerHTML,o=r.map(s=>A6(s,i)).filter(s=>s);for(;o.length;){let s=[],a=o.shift();for(;a;)s.push(a),a=o.length&&o[0]?.element===a.element.nextElementSibling&&o[0].id===a.id?o.shift():null;let l=document.createElement("ul");s.forEach(d=>{let h=document.createElement("li");h.setAttribute("data-list",d.type),d.indent>1&&h.setAttribute("class",`ql-indent-${d.indent-1}`),h.innerHTML=d.element.innerHTML,l.appendChild(h)});let c=s[0]?.element,{parentNode:u}=c??{};c&&u?.replaceChild(l,c),s.slice(1).forEach(d=>{let{element:h}=d;u?.removeChild(h)})}};function aE(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&M6(t)}var N6=[aE,sE],O6=t=>{t.documentElement&&N6.forEach(e=>{e(t)})},IM=O6;var k6=yn("quill:clipboard"),R6=[[Node.TEXT_NODE,G6],[Node.TEXT_NODE,TM],["br",V6],[Node.ELEMENT_NODE,TM],[Node.ELEMENT_NODE,j6],[Node.ELEMENT_NODE,F6],[Node.ELEMENT_NODE,q6],["li",H6],["ol, ul",$6],["pre",B6],["tr",z6],["b",lE("bold")],["i",lE("italic")],["strike",lE("strike")],["style",U6]],P6=[yM,Op].reduce((t,e)=>(t[e.keyName]=e,t),{}),SM=[Np,fu,du,kp,Rp,Pp].reduce((t,e)=>(t[e.keyName]=e,t),{}),xM=(()=>{class t extends We{static DEFAULTS={matchers:[]};constructor(n,r){super(n,r),this.quill.root.addEventListener("copy",i=>this.onCaptureCopy(i,!1)),this.quill.root.addEventListener("cut",i=>this.onCaptureCopy(i,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],R6.concat(this.options.matchers??[]).forEach(i=>{let[o,s]=i;this.addMatcher(o,s)})}addMatcher(n,r){this.matchers.push([n,r])}convert(n){let{html:r,text:i}=n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o[Et.blotName])return new on.default().insert(i||"",{[Et.blotName]:o[Et.blotName]});if(!r)return new on.default().insert(i||"",o);let s=this.convertHTML(r);return mu(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||o.table)?s.compose(new on.default().retain(s.length()-1).delete(1)):s}normalizeHTML(n){IM(n)}convertHTML(n){let r=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(r);let i=r.body,o=new WeakMap,[s,a]=this.prepareMatching(i,o);return jp(this.quill.scroll,i,s,a,o)}dangerouslyPasteHTML(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D.sources.API;if(typeof n=="string"){let o=this.convert({html:n,text:""});this.quill.setContents(o,r),this.quill.setSelection(0,D.sources.SILENT)}else{let o=this.convert({html:r,text:""});this.quill.updateContents(new on.default().retain(n).concat(o),i),this.quill.setSelection(n+o.length(),D.sources.SILENT)}}onCaptureCopy(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();let[i]=this.quill.selection.getRange();if(i==null)return;let{html:o,text:s}=this.onCopy(i,r);n.clipboardData?.setData("text/plain",s),n.clipboardData?.setData("text/html",o),r&&pu({range:i,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(r=>r[0]!=="#").join(`
`)}onCapturePaste(n){if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();let r=this.quill.getSelection(!0);if(r==null)return;let i=n.clipboardData?.getData("text/html"),o=n.clipboardData?.getData("text/plain");if(!i&&!o){let a=n.clipboardData?.getData("text/uri-list");a&&(o=this.normalizeURIList(a))}let s=Array.from(n.clipboardData?.files||[]);if(!i&&s.length>0){this.quill.uploader.upload(r,s);return}if(i&&s.length>0){let a=new DOMParser().parseFromString(i,"text/html");if(a.body.childElementCount===1&&a.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(r,s);return}}this.onPaste(r,{html:i,text:o})}onCopy(n){let r=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:r}}onPaste(n,r){let{text:i,html:o}=r,s=this.quill.getFormat(n.index),a=this.convert({text:i,html:o},s);k6.log("onPaste",a,{text:i,html:o});let l=new on.default().retain(n.index).delete(n.length).concat(a);this.quill.updateContents(l,D.sources.USER),this.quill.setSelection(l.length()-n.length,D.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,r){let i=[],o=[];return this.matchers.forEach(s=>{let[a,l]=s;switch(a){case Node.TEXT_NODE:o.push(l);break;case Node.ELEMENT_NODE:i.push(l);break;default:Array.from(n.querySelectorAll(a)).forEach(c=>{r.has(c)?r.get(c)?.push(l):r.set(c,[l])});break}}),[i,o]}}return t})();function ys(t,e,n,r){return r.query(e)?t.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);let s=n?{[e]:n}:{};return i.insert(o.insert,S(S({},s),o.attributes))},new on.default):t}function mu(t,e){let n="";for(let r=t.ops.length-1;r>=0&&n.length<e.length;--r){let i=t.ops[r];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function ro(t,e){if(!(t instanceof Element))return!1;let n=e.query(t);return n&&n.prototype instanceof Be?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function L6(t,e){return t.previousElementSibling&&t.nextElementSibling&&!ro(t.previousElementSibling,e)&&!ro(t.nextElementSibling,e)}var Fp=new WeakMap;function AM(t){return t==null?!1:(Fp.has(t)||(t.tagName==="PRE"?Fp.set(t,!0):Fp.set(t,AM(t.parentNode))),Fp.get(t))}function jp(t,e,n,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,s)=>s(e,o,t),new on.default):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,s)=>{let a=jp(t,s,n,r,i);return s.nodeType===e.ELEMENT_NODE&&(a=n.reduce((l,c)=>c(s,l,t),a),a=(i.get(s)||[]).reduce((l,c)=>c(s,l,t),a)),o.concat(a)},new on.default):new on.default}function lE(t){return(e,n,r)=>ys(n,t,!0,r)}function F6(t,e,n){let r=$t.keys(t),i=at.keys(t),o=nn.keys(t),s={};return r.concat(i).concat(o).forEach(a=>{let l=n.query(a,R.ATTRIBUTE);l!=null&&(s[l.attrName]=l.value(t),s[l.attrName])||(l=P6[a],l!=null&&(l.attrName===a||l.keyName===a)&&(s[l.attrName]=l.value(t)||void 0),l=SM[a],l!=null&&(l.attrName===a||l.keyName===a)&&(l=SM[a],s[l.attrName]=l.value(t)||void 0))}),Object.entries(s).reduce((a,l)=>{let[c,u]=l;return ys(a,c,u,n)},e)}function j6(t,e,n){let r=n.query(t);if(r==null)return e;if(r.prototype instanceof Be){let i={},o=r.value(t);if(o!=null)return i[r.blotName]=o,new on.default().insert(i,r.formats(t,n))}else if(r.prototype instanceof as&&!mu(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return ys(e,r.blotName,r.formats(t,n),n);return e}function V6(t,e){return mu(e,`
`)||e.insert(`
`),e}function B6(t,e,n){let r=n.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(t,n):!0;return ys(e,"code-block",i,n)}function U6(){return new on.default}function H6(t,e,n){let r=n.query(t);if(r==null||r.blotName!=="list"||!mu(e,`
`))return e;let i=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((s,a)=>a.insert?a.attributes&&typeof a.attributes.indent=="number"?s.push(a):s.insert(a.insert,S({indent:i},a.attributes||{})):s,new on.default)}function $6(t,e,n){let r=t,i=r.tagName==="OL"?"ordered":"bullet",o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),ys(e,"list",i,n)}function TM(t,e,n){if(!mu(e,`
`)){if(ro(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let r=t.nextSibling;for(;r!=null;){if(ro(r,n))return e.insert(`
`);let i=n.query(r);if(i&&i.prototype instanceof gt)return e.insert(`
`);r=r.firstChild}}}return e}function q6(t,e,n){let r={},i=t.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,s)=>{let[a,l]=s;return ys(o,a,l,n)},e),parseFloat(i.textIndent||0)>0?new on.default().insert("	").concat(e):e}function z6(t,e,n){let r=t.parentElement?.tagName==="TABLE"?t.parentElement:t.parentElement?.parentElement;if(r!=null){let o=Array.from(r.querySelectorAll("tr")).indexOf(t)+1;return ys(e,"table",o,n)}return e}function G6(t,e,n){let r=t.data;if(t.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!AM(t)){if(r.trim().length===0&&r.includes(`
`)&&!L6(t,n))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&ro(t.parentElement,n)||t.previousSibling instanceof Element&&ro(t.previousSibling,n))&&(r=r.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&ro(t.parentElement,n)||t.nextSibling instanceof Element&&ro(t.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll("\xA0"," ")}return e.insert(r)}var NM=(()=>{class t extends We{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(n,r){super(n,r),this.quill.on(D.events.EDITOR_CHANGE,(i,o,s,a)=>{i===D.events.SELECTION_CHANGE?o&&a!==D.sources.SILENT&&(this.currentRange=o):i===D.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===D.sources.USER?this.record(o,s):this.transform(o)),this.currentRange=cE(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,r){if(this.stack[n].length===0)return;let i=this.stack[n].pop();if(!i)return;let o=this.quill.getContents(),s=i.delta.invert(o);this.stack[r].push({delta:s,range:cE(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,D.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,r){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(r),o=this.currentRange,s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){let a=this.stack.undo.pop();a&&(i=i.compose(a.delta),o=a.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){MM(this.stack.undo,n),MM(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,D.sources.USER);else{let r=Z6(this.quill.scroll,n.delta);this.quill.setSelection(r,D.sources.USER)}}}return t})();function MM(t,e){let n=e;for(let r=t.length-1;r>=0;r-=1){let i=t[r];t[r]={delta:n.transform(i.delta,!0),range:i.range&&cE(i.range,n)},n=i.delta.transform(n),t[r].delta.length()===0&&t.splice(r,1)}}function W6(t,e){let n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(r=>t.query(r,R.BLOCK)!=null):!1}function Z6(t,e){let n=e.reduce((i,o)=>i+(o.delete||0),0),r=e.length()-n;return W6(t,e)&&(r-=1),r}function cE(t,e){if(!t)return t;let n=e.transformPosition(t.index),r=e.transformPosition(t.index+t.length);return{index:n,length:r-n}}var OM=an(gn(),1);var K6=(()=>{class t extends We{constructor(n,r){super(n,r),n.root.addEventListener("drop",i=>{i.preventDefault();let o=null;if(document.caretRangeFromPoint)o=document.caretRangeFromPoint(i.clientX,i.clientY);else if(document.caretPositionFromPoint){let a=document.caretPositionFromPoint(i.clientX,i.clientY);o=document.createRange(),o.setStart(a.offsetNode,a.offset),o.setEnd(a.offsetNode,a.offset)}let s=o&&n.selection.normalizeNative(o);if(s){let a=n.selection.normalizedToRange(s);i.dataTransfer?.files&&this.upload(a,i.dataTransfer.files)}})}upload(n,r){let i=[];Array.from(r).forEach(o=>{o&&this.options.mimetypes?.includes(o.type)&&i.push(o)}),i.length>0&&this.options.handler.call(this,n,i)}}return t.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;let r=n.map(i=>new Promise(o=>{let s=new FileReader;s.onload=()=>{o(s.result)},s.readAsDataURL(i)}));Promise.all(r).then(i=>{let o=i.reduce((s,a)=>s.insert({image:a}),new OM.default().retain(e.index).delete(e.length));this.quill.updateContents(o,F.sources.USER),this.quill.setSelection(e.index+i.length,F.sources.SILENT)})}},t})(),kM=K6;var io=an(gn(),1);var RM=an(gn(),1);var Y6=["insertText","insertReplacementText"],uE=class extends We{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(D.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){pu({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){let r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new RM.default().retain(e.index).insert(n,r),D.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,D.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Y6.includes(e.inputType))return;let n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;let r=Q6(e);if(r==null)return;let i=this.quill.selection.normalizeNative(n),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){let e=this.quill.getSelection();e&&this.replaceText(e)}};function Q6(t){return typeof t.data=="string"?t.data:t.dataTransfer?.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}var PM=uE;var X6=/Mac/i.test(navigator.platform),J6=100,ez=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||X6&&t.key==="a"&&t.ctrlKey===!0),dE=class extends We{isListening=!1;selectionChangeDeadline=0;constructor(e,n){super(e,n),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:r,event:i}=n;if(!(r instanceof tn)||!r.uiNode)return!0;let o=getComputedStyle(r.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),D.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&ez(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+J6,this.isListening)return;this.isListening=!0;let e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){let e=document.getSelection();if(!e)return;let n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;let r=this.quill.scroll.find(n.startContainer);if(!(r instanceof tn)||!r.uiNode)return;let i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(i)}},LM=dE;D.register({"blots/block":et,"blots/block/embed":gt,"blots/break":Lt,"blots/container":Ln,"blots/cursor":to,"blots/embed":il,"blots/inline":Ft,"blots/scroll":gM,"blots/text":Je,"modules/clipboard":xM,"modules/history":NM,"modules/keyboard":hu,"modules/uploader":kM,"modules/input":PM,"modules/uiNode":LM});var Vp=D;var fE=class extends at{add(e,n){let r=0;if(n==="+1"||n==="-1"){let i=this.value(e)||0;r=n==="+1"?i+1:i-1}else typeof n=="number"&&(r=n);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}},tz=new fE("indent","ql-indent",{scope:R.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),FM=tz;var nz=(()=>{class t extends et{static blotName="blockquote";static tagName="blockquote"}return t})(),jM=nz;var rz=(()=>{class t extends et{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(n){return this.tagName.indexOf(n.tagName)+1}}return t})(),VM=rz;var hE=(()=>{class t extends Ln{}return t.blotName="list-container",t.tagName="OL",t})(),Bp=(()=>{class t extends et{static create(n){let r=super.create();return r.setAttribute("data-list",n),r}static formats(n){return n.getAttribute("data-list")||void 0}static register(){D.register(hE)}constructor(n,r){super(n,r);let i=r.ownerDocument.createElement("span"),o=s=>{if(!n.isEnabled())return;let a=this.statics.formats(r,n);a==="checked"?(this.format("list","unchecked"),s.preventDefault()):a==="unchecked"&&(this.format("list","checked"),s.preventDefault())};i.addEventListener("mousedown",o),i.addEventListener("touchstart",o),this.attachUI(i)}format(n,r){n===this.statics.blotName&&r?this.domNode.setAttribute("data-list",r):super.format(n,r)}}return t.blotName="list",t.tagName="LI",t})();hE.allowedChildren=[Bp];Bp.requiredContainer=hE;var iz=(()=>{class t extends Ft{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}return t})(),al=iz;var oz=(()=>{class t extends al{static blotName="italic";static tagName=["EM","I"]}return t})(),BM=oz;var vs=(()=>{class t extends Ft{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(n){let r=super.create(n);return r.setAttribute("href",this.sanitize(n)),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}static formats(n){return n.getAttribute("href")}static sanitize(n){return pE(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,r){n!==this.statics.blotName||!r?super.format(n,r):this.domNode.setAttribute("href",this.constructor.sanitize(r))}}return t})();function pE(t,e){let n=document.createElement("a");n.href=t;let r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}var sz=(()=>{class t extends Ft{static blotName="script";static tagName=["SUB","SUP"];static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}return t})(),UM=sz;var az=(()=>{class t extends al{static blotName="strike";static tagName=["S","STRIKE"]}return t})(),HM=az;var lz=(()=>{class t extends Ft{static blotName="underline";static tagName="U"}return t})(),$M=lz;var cz=(()=>{class t extends il{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");let r=super.create(n);return typeof n=="string"&&(window.katex.render(n,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",n)),r}static value(n){return n.getAttribute("data-value")}html(){let{formula:n}=this.value();return`<span>${n}</span>`}}return t})(),qM=cz;var zM=["alt","height","width"],uz=(()=>{class t extends Be{static blotName="image";static tagName="IMG";static create(n){let r=super.create(n);return typeof n=="string"&&r.setAttribute("src",this.sanitize(n)),r}static formats(n){return zM.reduce((r,i)=>(n.hasAttribute(i)&&(r[i]=n.getAttribute(i)),r),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return pE(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,r){zM.indexOf(n)>-1?r?this.domNode.setAttribute(n,r):this.domNode.removeAttribute(n):super.format(n,r)}}return t})(),GM=uz;var WM=["height","width"],dz=(()=>{class t extends gt{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(n){let r=super.create(n);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen","true"),r.setAttribute("src",this.sanitize(n)),r}static formats(n){return WM.reduce((r,i)=>(n.hasAttribute(i)&&(r[i]=n.getAttribute(i)),r),{})}static sanitize(n){return vs.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,r){WM.indexOf(n)>-1?r?this.domNode.setAttribute(n,r):this.domNode.removeAttribute(n):super.format(n,r)}html(){let{video:n}=this.value();return`<a href="${n}">${n}</a>`}}return t})(),ZM=dz;var Hp=an(gn(),1);var gu=new at("code-token","hljs",{scope:R.INLINE}),yu=(()=>{class t extends Ft{static formats(n,r){for(;n!=null&&n!==r.domNode;){if(n.classList&&n.classList.contains(Et.className))return super.formats(n,r);n=n.parentNode}}constructor(n,r,i){super(n,r,i),gu.add(this.domNode,i)}format(n,r){n!==t.blotName?super.format(n,r):r?gu.add(this.domNode,r):(gu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),gu.value(this.domNode)||this.unwrap()}}return t.blotName="code-token",t.className="ql-token",t})(),sn=class extends Et{static create(e){let n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),yu.blotName,!1),super.replaceWith(e,n)}},Up=(()=>{class t extends Mr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,r){n===sn.blotName&&(this.forceNext=!0,this.children.forEach(i=>{i.format(n,r)}))}formatAt(n,r,i,o){i===sn.blotName&&(this.forceNext=!0),super.formatAt(n,r,i,o)}highlight(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;let o=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,s=sn.formats(this.children.head.domNode);if(r||this.forceNext||this.cachedText!==o){if(o.trim().length>0||this.cachedText==null){let a=this.children.reduce((c,u)=>c.concat(P0(u,!1)),new Hp.default),l=n(o,s);a.diff(l).reduce((c,u)=>{let{retain:d,attributes:h}=u;return d?(h&&Object.keys(h).forEach(f=>{[sn.blotName,yu.blotName].includes(f)&&this.formatAt(c,d,f,h[f])}),c+d):c},0)}this.cachedText=o,this.forceNext=!1}}html(n,r){let[i]=this.children.find(n);return`<pre data-language="${i?sn.formats(i.domNode):"plain"}">
${gs(this.code(n,r))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){let r=sn.formats(this.children.head.domNode);r!==this.uiNode.value&&(this.uiNode.value=r)}}}return t.allowedChildren=[sn],t})();sn.requiredContainer=Up;sn.allowedChildren=[yu,to,Je,Lt];var fz=(t,e,n)=>{if(typeof t.versionString=="string"){let r=t.versionString.split(".")[0];if(parseInt(r,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value},vu=class extends We{static register(){D.register(yu,!0),D.register(sn,!0),D.register(Up,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(D.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Up))return;let n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r,s=n.ownerDocument.createElement("option");s.textContent=o,s.setAttribute("value",i),n.appendChild(s)}),n.addEventListener("change",()=>{e.format(sn.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=sn.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(D.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(D.sources.USER);let r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Up):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(D.sources.SILENT),r!=null&&this.quill.setSelection(r,D.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return gs(e).split(`
`).reduce((i,o,s)=>(s!==0&&i.insert(`
`,{[Et.blotName]:n}),i.insert(o)),new Hp.default);let r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Et.className),r.innerHTML=fz(this.options.hljs,n,e),jp(this.quill.scroll,r,[(i,o)=>{let s=gu.value(i);return s?o.compose(new Hp.default().retain(o.length(),{[yu.blotName]:s})):o}],[(i,o)=>i.data.split(`
`).reduce((s,a,l)=>(l!==0&&s.insert(`
`,{[Et.blotName]:n}),s.insert(a)),o)],new WeakMap)}};vu.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};var KM=an(gn(),1);var Nr=(()=>{class t extends et{static blotName="table";static tagName="TD";static create(n){let r=super.create();return n?r.setAttribute("data-row",n):r.setAttribute("data-row",qp()),r}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,r){n===t.blotName&&r?this.domNode.setAttribute("data-row",r):super.format(n,r)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return t})(),oo=(()=>{class t extends Ln{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let n=this.children.head.formats(),r=this.children.tail.formats(),i=this.next.children.head.formats(),o=this.next.children.tail.formats();return n.table===r.table&&n.table===i.table&&n.table===o.table}return!1}optimize(n){super.optimize(n),this.children.forEach(r=>{if(r.next==null)return;let i=r.formats(),o=r.next.formats();if(i.table!==o.table){let s=this.splitAfter(r);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}return t})(),mi=(()=>{class t extends Ln{static blotName="table-body";static tagName="TBODY"}return t})(),$p=(()=>{class t extends Ln{static blotName="table-container";static tagName="TABLE";balanceCells(){let n=this.descendants(oo),r=n.reduce((i,o)=>Math.max(o.children.length,i),0);n.forEach(i=>{new Array(r-i.children.length).fill(0).forEach(()=>{let o;i.children.head!=null&&(o=Nr.formats(i.children.head.domNode));let s=this.scroll.create(Nr.blotName,o);i.appendChild(s),s.optimize()})})}cells(n){return this.rows().map(r=>r.children.at(n))}deleteColumn(n){let[r]=this.descendant(mi);r==null||r.children.head==null||r.children.forEach(i=>{let o=i.children.at(n);o?.remove()})}insertColumn(n){let[r]=this.descendant(mi);r==null||r.children.head==null||r.children.forEach(i=>{let o=i.children.at(n),s=Nr.formats(i.children.head.domNode),a=this.scroll.create(Nr.blotName,s);i.insertBefore(a,o)})}insertRow(n){let[r]=this.descendant(mi);if(r==null||r.children.head==null)return;let i=qp(),o=this.scroll.create(oo.blotName);r.children.head.children.forEach(()=>{let a=this.scroll.create(Nr.blotName,i);o.appendChild(a)});let s=r.children.at(n);r.insertBefore(o,s)}rows(){let n=this.children.head;return n==null?[]:n.children.map(r=>r)}}return t.allowedChildren=[mi],t})();mi.requiredContainer=$p;mi.allowedChildren=[oo];oo.requiredContainer=mi;oo.allowedChildren=[Nr];Nr.requiredContainer=oo;function qp(){return`row-${Math.random().toString(36).slice(2,6)}`}var mE=class extends We{static register(){D.register(Nr),D.register(oo),D.register(mi),D.register($p)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants($p).forEach(e=>{e.balanceCells()})}deleteColumn(){let[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(D.sources.USER))}deleteRow(){let[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(D.sources.USER))}deleteTable(){let[e]=this.getTable();if(e==null)return;let n=e.offset();e.remove(),this.quill.update(D.sources.USER),this.quill.setSelection(n,D.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];let[n,r]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==Nr.blotName)return[null,null,null,-1];let i=n.parent;return[i.parent.parent,i,n,r]}insertColumn(e){let n=this.quill.getSelection();if(!n)return;let[r,i,o]=this.getTable(n);if(o==null)return;let s=o.cellOffset();r.insertColumn(s+e),this.quill.update(D.sources.USER);let a=i.rowOffset();e===0&&(a+=1),this.quill.setSelection(n.index+a,n.length,D.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){let n=this.quill.getSelection();if(!n)return;let[r,i,o]=this.getTable(n);if(o==null)return;let s=i.rowOffset();r.insertRow(s+e),this.quill.update(D.sources.USER),e>0?this.quill.setSelection(n,D.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,D.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){let r=this.quill.getSelection();if(r==null)return;let i=new Array(e).fill(0).reduce(o=>{let s=new Array(n).fill(`
`).join("");return o.insert(s,{table:qp()})},new KM.default().retain(r.index));this.quill.updateContents(i,D.sources.USER),this.quill.setSelection(r.index,D.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(D.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(D.events.TEXT_CHANGE,(r,i,o)=>{o===D.sources.USER&&this.balanceTables()}),!0):!1)})}},YM=mE;var JM=an(gn(),1);var QM=yn("quill:toolbar"),gE=(()=>{class t extends We{constructor(n,r){if(super(n,r),Array.isArray(this.options.container)){let i=document.createElement("div");i.setAttribute("role","toolbar"),hz(i,this.options.container),n.container?.parentNode?.insertBefore(i,n.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){QM.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{let o=this.options.handlers?.[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(D.events.EDITOR_CHANGE,()=>{let[i]=this.quill.selection.getRange();this.update(i)})}addHandler(n,r){this.handlers[n]=r}attach(n){let r=Array.from(n.classList).find(o=>o.indexOf("ql-")===0);if(!r)return;if(r=r.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[r]==null&&this.quill.scroll.query(r)==null){QM.warn("ignoring attaching to nonexistent format",r,n);return}let i=n.tagName==="SELECT"?"change":"click";n.addEventListener(i,o=>{let s;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;let l=n.options[n.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else n.classList.contains("ql-active")?s=!1:s=n.value||!n.hasAttribute("value"),o.preventDefault();this.quill.focus();let[a]=this.quill.selection.getRange();if(this.handlers[r]!=null)this.handlers[r].call(this,s);else if(this.quill.scroll.query(r).prototype instanceof Be){if(s=prompt(`Enter ${r}`),!s)return;this.quill.updateContents(new JM.default().retain(a.index).delete(a.length).insert({[r]:s}),D.sources.USER)}else this.quill.format(r,s,D.sources.USER);this.update(a)}),this.controls.push([r,n])}update(n){let r=n==null?{}:this.quill.getFormat(n);this.controls.forEach(i=>{let[o,s]=i;if(s.tagName==="SELECT"){let a=null;if(n==null)a=null;else if(r[o]==null)a=s.querySelector("option[selected]");else if(!Array.isArray(r[o])){let l=r[o];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),a=s.querySelector(`option[value="${l}"]`)}a==null?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(n==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){let a=r[o],l=a===s.getAttribute("value")||a!=null&&a.toString()===s.getAttribute("value")||a==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{let a=r[o]!=null;s.classList.toggle("ql-active",a),s.setAttribute("aria-pressed",a.toString())}})}}return t.DEFAULTS={},t})();function XM(t,e,n){let r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),n!=null?(r.value=n,r.setAttribute("aria-label",`${e}: ${n}`)):r.setAttribute("aria-label",e),t.appendChild(r)}function hz(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{let r=document.createElement("span");r.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")XM(r,i);else{let o=Object.keys(i)[0],s=i[o];Array.isArray(s)?pz(r,o,s):XM(r,o,s)}}),t.appendChild(r)})}function pz(t,e,n){let r=document.createElement("select");r.classList.add(`ql-${e}`),n.forEach(i=>{let o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),t.appendChild(r)}gE.DEFAULTS={container:null,handlers:{clean(){let t=this.quill.getSelection();if(t!=null)if(t.length===0){let e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,R.INLINE)!=null&&this.quill.format(n,!1,D.sources.USER)})}else this.quill.removeFormat(t.index,t.length,D.sources.USER)},direction(t){let{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",D.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,D.sources.USER),this.quill.format("direction",t,D.sources.USER)},indent(t){let e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,D.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,D.sources.USER)},list(t){let e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,D.sources.USER):this.quill.format("list","unchecked",D.sources.USER):this.quill.format("list",t,D.sources.USER)}}};var mz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',gz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',yz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',vz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',bz='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Ez='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',_z='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',wz='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',eN='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Cz='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Dz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Iz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Sz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Tz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',xz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Az='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Mz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Nz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Oz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',kz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Rz='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Pz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Lz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Fz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',jz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Vz='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Bz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Uz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Hz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',$z='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',qz='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',zz='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Gz='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',so={align:{"":mz,center:gz,right:yz,justify:vz},background:bz,blockquote:Ez,bold:_z,clean:wz,code:eN,"code-block":eN,color:Cz,direction:{"":Dz,rtl:Iz},formula:Sz,header:{1:Tz,2:xz,3:Az,4:Mz,5:Nz,6:Oz},italic:kz,image:Rz,indent:{"+1":Pz,"-1":Lz},link:Fz,list:{bullet:jz,check:Vz,ordered:Bz},script:{sub:Uz,super:Hz},strike:$z,table:qz,underline:zz,video:Gz};var Wz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',tN=0;function nN(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}var yE=class{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break;default:}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),nN(this.label,"aria-expanded"),nN(this.options,"aria-hidden")}buildItem(e){let n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");let r=e.getAttribute("value");return r&&n.setAttribute("data-value",r),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break;default:}}),n}buildLabel(){let e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Wz,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){let e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${tN}`,tN+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{let r=this.buildItem(n);e.appendChild(r),n.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){let r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);let n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}},ao=yE;var vE=class extends ao{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){let n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);let r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}},zp=vE;var bE=class extends ao{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=n[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);let r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}},Gp=bE;var Zz=t=>{let{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"},EE=class{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Zz(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){let n=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");let i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),s=0;if(o.right>i.right&&(s=i.right-o.right,this.root.style.left=`${n+s}px`),o.left<i.left&&(s=i.left-o.left,this.root.style.left=`${n+s}px`),o.bottom>i.bottom){let a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=`${r-l}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Wp=EE;var Kz=[!1,"center","right","justify"],Yz=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Qz=[!1,"serif","monospace"],Xz=["1","2","3",!1],Jz=["small",!1,"large","huge"],gi=class extends ol{constructor(e,n){super(e,n);let r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){let n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")r.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")r.innerHTML=n[o];else{let s=r.value||"";s!=null&&n[o][s]&&(r.innerHTML=n[o][s])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&bu(i,Kz),typeof n.align=="object"))return new Gp(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){let o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&bu(i,Yz,o==="background"?"#ffffff":"#000000"),new zp(i,n[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?bu(i,Qz):i.classList.contains("ql-header")?bu(i,Xz):i.classList.contains("ql-size")&&bu(i,Jz)),new ao(i)});let r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(F.events.EDITOR_CHANGE,r)}};gi.DEFAULTS=en({},ol.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{let e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});var ll=class extends Wp{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");let r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{let{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,F.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,F.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=e9(e);case"formula":{if(!e)break;let n=this.quill.getSelection(!0);if(n!=null){let r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,F.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",F.sources.USER),this.quill.setSelection(r+2,F.sources.USER)}break}default:}this.textbox.value="",this.hide()}};function e9(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function bu(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{let i=document.createElement("option");r===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),t.appendChild(i)})}var t9=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_E=class extends ll{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,n){super(e,n),this.quill.on(F.events.EDITOR_CHANGE,(r,i,o,s)=>{if(r===F.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===F.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;let a=this.quill.getLines(i.index,i.length);if(a.length===1){let l=this.quill.getBounds(i);l!=null&&this.position(l)}else{let l=a[a.length-1],c=this.quill.getIndex(l),u=Math.min(l.length()-1,i.index+i.length-c),d=this.quill.getBounds(new Gt(c,u));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(F.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;let e=this.quill.getSelection();if(e!=null){let n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){let n=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",n!==0&&(r.style.marginLeft=`${-1*n-r.offsetWidth/2}px`),n}},Eu=class extends gi{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=t9),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new _E(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),so),this.buildPickers(e.container.querySelectorAll("select"),so))}};Eu.DEFAULTS=en({},gi.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,D.sources.USER)}}}}});var n9=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],wE=class extends ll{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){let n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,F.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(F.events.SELECTION_CHANGE,(e,n,r)=>{if(e!=null){if(e.length===0&&r===F.sources.USER){let[i,o]=this.quill.scroll.descendant(vs,e.index);if(i!=null){this.linkRange=new Gt(e.index-o,i.length());let s=vs.formats(i.domNode);this.preview.textContent=s,this.preview.setAttribute("href",s),this.show();let a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}},Zp=class extends gi{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=n9),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),so),this.buildPickers(e.container.querySelectorAll("select"),so),this.tooltip=new wE(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,r)=>{e.handlers.link.call(e,!r.format.link)}))}};Zp.DEFAULTS=en({},gi.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){let e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);let{tooltip:r}=this.quill.theme;r.edit("link",n)}else this.quill.format("link",!1,D.sources.USER)}}}}});var rN=Zp;Vp.register({"attributors/attribute/direction":Op,"attributors/class/align":J0,"attributors/class/background":bM,"attributors/class/color":vM,"attributors/class/direction":tE,"attributors/class/font":rE,"attributors/class/size":iE,"attributors/style/align":Np,"attributors/style/background":fu,"attributors/style/color":du,"attributors/style/direction":kp,"attributors/style/font":Rp,"attributors/style/size":Pp},!0);Vp.register({"formats/align":J0,"formats/direction":tE,"formats/indent":FM,"formats/background":fu,"formats/color":du,"formats/font":rE,"formats/size":iE,"formats/blockquote":jM,"formats/code-block":Et,"formats/header":VM,"formats/list":Bp,"formats/bold":al,"formats/code":EM,"formats/italic":BM,"formats/link":vs,"formats/script":UM,"formats/strike":HM,"formats/underline":$M,"formats/formula":qM,"formats/image":GM,"formats/video":ZM,"modules/syntax":vu,"modules/table":YM,"modules/toolbar":gE,"themes/bubble":Eu,"themes/snow":rN,"ui/icons":so,"ui/picker":ao,"ui/icon-picker":Gp,"ui/color-picker":zp,"ui/tooltip":Wp},!0);var iN=Vp;function r9(t,e){if(t&1&&_e(0,"img",16),t&2){let n=Ge();we("src",n.thumbnailDataString,Tn)}}var Kp=class t{constructor(e,n){this.dbService=e;this.userService=n}thumbnailDataString=null;postTitle="";selectedCategories=[];postContent="";quillEditor=null;db;ngOnInit(){return A(this,null,function*(){})}ngAfterViewInit(){this.quillEditor=new iN("#editor",{theme:"snow",placeholder:"Write your article here...",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{header:[1,2,3,4,5,6,!1]}],["clean"]]}})}onThumbnailSelected(e){let n=e.target.files[0];if(n){let r=new FileReader;r.onload=()=>this.thumbnailDataString=r.result,r.readAsDataURL(n)}}submit(){return A(this,null,function*(){let e=document.getElementById("postTitle").value,n=document.getElementById("categorySelect"),r=Array.from(n.selectedOptions).map(s=>s.value),i=document.querySelector(".ql-editor").innerHTML,o=this.thumbnailDataString;if(!e||r.length===0||!i||!o){alert("Please fill out all fields before submitting.");return}try{let s={title:e,description:i,date:"TODAY",views:0,likes:0,image:o,author:{name:this.userService.getUserName()||"Guest",role:"Editor & Writer"},tags:r},a=yield this.dbService.addItem(s);console.log("Post added successfully with id:",a),alert("Post submitted!")}catch(s){console.error("Error adding post",s),alert("There was an error submitting your post.")}})}goBack(){window.history.back()}static \u0275fac=function(n){return new(n||t)(q(On),q(Ui))};static \u0275cmp=It({type:t,selectors:[["app-post"]],decls:31,vars:1,consts:[[1,"container"],[1,"back-container",3,"click"],["width","48","height","48","viewBox","0 0 48 48","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","24","cy","24","r","22","fill","white","stroke","black","stroke-width","2"],["d","M30 24H18","stroke","black","stroke-width","3","stroke-linecap","round"],["d","M22 20L18 24L22 28","stroke","black","stroke-width","3","stroke-linecap","round","stroke-linejoin","round"],[1,"label"],["type","file","accept","image/*",3,"change"],["class","thumb-preview",3,"src",4,"ngIf"],[1,"title"],["id","postTitle","placeholder","My first article...",1,"input"],["id","categorySelect",1,"input"],["value","","disabled","","selected",""],["id","toolbar"],["id","editor"],[1,"publish",3,"click"],[1,"thumb-preview",3,"src"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),ue("click",function(){return r.goBack()}),nt(),C(2,"svg",2),_e(3,"circle",3)(4,"path",4)(5,"path",5),T()(),rt(),C(6,"label",6)(7,"strong"),O(8,"Add Thumbnail"),T()(),C(9,"input",7),ue("change",function(o){return r.onThumbnailSelected(o)}),T(),it(10,r9,1,1,"img",8),C(11,"h1",9),O(12,"Create a New Post"),T(),_e(13,"input",10),C(14,"select",11)(15,"option",12),O(16,"Select a category"),T(),C(17,"option"),O(18,"Technology"),T(),C(19,"option"),O(20,"Design"),T(),C(21,"option"),O(22,"Science"),T(),C(23,"option"),O(24,"Blockchain"),T(),C(25,"option"),O(26,"Finance"),T()(),_e(27,"div",13)(28,"div",14),C(29,"button",15),ue("click",function(){return r.submit()}),O(30,"Publish"),T()()),n&2&&(j(10),we("ngIf",r.thumbnailDataString))},dependencies:[br,Ho],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:auto;padding:32px;font-family:Inter,sans-serif;background-color:#fff;min-height:100vh}.label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.thumb-preview[_ngcontent-%COMP%]{width:220px;margin:10px 0 20px;border-radius:6px}.title[_ngcontent-%COMP%]{margin:20px 0 10px}.input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e1e1e1;border-radius:6px;margin-bottom:20px;font-size:1rem;box-sizing:border-box}#editor[_ngcontent-%COMP%]{height:300px;margin-top:15px;border:1px solid #ddd}.publish[_ngcontent-%COMP%]{margin-top:20px;background:#000;color:#fff;padding:12px 22px;border-radius:8px;border:none;font-size:1.1rem;cursor:pointer}.back-container[_ngcontent-%COMP%]{cursor:pointer}"]})};var oN=[{path:"",component:xh,pathMatch:"full",canActivate:[ts]},{path:"post",component:Kp,pathMatch:"full",canActivate:[ts]},{path:"details/:id",component:Mh,pathMatch:"full",canActivate:[ts]},{path:"explore",component:Nh,pathMatch:"full",canActivate:[ts]},{path:"callback",component:vh},{path:"protected",component:yh,canActivate:[ts]}];var sN={auth0:{redirectUri:"https://deepaksingh6778.github.io/ArticleShare/#/callback"}};var aN={providers:[jg(),rv(),Qv(oN,Jv()),AS({domain:"dev-auf10bctliijewyd.us.auth0.com",clientId:"uExvmCJ4qs4TqVIZOYjjKqJgCOD2LnL4",authorizationParams:{redirect_uri:sN.auth0.redirectUri,scope:"openid profile email"}})]};var Yp=class t{constructor(e){this.auth=e;this.isAuthenticated$=this.auth.isAuthenticated$,this.user$=this.auth.user$}isAuthenticated$;user$;login(){this.auth.loginWithRedirect()}logout(){this.auth.logout({logoutParams:{returnTo:window.location.origin}})}static \u0275fac=function(n){return new(n||t)(B(es))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qp=class t{title="ArticleShare";authService=x(Yp);isAuthenticated$=this.authService.isAuthenticated$;user$=this.authService.user$;login=()=>this.authService.login();logout=()=>this.authService.logout();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&_e(0,"router-outlet")},dependencies:[Sc],encapsulation:2})};Cv(Qp,aN).catch(t=>console.error(t));
